<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="A page with notes about HTML & CSS"><meta name=author content=irubenboy><link href=https://irubenboy.github.io/react/tema_2/page-3/ rel=canonical><link href=../page-2/ rel=prev><link href=../page-4/ rel=next><link rel=icon href=../../assets/icon.png><meta name=generator content="mkdocs-1.5.3, mkdocs-material-9.0.6"><title>3 Efectos - Desarrollo web</title><link rel=stylesheet href=../../assets/stylesheets/main.558e4712.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.2505c338.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../extra/extra.css><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script>"undefined"!=typeof __md_analytics&&__md_analytics()</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary data-md-color-accent> <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#3-efectos class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../.. title="Desarrollo web" class="md-header__button md-logo" aria-label="Desarrollo web" data-md-component=logo> <img src=../../assets/icon.png alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Desarrollo web </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> 3 Efectos </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media data-md-color-scheme=default data-md-color-primary data-md-color-accent aria-label="Switch to dark mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_2 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg> </label> <input class=md-option data-md-color-media data-md-color-scheme=slate data-md-color-primary data-md-color-accent aria-label="Switch to light mode" type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg> </label> </form> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/irubenboy/react title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> irubenboy/java </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--integrated" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title="Desarrollo web" class="md-nav__button md-logo" aria-label="Desarrollo web" data-md-component=logo> <img src=../../assets/icon.png alt=logo> </a> Desarrollo web </label> <div class=md-nav__source> <a href=https://github.com/irubenboy/react title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> irubenboy/java </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " data-md-toggle=__nav_1 type=checkbox id=__nav_1> <label class=md-nav__link for=__nav_1 tabindex=0 aria-expanded=false> Tema 1 - Introducci贸n a React <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Tema 1 - Introducci贸n a React" data-md-level=1> <label class=md-nav__title for=__nav_1> <span class="md-nav__icon md-icon"></span> Tema 1 - Introducci贸n a React </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../tema_1/page-1/ class=md-nav__link> 1 Introducci贸n a React </a> </li> <li class=md-nav__item> <a href=../../tema_1/page-2/ class=md-nav__link> 2 JSX </a> </li> <li class=md-nav__item> <a href=../../tema_1/page-3/ class=md-nav__link> 3 Componentes </a> </li> <li class=md-nav__item> <a href=../../tema_1/page-4/ class=md-nav__link> Proyecto </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " data-md-toggle=__nav_2 type=checkbox id=__nav_2 checked> <label class=md-nav__link for=__nav_2 tabindex=0 aria-expanded=true> Tema 2 - Hooks <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Tema 2 - Hooks" data-md-level=1> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Tema 2 - Hooks </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../page-1/ class=md-nav__link> 1 Introducci贸n a los Hooks </a> </li> <li class=md-nav__item> <a href=../page-2/ class=md-nav__link> 2 Estados </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> 3 Efectos <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> 3 Efectos </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#introduccion class=md-nav__link> Introducci贸n </a> </li> <li class=md-nav__item> <a href=#useeffect class=md-nav__link> useEffect </a> </li> <li class=md-nav__item> <a href=#dependencias class=md-nav__link> Dependencias </a> </li> <li class=md-nav__item> <a href=#proyecto-mouseeffect class=md-nav__link> Proyecto MouseEffect </a> </li> <li class=md-nav__item> <a href=#retorno-de-un-useeffect class=md-nav__link> Retorno de un useEffect </a> </li> <li class=md-nav__item> <a href=#multiples-useeffect class=md-nav__link> M煤ltiples useEffect </a> </li> <li class=md-nav__item> <a href=#reactstrictmode class=md-nav__link> React.StrictMode </a> </li> <li class=md-nav__item> <a href=#problemas-useeffect class=md-nav__link> Problemas useEffect </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../page-4/ class=md-nav__link> Proyecto </a> </li> <li class=md-nav__item> <a href=../page-5/ class=md-nav__link> 4 Obtenci贸n de datos </a> </li> <li class=md-nav__item> <a href=../page-6/ class=md-nav__link> 5 Custom Hooks </a> </li> <li class=md-nav__item> <a href=../page-7/ class=md-nav__link> Proyecto </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " data-md-toggle=__nav_3 type=checkbox id=__nav_3> <label class=md-nav__link for=__nav_3 tabindex=0 aria-expanded=false> Tema 3 - Navegaci贸n <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Tema 3 - Navegaci贸n" data-md-level=1> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Tema 3 - Navegaci贸n </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../tema_3/page-1/ class=md-nav__link> 1 Formularios </a> </li> <li class=md-nav__item> <a href=../../tema_3/page-2/ class=md-nav__link> Proyecto Formularios </a> </li> <li class=md-nav__item> <a href=../../tema_3/page-3/ class=md-nav__link> 2 Contexto </a> </li> <li class=md-nav__item> <a href=../../tema_3/page-4/ class=md-nav__link> 3 Cambios de estados complejos </a> </li> <li class=md-nav__item> <a href=../../tema_3/page-5/ class=md-nav__link> Proyecto Context </a> </li> <li class=md-nav__item> <a href=../../tema_3/page-6/ class=md-nav__link> 4 Navegaci贸n </a> </li> <li class=md-nav__item> <a href=../../tema_3/page-7/ class=md-nav__link> 5 React Router </a> </li> <li class=md-nav__item> <a href=../../tema_3/page-8/ class=md-nav__link> Proyecto Router </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=3-efectos>3 Efectos<a class=headerlink href=#3-efectos title="Permanent link">&para;</a></h1> <h2 id=introduccion>Introducci贸n<a class=headerlink href=#introduccion title="Permanent link">&para;</a></h2> <p>En React, los <strong>efectos</strong> son acciones que ocurren fuera del flujo de renderizado normal y que generalmente est谩n relacionadas con la interacci贸n con el DOM, llamadas a servicios web, suscripciones a eventos o cualquier otra operaci贸n as铆ncrona.</p> <p>En versiones anteriores de React, para manejar efectos secundarios, se utilizaban principalmente los m茅todos de ciclo de vida de los componentes de clase, como <code>componentDidMount</code> y <code>componentDidUpdate</code>. Sin embargo, con la introducci贸n de React Hooks en React 16.8, la gesti贸n de efectos secundarios se ha vuelto m谩s sencilla y flexible.</p> <p>En el contexto de React Hooks, el hook <code>useEffect</code> se utiliza para manejar efectos secundarios en componentes funcionales.</p> <h2 id=useeffect>useEffect<a class=headerlink href=#useeffect title="Permanent link">&para;</a></h2> <p>El <code>useEffect</code> es un hook que nos permite ejecutar c贸digo arbitrario cuando el componente se monta en el DOM y cada vez que se actualiza las dependencias que le indiquemos. El <code>useEffect</code> es un m茅todo que recibe dos par谩metros: un <em>callback</em> que se ejecutar谩 cuando se monta el DOM, ya sea al principio o a cambiar el estado de alguna de las dependencias (este par谩metro es obligatorio); y una lista de dependencias de las que depender谩 el <code>useEffect</code>, que en caso de que cambien de estado producir谩 una nueva llamada del callback:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nx>useEffect</span><span class=p>(</span><span class=nx>callback</span><span class=p>,</span><span class=w> </span><span class=p>[</span><span class=nx>dependencias</span><span class=p>])</span>
</code></pre></div> <p>El <code>useEffect</code> se ejecuta m铆nimo una vez, cuando el componente se monta por primera vez en el DOM.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a><span class=nx>useEffect</span><span class=p>(()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a><span class=w>    </span><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;Probando use effect&#39;</span><span class=p>)</span>
<a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a><span class=p>})</span>
<a id=__codelineno-1-4 name=__codelineno-1-4 href=#__codelineno-1-4></a>
<a id=__codelineno-1-5 name=__codelineno-1-5 href=#__codelineno-1-5></a><span class=kd>const</span><span class=w> </span><span class=nx>App</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-1-6 name=__codelineno-1-6 href=#__codelineno-1-6></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<a id=__codelineno-1-7 name=__codelineno-1-7 href=#__codelineno-1-7></a><span class=w>        </span><span class=o>&lt;</span><span class=nx>h1</span><span class=o>&gt;</span><span class=nx>Prueba</span><span class=w> </span><span class=nx>del</span><span class=w> </span><span class=nx>efecto</span><span class=o>&lt;</span><span class=err>/h1&gt;</span>
<a id=__codelineno-1-8 name=__codelineno-1-8 href=#__codelineno-1-8></a><span class=w>    </span><span class=p>)</span>
<a id=__codelineno-1-9 name=__codelineno-1-9 href=#__codelineno-1-9></a><span class=p>}</span>
</code></pre></div> <h2 id=dependencias>Dependencias<a class=headerlink href=#dependencias title="Permanent link">&para;</a></h2> <p>Las dependencias del <code>useEffect</code> son las variables de las que depende el <em>efecto</em> en s铆, es decir, las variables que si cambian de valor producir谩n que el <em>callback</em> del efecto se vuelva a ejecutar.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a><span class=kd>const</span><span class=w> </span><span class=nx>App</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-2-2 name=__codelineno-2-2 href=#__codelineno-2-2></a><span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=p>[</span><span class=nx>state</span><span class=p>,</span><span class=w> </span><span class=nx>setState</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useState</span><span class=p>(</span><span class=kc>false</span><span class=p>)</span>
<a id=__codelineno-2-3 name=__codelineno-2-3 href=#__codelineno-2-3></a>
<a id=__codelineno-2-4 name=__codelineno-2-4 href=#__codelineno-2-4></a><span class=w>    </span><span class=nx>useEffect</span><span class=p>(()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-2-5 name=__codelineno-2-5 href=#__codelineno-2-5></a><span class=w>        </span><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;Ejecutando&#39;</span><span class=p>)</span><span class=w>    </span>
<a id=__codelineno-2-6 name=__codelineno-2-6 href=#__codelineno-2-6></a><span class=w>    </span><span class=p>},</span><span class=w> </span><span class=p>[</span><span class=nx>state</span><span class=p>])</span>
<a id=__codelineno-2-7 name=__codelineno-2-7 href=#__codelineno-2-7></a>
<a id=__codelineno-2-8 name=__codelineno-2-8 href=#__codelineno-2-8></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<a id=__codelineno-2-9 name=__codelineno-2-9 href=#__codelineno-2-9></a><span class=w>        </span><span class=o>&lt;&gt;</span>
<a id=__codelineno-2-10 name=__codelineno-2-10 href=#__codelineno-2-10></a><span class=w>            </span><span class=o>&lt;</span><span class=nx>h1</span><span class=o>&gt;</span><span class=nx>Ejemplo</span><span class=w> </span><span class=nx>de</span><span class=w> </span><span class=nx>useEffect</span><span class=o>&lt;</span><span class=err>/h1&gt;</span>
<a id=__codelineno-2-11 name=__codelineno-2-11 href=#__codelineno-2-11></a><span class=w>            </span><span class=o>&lt;</span><span class=nx>button</span><span class=w> </span><span class=nx>onClick</span><span class=o>=</span><span class=p>{()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>setState</span><span class=p>(</span><span class=o>!</span><span class=nx>state</span><span class=p>)}</span><span class=o>&gt;</span><span class=nx>Cambiar</span><span class=w> </span><span class=nx>estado</span><span class=o>&lt;</span><span class=err>/button&gt;</span>
<a id=__codelineno-2-12 name=__codelineno-2-12 href=#__codelineno-2-12></a><span class=w>        </span><span class=o>&lt;</span><span class=err>/&gt;</span>
<a id=__codelineno-2-13 name=__codelineno-2-13 href=#__codelineno-2-13></a><span class=w>    </span><span class=p>)</span>
<a id=__codelineno-2-14 name=__codelineno-2-14 href=#__codelineno-2-14></a><span class=p>}</span>
</code></pre></div> <p>En el ejemplo anterior se mostrar谩 el <code>console.log</code> cada vez que cambie el estado de la variable <code>state</code>. La primera ejecuci贸n se hace cuando se monta el componente en el DOM.</p> <p>En caso de que no se indiquen dependencias, el efecto ser谩 ejecutado <strong>cada vez que se renderice el componente</strong>, lo que a veces puede ser contraproducente para nuestro proyecto:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a><span class=kd>const</span><span class=w> </span><span class=nx>App</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-3-2 name=__codelineno-3-2 href=#__codelineno-3-2></a><span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=p>[</span><span class=nx>state</span><span class=p>,</span><span class=w> </span><span class=nx>setState</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useState</span><span class=p>(</span><span class=kc>false</span><span class=p>)</span>
<a id=__codelineno-3-3 name=__codelineno-3-3 href=#__codelineno-3-3></a>
<a id=__codelineno-3-4 name=__codelineno-3-4 href=#__codelineno-3-4></a><span class=w>    </span><span class=nx>useEffect</span><span class=p>(()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-3-5 name=__codelineno-3-5 href=#__codelineno-3-5></a><span class=w>        </span><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;Ejecutando&#39;</span><span class=p>)</span><span class=w>    </span>
<a id=__codelineno-3-6 name=__codelineno-3-6 href=#__codelineno-3-6></a><span class=w>    </span><span class=p>})</span>
<a id=__codelineno-3-7 name=__codelineno-3-7 href=#__codelineno-3-7></a>
<a id=__codelineno-3-8 name=__codelineno-3-8 href=#__codelineno-3-8></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<a id=__codelineno-3-9 name=__codelineno-3-9 href=#__codelineno-3-9></a><span class=w>        </span><span class=o>&lt;&gt;</span>
<a id=__codelineno-3-10 name=__codelineno-3-10 href=#__codelineno-3-10></a><span class=w>            </span><span class=o>&lt;</span><span class=nx>h1</span><span class=o>&gt;</span><span class=nx>Ejemplo</span><span class=w> </span><span class=nx>de</span><span class=w> </span><span class=nx>useEffect</span><span class=o>&lt;</span><span class=err>/h1&gt;</span>
<a id=__codelineno-3-11 name=__codelineno-3-11 href=#__codelineno-3-11></a><span class=w>            </span><span class=o>&lt;</span><span class=nx>button</span><span class=w> </span><span class=nx>onClick</span><span class=o>=</span><span class=p>{()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>setState</span><span class=p>(</span><span class=o>!</span><span class=nx>state</span><span class=p>)}</span><span class=o>&gt;</span><span class=nx>Cambiar</span><span class=w> </span><span class=nx>estado</span><span class=o>&lt;</span><span class=err>/button&gt;</span>
<a id=__codelineno-3-12 name=__codelineno-3-12 href=#__codelineno-3-12></a><span class=w>        </span><span class=o>&lt;</span><span class=err>/&gt;</span>
<a id=__codelineno-3-13 name=__codelineno-3-13 href=#__codelineno-3-13></a><span class=w>    </span><span class=p>)</span>
<a id=__codelineno-3-14 name=__codelineno-3-14 href=#__codelineno-3-14></a><span class=p>}</span>
</code></pre></div> <p>Para ejecutar el efecto una 煤nica vez y evitar que se realice en cada renderizado sin que dependa de ning煤n estado, es conveniente que la lista de las dependencias este vac铆o.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a><span class=kd>const</span><span class=w> </span><span class=nx>App</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-4-2 name=__codelineno-4-2 href=#__codelineno-4-2></a><span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=p>[</span><span class=nx>state</span><span class=p>,</span><span class=w> </span><span class=nx>setState</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useState</span><span class=p>(</span><span class=kc>false</span><span class=p>)</span>
<a id=__codelineno-4-3 name=__codelineno-4-3 href=#__codelineno-4-3></a>
<a id=__codelineno-4-4 name=__codelineno-4-4 href=#__codelineno-4-4></a><span class=w>    </span><span class=nx>useEffect</span><span class=p>(()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-4-5 name=__codelineno-4-5 href=#__codelineno-4-5></a><span class=w>        </span><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;Ejecutando&#39;</span><span class=p>)</span><span class=w>    </span>
<a id=__codelineno-4-6 name=__codelineno-4-6 href=#__codelineno-4-6></a><span class=w>    </span><span class=p>},</span><span class=w> </span><span class=p>[])</span>
<a id=__codelineno-4-7 name=__codelineno-4-7 href=#__codelineno-4-7></a>
<a id=__codelineno-4-8 name=__codelineno-4-8 href=#__codelineno-4-8></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<a id=__codelineno-4-9 name=__codelineno-4-9 href=#__codelineno-4-9></a><span class=w>        </span><span class=o>&lt;&gt;</span>
<a id=__codelineno-4-10 name=__codelineno-4-10 href=#__codelineno-4-10></a><span class=w>            </span><span class=o>&lt;</span><span class=nx>h1</span><span class=o>&gt;</span><span class=nx>Ejemplo</span><span class=w> </span><span class=nx>de</span><span class=w> </span><span class=nx>useEffect</span><span class=o>&lt;</span><span class=err>/h1&gt;</span>
<a id=__codelineno-4-11 name=__codelineno-4-11 href=#__codelineno-4-11></a><span class=w>            </span><span class=o>&lt;</span><span class=nx>button</span><span class=w> </span><span class=nx>onClick</span><span class=o>=</span><span class=p>{()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>setState</span><span class=p>(</span><span class=o>!</span><span class=nx>state</span><span class=p>)}</span><span class=o>&gt;</span><span class=nx>Cambiar</span><span class=w> </span><span class=nx>estado</span><span class=o>&lt;</span><span class=err>/button&gt;</span>
<a id=__codelineno-4-12 name=__codelineno-4-12 href=#__codelineno-4-12></a><span class=w>        </span><span class=o>&lt;</span><span class=err>/&gt;</span>
<a id=__codelineno-4-13 name=__codelineno-4-13 href=#__codelineno-4-13></a><span class=w>    </span><span class=p>)</span>
<a id=__codelineno-4-14 name=__codelineno-4-14 href=#__codelineno-4-14></a><span class=p>}</span>
</code></pre></div> <h2 id=proyecto-mouseeffect>Proyecto MouseEffect<a class=headerlink href=#proyecto-mouseeffect title="Permanent link">&para;</a></h2> <p>En este proyecto vamos a crear un componente que muestre una bola que persiga al puntero por toda la pantalla. En nuestro componente principal vamos a introducir el componente dentro de un main:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-5-1 name=__codelineno-5-1 href=#__codelineno-5-1></a><span class=kd>function</span><span class=w> </span><span class=nx>App</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-5-2 name=__codelineno-5-2 href=#__codelineno-5-2></a><span class=w>  </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<a id=__codelineno-5-3 name=__codelineno-5-3 href=#__codelineno-5-3></a><span class=w>    </span><span class=o>&lt;</span><span class=nx>main</span><span class=o>&gt;</span>
<a id=__codelineno-5-4 name=__codelineno-5-4 href=#__codelineno-5-4></a><span class=w>      </span><span class=o>&lt;</span><span class=nx>FollowMouse</span><span class=w> </span><span class=o>/&gt;</span>
<a id=__codelineno-5-5 name=__codelineno-5-5 href=#__codelineno-5-5></a><span class=w>    </span><span class=o>&lt;</span><span class=err>/main&gt;</span>
<a id=__codelineno-5-6 name=__codelineno-5-6 href=#__codelineno-5-6></a><span class=w>  </span><span class=p>)</span>
<a id=__codelineno-5-7 name=__codelineno-5-7 href=#__codelineno-5-7></a><span class=p>}</span>
<a id=__codelineno-5-8 name=__codelineno-5-8 href=#__codelineno-5-8></a>
<a id=__codelineno-5-9 name=__codelineno-5-9 href=#__codelineno-5-9></a><span class=k>export</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=nx>App</span>
</code></pre></div> <p>En nuestro componente <code>FollowMouse</code> vamos a tener los elementos necesarios para crear la bola, as铆 como un bot贸n que cambie el estado.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-6-1 name=__codelineno-6-1 href=#__codelineno-6-1></a><span class=kd>const</span><span class=w> </span><span class=nx>FollowMouse</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-6-2 name=__codelineno-6-2 href=#__codelineno-6-2></a><span class=w>  </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<a id=__codelineno-6-3 name=__codelineno-6-3 href=#__codelineno-6-3></a><span class=w>    </span><span class=o>&lt;&gt;</span>
<a id=__codelineno-6-4 name=__codelineno-6-4 href=#__codelineno-6-4></a><span class=w>      </span><span class=o>&lt;</span><span class=nx>div</span><span class=w> </span><span class=nx>style</span><span class=o>=</span><span class=p>{{</span>
<a id=__codelineno-6-5 name=__codelineno-6-5 href=#__codelineno-6-5></a><span class=w>        </span><span class=nx>position</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;absolute&#39;</span><span class=p>,</span>
<a id=__codelineno-6-6 name=__codelineno-6-6 href=#__codelineno-6-6></a><span class=w>        </span><span class=nx>backgroundColor</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;rgba(0, 0, 0, 0.5)&#39;</span><span class=p>,</span>
<a id=__codelineno-6-7 name=__codelineno-6-7 href=#__codelineno-6-7></a><span class=w>        </span><span class=nx>border</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;3px solid #fff&#39;</span><span class=p>,</span>
<a id=__codelineno-6-8 name=__codelineno-6-8 href=#__codelineno-6-8></a><span class=w>        </span><span class=nx>borderRadius</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;50%&#39;</span><span class=p>,</span>
<a id=__codelineno-6-9 name=__codelineno-6-9 href=#__codelineno-6-9></a><span class=w>        </span><span class=nx>opacity</span><span class=o>:</span><span class=w> </span><span class=mf>0.8</span><span class=p>,</span>
<a id=__codelineno-6-10 name=__codelineno-6-10 href=#__codelineno-6-10></a><span class=w>        </span><span class=nx>pointerEvents</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;none&#39;</span><span class=p>,</span>
<a id=__codelineno-6-11 name=__codelineno-6-11 href=#__codelineno-6-11></a><span class=w>        </span><span class=nx>left</span><span class=o>:</span><span class=w> </span><span class=o>-</span><span class=mf>20</span><span class=p>,</span>
<a id=__codelineno-6-12 name=__codelineno-6-12 href=#__codelineno-6-12></a><span class=w>        </span><span class=nx>top</span><span class=o>:</span><span class=w> </span><span class=o>-</span><span class=mf>20</span><span class=p>,</span>
<a id=__codelineno-6-13 name=__codelineno-6-13 href=#__codelineno-6-13></a><span class=w>        </span><span class=nx>width</span><span class=o>:</span><span class=w> </span><span class=mf>40</span><span class=p>,</span>
<a id=__codelineno-6-14 name=__codelineno-6-14 href=#__codelineno-6-14></a><span class=w>        </span><span class=nx>height</span><span class=o>:</span><span class=w> </span><span class=mf>40</span><span class=p>,</span>
<a id=__codelineno-6-15 name=__codelineno-6-15 href=#__codelineno-6-15></a><span class=w>        </span><span class=nx>transform</span><span class=o>:</span><span class=w> </span><span class=sb>`translate(0px, 0px)`</span>
<a id=__codelineno-6-16 name=__codelineno-6-16 href=#__codelineno-6-16></a><span class=w>      </span><span class=p>}}</span><span class=o>/&gt;</span>
<a id=__codelineno-6-17 name=__codelineno-6-17 href=#__codelineno-6-17></a><span class=w>      </span><span class=o>&lt;</span><span class=nx>button</span><span class=o>&gt;</span><span class=nx>Activar</span><span class=w> </span><span class=nx>seguir</span><span class=w> </span><span class=nx>puntero</span><span class=o>&lt;</span><span class=err>/button&gt;</span>
<a id=__codelineno-6-18 name=__codelineno-6-18 href=#__codelineno-6-18></a><span class=w>    </span><span class=o>&lt;</span><span class=err>/&gt;</span>
<a id=__codelineno-6-19 name=__codelineno-6-19 href=#__codelineno-6-19></a><span class=w>  </span><span class=p>)</span>
<a id=__codelineno-6-20 name=__codelineno-6-20 href=#__codelineno-6-20></a><span class=p>}</span>
</code></pre></div> <p>A continuaci贸n, se indica los estilos de los ficheros <em>index.css</em> para estilos globales y <em>App.css</em> para el estilo de nuestro componente:</p> <div class="tabbed-set tabbed-alternate" data-tabs=1:2><input checked=checked id=__tabbed_1_1 name=__tabbed_1 type=radio><input id=__tabbed_1_2 name=__tabbed_1 type=radio><div class=tabbed-labels><label for=__tabbed_1_1>index.css</label><label for=__tabbed_1_2>App.css</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code><a id=__codelineno-7-1 name=__codelineno-7-1 href=#__codelineno-7-1></a><span class=p>:</span><span class=nd>root</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-7-2 name=__codelineno-7-2 href=#__codelineno-7-2></a><span class=w>  </span><span class=k>font-family</span><span class=p>:</span><span class=w> </span><span class=n>Inter</span><span class=p>,</span><span class=w> </span><span class=n>Avenir</span><span class=p>,</span><span class=w> </span><span class=n>Helvetica</span><span class=p>,</span><span class=w> </span><span class=n>Arial</span><span class=p>,</span><span class=w> </span><span class=kc>sans-serif</span><span class=p>;</span>
<a id=__codelineno-7-3 name=__codelineno-7-3 href=#__codelineno-7-3></a><span class=w>  </span><span class=k>font-size</span><span class=p>:</span><span class=w> </span><span class=mi>16</span><span class=kt>px</span><span class=p>;</span>
<a id=__codelineno-7-4 name=__codelineno-7-4 href=#__codelineno-7-4></a><span class=w>  </span><span class=k>line-height</span><span class=p>:</span><span class=w> </span><span class=mi>24</span><span class=kt>px</span><span class=p>;</span>
<a id=__codelineno-7-5 name=__codelineno-7-5 href=#__codelineno-7-5></a><span class=w>  </span><span class=k>font-weight</span><span class=p>:</span><span class=w> </span><span class=mi>400</span><span class=p>;</span>
<a id=__codelineno-7-6 name=__codelineno-7-6 href=#__codelineno-7-6></a>
<a id=__codelineno-7-7 name=__codelineno-7-7 href=#__codelineno-7-7></a><span class=w>  </span><span class=k>color-scheme</span><span class=p>:</span><span class=w> </span><span class=n>light</span><span class=w> </span><span class=n>dark</span><span class=p>;</span>
<a id=__codelineno-7-8 name=__codelineno-7-8 href=#__codelineno-7-8></a><span class=w>  </span><span class=k>color</span><span class=p>:</span><span class=w> </span><span class=nb>rgba</span><span class=p>(</span><span class=mi>255</span><span class=p>,</span><span class=w> </span><span class=mi>255</span><span class=p>,</span><span class=w> </span><span class=mi>255</span><span class=p>,</span><span class=w> </span><span class=mf>0.87</span><span class=p>);</span>
<a id=__codelineno-7-9 name=__codelineno-7-9 href=#__codelineno-7-9></a><span class=w>  </span><span class=k>background-color</span><span class=p>:</span><span class=w> </span><span class=mh>#242424</span><span class=p>;</span>
<a id=__codelineno-7-10 name=__codelineno-7-10 href=#__codelineno-7-10></a>
<a id=__codelineno-7-11 name=__codelineno-7-11 href=#__codelineno-7-11></a><span class=w>  </span><span class=k>font-synthesis</span><span class=p>:</span><span class=w> </span><span class=kc>none</span><span class=p>;</span>
<a id=__codelineno-7-12 name=__codelineno-7-12 href=#__codelineno-7-12></a><span class=w>  </span><span class=n>text-rendering</span><span class=p>:</span><span class=w> </span><span class=kc>optimizeLegibility</span><span class=p>;</span>
<a id=__codelineno-7-13 name=__codelineno-7-13 href=#__codelineno-7-13></a><span class=w>  </span><span class=kp>-webkit-</span><span class=n>font-smoothing</span><span class=p>:</span><span class=w> </span><span class=n>antialiased</span><span class=p>;</span>
<a id=__codelineno-7-14 name=__codelineno-7-14 href=#__codelineno-7-14></a><span class=w>  </span><span class=kp>-moz-</span><span class=n>osx-font-smoothing</span><span class=p>:</span><span class=w> </span><span class=n>grayscale</span><span class=p>;</span>
<a id=__codelineno-7-15 name=__codelineno-7-15 href=#__codelineno-7-15></a><span class=w>  </span><span class=kp>-webkit-</span><span class=n>text-size-adjust</span><span class=p>:</span><span class=w> </span><span class=mi>100</span><span class=kt>%</span><span class=p>;</span>
<a id=__codelineno-7-16 name=__codelineno-7-16 href=#__codelineno-7-16></a><span class=p>}</span>
<a id=__codelineno-7-17 name=__codelineno-7-17 href=#__codelineno-7-17></a>
<a id=__codelineno-7-18 name=__codelineno-7-18 href=#__codelineno-7-18></a><span class=nt>a</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-7-19 name=__codelineno-7-19 href=#__codelineno-7-19></a><span class=w>  </span><span class=k>font-weight</span><span class=p>:</span><span class=w> </span><span class=mi>500</span><span class=p>;</span>
<a id=__codelineno-7-20 name=__codelineno-7-20 href=#__codelineno-7-20></a><span class=w>  </span><span class=k>color</span><span class=p>:</span><span class=w> </span><span class=mh>#646cff</span><span class=p>;</span>
<a id=__codelineno-7-21 name=__codelineno-7-21 href=#__codelineno-7-21></a><span class=w>  </span><span class=k>text-decoration</span><span class=p>:</span><span class=w> </span><span class=kc>inherit</span><span class=p>;</span>
<a id=__codelineno-7-22 name=__codelineno-7-22 href=#__codelineno-7-22></a><span class=p>}</span>
<a id=__codelineno-7-23 name=__codelineno-7-23 href=#__codelineno-7-23></a>
<a id=__codelineno-7-24 name=__codelineno-7-24 href=#__codelineno-7-24></a><span class=nt>a</span><span class=p>:</span><span class=nd>hover</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-7-25 name=__codelineno-7-25 href=#__codelineno-7-25></a><span class=w>  </span><span class=k>color</span><span class=p>:</span><span class=w> </span><span class=mh>#535bf2</span><span class=p>;</span>
<a id=__codelineno-7-26 name=__codelineno-7-26 href=#__codelineno-7-26></a><span class=p>}</span>
<a id=__codelineno-7-27 name=__codelineno-7-27 href=#__codelineno-7-27></a>
<a id=__codelineno-7-28 name=__codelineno-7-28 href=#__codelineno-7-28></a><span class=nt>body</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-7-29 name=__codelineno-7-29 href=#__codelineno-7-29></a><span class=w>  </span><span class=k>margin</span><span class=p>:</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
<a id=__codelineno-7-30 name=__codelineno-7-30 href=#__codelineno-7-30></a><span class=w>  </span><span class=k>display</span><span class=p>:</span><span class=w> </span><span class=k>grid</span><span class=p>;</span>
<a id=__codelineno-7-31 name=__codelineno-7-31 href=#__codelineno-7-31></a><span class=w>  </span><span class=k>place-items</span><span class=p>:</span><span class=w> </span><span class=kc>center</span><span class=p>;</span>
<a id=__codelineno-7-32 name=__codelineno-7-32 href=#__codelineno-7-32></a><span class=w>  </span><span class=k>min-width</span><span class=p>:</span><span class=w> </span><span class=mi>320</span><span class=kt>px</span><span class=p>;</span>
<a id=__codelineno-7-33 name=__codelineno-7-33 href=#__codelineno-7-33></a><span class=w>  </span><span class=k>min-height</span><span class=p>:</span><span class=w> </span><span class=mi>100</span><span class=kt>vh</span><span class=p>;</span>
<a id=__codelineno-7-34 name=__codelineno-7-34 href=#__codelineno-7-34></a><span class=p>}</span>
<a id=__codelineno-7-35 name=__codelineno-7-35 href=#__codelineno-7-35></a>
<a id=__codelineno-7-36 name=__codelineno-7-36 href=#__codelineno-7-36></a><span class=nt>h1</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-7-37 name=__codelineno-7-37 href=#__codelineno-7-37></a><span class=w>  </span><span class=k>font-size</span><span class=p>:</span><span class=w> </span><span class=mf>3.2</span><span class=kt>em</span><span class=p>;</span>
<a id=__codelineno-7-38 name=__codelineno-7-38 href=#__codelineno-7-38></a><span class=w>  </span><span class=k>line-height</span><span class=p>:</span><span class=w> </span><span class=mf>1.1</span><span class=p>;</span>
<a id=__codelineno-7-39 name=__codelineno-7-39 href=#__codelineno-7-39></a><span class=p>}</span>
<a id=__codelineno-7-40 name=__codelineno-7-40 href=#__codelineno-7-40></a>
<a id=__codelineno-7-41 name=__codelineno-7-41 href=#__codelineno-7-41></a><span class=nt>button</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-7-42 name=__codelineno-7-42 href=#__codelineno-7-42></a><span class=w>  </span><span class=k>border-radius</span><span class=p>:</span><span class=w> </span><span class=mi>8</span><span class=kt>px</span><span class=p>;</span>
<a id=__codelineno-7-43 name=__codelineno-7-43 href=#__codelineno-7-43></a><span class=w>  </span><span class=k>border</span><span class=p>:</span><span class=w> </span><span class=mi>1</span><span class=kt>px</span><span class=w> </span><span class=kc>solid</span><span class=w> </span><span class=kc>transparent</span><span class=p>;</span>
<a id=__codelineno-7-44 name=__codelineno-7-44 href=#__codelineno-7-44></a><span class=w>  </span><span class=k>padding</span><span class=p>:</span><span class=w> </span><span class=mf>0.6</span><span class=kt>em</span><span class=w> </span><span class=mf>1.2</span><span class=kt>em</span><span class=p>;</span>
<a id=__codelineno-7-45 name=__codelineno-7-45 href=#__codelineno-7-45></a><span class=w>  </span><span class=k>font-size</span><span class=p>:</span><span class=w> </span><span class=mi>1</span><span class=kt>em</span><span class=p>;</span>
<a id=__codelineno-7-46 name=__codelineno-7-46 href=#__codelineno-7-46></a><span class=w>  </span><span class=k>font-weight</span><span class=p>:</span><span class=w> </span><span class=mi>500</span><span class=p>;</span>
<a id=__codelineno-7-47 name=__codelineno-7-47 href=#__codelineno-7-47></a><span class=w>  </span><span class=k>font-family</span><span class=p>:</span><span class=w> </span><span class=kc>inherit</span><span class=p>;</span>
<a id=__codelineno-7-48 name=__codelineno-7-48 href=#__codelineno-7-48></a><span class=w>  </span><span class=k>background-color</span><span class=p>:</span><span class=w> </span><span class=mh>#1a1a1a</span><span class=p>;</span>
<a id=__codelineno-7-49 name=__codelineno-7-49 href=#__codelineno-7-49></a><span class=w>  </span><span class=k>cursor</span><span class=p>:</span><span class=w> </span><span class=kc>pointer</span><span class=p>;</span>
<a id=__codelineno-7-50 name=__codelineno-7-50 href=#__codelineno-7-50></a><span class=w>  </span><span class=k>transition</span><span class=p>:</span><span class=w> </span><span class=k>border-color</span><span class=w> </span><span class=mf>0.25</span><span class=kt>s</span><span class=p>;</span>
<a id=__codelineno-7-51 name=__codelineno-7-51 href=#__codelineno-7-51></a><span class=p>}</span>
<a id=__codelineno-7-52 name=__codelineno-7-52 href=#__codelineno-7-52></a>
<a id=__codelineno-7-53 name=__codelineno-7-53 href=#__codelineno-7-53></a><span class=nt>button</span><span class=p>:</span><span class=nd>hover</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-7-54 name=__codelineno-7-54 href=#__codelineno-7-54></a><span class=w>  </span><span class=k>border-color</span><span class=p>:</span><span class=w> </span><span class=mh>#646cff</span><span class=p>;</span>
<a id=__codelineno-7-55 name=__codelineno-7-55 href=#__codelineno-7-55></a><span class=p>}</span>
<a id=__codelineno-7-56 name=__codelineno-7-56 href=#__codelineno-7-56></a>
<a id=__codelineno-7-57 name=__codelineno-7-57 href=#__codelineno-7-57></a><span class=nt>button</span><span class=p>:</span><span class=nd>focus</span><span class=o>,</span>
<a id=__codelineno-7-58 name=__codelineno-7-58 href=#__codelineno-7-58></a><span class=nt>button</span><span class=p>:</span><span class=nd>focus-visible</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-7-59 name=__codelineno-7-59 href=#__codelineno-7-59></a><span class=w>  </span><span class=k>outline</span><span class=p>:</span><span class=w> </span><span class=mi>4</span><span class=kt>px</span><span class=w> </span><span class=kc>auto</span><span class=w> </span><span class=bp>-webkit-</span><span class=n>focus-ring-color</span><span class=p>;</span>
<a id=__codelineno-7-60 name=__codelineno-7-60 href=#__codelineno-7-60></a><span class=p>}</span>
<a id=__codelineno-7-61 name=__codelineno-7-61 href=#__codelineno-7-61></a>
<a id=__codelineno-7-62 name=__codelineno-7-62 href=#__codelineno-7-62></a><span class=p>@</span><span class=k>media</span><span class=w> </span><span class=o>(</span><span class=nt>prefers-color-scheme</span><span class=o>:</span><span class=w> </span><span class=nt>light</span><span class=o>)</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-7-63 name=__codelineno-7-63 href=#__codelineno-7-63></a><span class=w>  </span><span class=p>:</span><span class=nd>root</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-7-64 name=__codelineno-7-64 href=#__codelineno-7-64></a><span class=w>    </span><span class=k>color</span><span class=p>:</span><span class=w> </span><span class=mh>#213547</span><span class=p>;</span>
<a id=__codelineno-7-65 name=__codelineno-7-65 href=#__codelineno-7-65></a><span class=w>    </span><span class=k>background-color</span><span class=p>:</span><span class=w> </span><span class=mh>#ffffff</span><span class=p>;</span>
<a id=__codelineno-7-66 name=__codelineno-7-66 href=#__codelineno-7-66></a><span class=w>  </span><span class=p>}</span>
<a id=__codelineno-7-67 name=__codelineno-7-67 href=#__codelineno-7-67></a>
<a id=__codelineno-7-68 name=__codelineno-7-68 href=#__codelineno-7-68></a><span class=w>  </span><span class=nt>a</span><span class=p>:</span><span class=nd>hover</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-7-69 name=__codelineno-7-69 href=#__codelineno-7-69></a><span class=w>    </span><span class=k>color</span><span class=p>:</span><span class=w> </span><span class=mh>#747bff</span><span class=p>;</span>
<a id=__codelineno-7-70 name=__codelineno-7-70 href=#__codelineno-7-70></a><span class=w>  </span><span class=p>}</span>
<a id=__codelineno-7-71 name=__codelineno-7-71 href=#__codelineno-7-71></a>
<a id=__codelineno-7-72 name=__codelineno-7-72 href=#__codelineno-7-72></a><span class=w>  </span><span class=nt>button</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-7-73 name=__codelineno-7-73 href=#__codelineno-7-73></a><span class=w>    </span><span class=k>background-color</span><span class=p>:</span><span class=w> </span><span class=mh>#f9f9f9</span><span class=p>;</span>
<a id=__codelineno-7-74 name=__codelineno-7-74 href=#__codelineno-7-74></a><span class=w>  </span><span class=p>}</span>
<a id=__codelineno-7-75 name=__codelineno-7-75 href=#__codelineno-7-75></a><span class=p>}</span>
<a id=__codelineno-7-76 name=__codelineno-7-76 href=#__codelineno-7-76></a>
<a id=__codelineno-7-77 name=__codelineno-7-77 href=#__codelineno-7-77></a><span class=nt>body</span><span class=p>.</span><span class=nc>no-cursor</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-7-78 name=__codelineno-7-78 href=#__codelineno-7-78></a><span class=w>  </span><span class=k>cursor</span><span class=p>:</span><span class=w> </span><span class=kc>none</span><span class=p>;</span>
<a id=__codelineno-7-79 name=__codelineno-7-79 href=#__codelineno-7-79></a><span class=p>}</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><a id=__codelineno-8-1 name=__codelineno-8-1 href=#__codelineno-8-1></a><span class=p>#</span><span class=nn>root</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-8-2 name=__codelineno-8-2 href=#__codelineno-8-2></a><span class=w>  </span><span class=k>max-width</span><span class=p>:</span><span class=w> </span><span class=mi>1280</span><span class=kt>px</span><span class=p>;</span>
<a id=__codelineno-8-3 name=__codelineno-8-3 href=#__codelineno-8-3></a><span class=w>  </span><span class=k>margin</span><span class=p>:</span><span class=w> </span><span class=mi>0</span><span class=w> </span><span class=kc>auto</span><span class=p>;</span>
<a id=__codelineno-8-4 name=__codelineno-8-4 href=#__codelineno-8-4></a><span class=w>  </span><span class=k>padding</span><span class=p>:</span><span class=w> </span><span class=mi>2</span><span class=kt>rem</span><span class=p>;</span>
<a id=__codelineno-8-5 name=__codelineno-8-5 href=#__codelineno-8-5></a><span class=w>  </span><span class=k>text-align</span><span class=p>:</span><span class=w> </span><span class=kc>center</span><span class=p>;</span>
<a id=__codelineno-8-6 name=__codelineno-8-6 href=#__codelineno-8-6></a><span class=p>}</span>
<a id=__codelineno-8-7 name=__codelineno-8-7 href=#__codelineno-8-7></a>
<a id=__codelineno-8-8 name=__codelineno-8-8 href=#__codelineno-8-8></a><span class=p>.</span><span class=nc>logo</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-8-9 name=__codelineno-8-9 href=#__codelineno-8-9></a><span class=w>  </span><span class=k>height</span><span class=p>:</span><span class=w> </span><span class=mi>6</span><span class=kt>em</span><span class=p>;</span>
<a id=__codelineno-8-10 name=__codelineno-8-10 href=#__codelineno-8-10></a><span class=w>  </span><span class=k>padding</span><span class=p>:</span><span class=w> </span><span class=mf>1.5</span><span class=kt>em</span><span class=p>;</span>
<a id=__codelineno-8-11 name=__codelineno-8-11 href=#__codelineno-8-11></a><span class=w>  </span><span class=k>will-change</span><span class=p>:</span><span class=w> </span><span class=k>filter</span><span class=p>;</span>
<a id=__codelineno-8-12 name=__codelineno-8-12 href=#__codelineno-8-12></a><span class=p>}</span>
<a id=__codelineno-8-13 name=__codelineno-8-13 href=#__codelineno-8-13></a>
<a id=__codelineno-8-14 name=__codelineno-8-14 href=#__codelineno-8-14></a><span class=p>.</span><span class=nc>logo</span><span class=p>:</span><span class=nd>hover</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-8-15 name=__codelineno-8-15 href=#__codelineno-8-15></a><span class=w>  </span><span class=k>filter</span><span class=p>:</span><span class=w> </span><span class=nb>drop-shadow</span><span class=p>(</span><span class=mi>0</span><span class=w> </span><span class=mi>0</span><span class=w> </span><span class=mi>2</span><span class=kt>em</span><span class=w> </span><span class=mh>#646cff</span><span class=n>aa</span><span class=p>);</span>
<a id=__codelineno-8-16 name=__codelineno-8-16 href=#__codelineno-8-16></a><span class=p>}</span>
<a id=__codelineno-8-17 name=__codelineno-8-17 href=#__codelineno-8-17></a>
<a id=__codelineno-8-18 name=__codelineno-8-18 href=#__codelineno-8-18></a><span class=p>.</span><span class=nc>logo</span><span class=p>.</span><span class=nc>react</span><span class=p>:</span><span class=nd>hover</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-8-19 name=__codelineno-8-19 href=#__codelineno-8-19></a><span class=w>  </span><span class=k>filter</span><span class=p>:</span><span class=w> </span><span class=nb>drop-shadow</span><span class=p>(</span><span class=mi>0</span><span class=w> </span><span class=mi>0</span><span class=w> </span><span class=mi>2</span><span class=kt>em</span><span class=w> </span><span class=mh>#61dafb</span><span class=n>aa</span><span class=p>);</span>
<a id=__codelineno-8-20 name=__codelineno-8-20 href=#__codelineno-8-20></a><span class=p>}</span>
<a id=__codelineno-8-21 name=__codelineno-8-21 href=#__codelineno-8-21></a>
<a id=__codelineno-8-22 name=__codelineno-8-22 href=#__codelineno-8-22></a><span class=p>@</span><span class=k>keyframes</span><span class=w> </span><span class=nt>logo-spin</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-8-23 name=__codelineno-8-23 href=#__codelineno-8-23></a><span class=w>  </span><span class=nt>from</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-8-24 name=__codelineno-8-24 href=#__codelineno-8-24></a><span class=w>    </span><span class=k>transform</span><span class=p>:</span><span class=w> </span><span class=nb>rotate</span><span class=p>(</span><span class=mi>0</span><span class=kt>deg</span><span class=p>);</span>
<a id=__codelineno-8-25 name=__codelineno-8-25 href=#__codelineno-8-25></a><span class=w>  </span><span class=p>}</span>
<a id=__codelineno-8-26 name=__codelineno-8-26 href=#__codelineno-8-26></a>
<a id=__codelineno-8-27 name=__codelineno-8-27 href=#__codelineno-8-27></a><span class=w>  </span><span class=nt>to</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-8-28 name=__codelineno-8-28 href=#__codelineno-8-28></a><span class=w>    </span><span class=k>transform</span><span class=p>:</span><span class=w> </span><span class=nb>rotate</span><span class=p>(</span><span class=mi>360</span><span class=kt>deg</span><span class=p>);</span>
<a id=__codelineno-8-29 name=__codelineno-8-29 href=#__codelineno-8-29></a><span class=w>  </span><span class=p>}</span>
<a id=__codelineno-8-30 name=__codelineno-8-30 href=#__codelineno-8-30></a><span class=p>}</span>
<a id=__codelineno-8-31 name=__codelineno-8-31 href=#__codelineno-8-31></a>
<a id=__codelineno-8-32 name=__codelineno-8-32 href=#__codelineno-8-32></a><span class=p>@</span><span class=k>media</span><span class=w> </span><span class=o>(</span><span class=nt>prefers-reduced-motion</span><span class=o>:</span><span class=w> </span><span class=nt>no-preference</span><span class=o>)</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-8-33 name=__codelineno-8-33 href=#__codelineno-8-33></a><span class=w>  </span><span class=nt>a</span><span class=p>:</span><span class=nd>nth-of-type</span><span class=o>(</span><span class=nt>2</span><span class=o>)</span><span class=w> </span><span class=p>.</span><span class=nc>logo</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-8-34 name=__codelineno-8-34 href=#__codelineno-8-34></a><span class=w>    </span><span class=k>animation</span><span class=p>:</span><span class=w> </span><span class=n>logo-spin</span><span class=w> </span><span class=kc>infinite</span><span class=w> </span><span class=mi>20</span><span class=kt>s</span><span class=w> </span><span class=kc>linear</span><span class=p>;</span>
<a id=__codelineno-8-35 name=__codelineno-8-35 href=#__codelineno-8-35></a><span class=w>  </span><span class=p>}</span>
<a id=__codelineno-8-36 name=__codelineno-8-36 href=#__codelineno-8-36></a><span class=p>}</span>
<a id=__codelineno-8-37 name=__codelineno-8-37 href=#__codelineno-8-37></a>
<a id=__codelineno-8-38 name=__codelineno-8-38 href=#__codelineno-8-38></a><span class=p>.</span><span class=nc>card</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-8-39 name=__codelineno-8-39 href=#__codelineno-8-39></a><span class=w>  </span><span class=k>padding</span><span class=p>:</span><span class=w> </span><span class=mi>2</span><span class=kt>em</span><span class=p>;</span>
<a id=__codelineno-8-40 name=__codelineno-8-40 href=#__codelineno-8-40></a><span class=p>}</span>
<a id=__codelineno-8-41 name=__codelineno-8-41 href=#__codelineno-8-41></a>
<a id=__codelineno-8-42 name=__codelineno-8-42 href=#__codelineno-8-42></a><span class=p>.</span><span class=nc>read-the-docs</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-8-43 name=__codelineno-8-43 href=#__codelineno-8-43></a><span class=w>  </span><span class=k>color</span><span class=p>:</span><span class=w> </span><span class=mh>#888</span><span class=p>;</span>
<a id=__codelineno-8-44 name=__codelineno-8-44 href=#__codelineno-8-44></a><span class=p>}</span>
</code></pre></div> </div> </div> </div> <p>Controlamos si se desea seguir o no el puntero con un estado que se cambiar谩 al hacer clic en el bot贸n (el mensaje del bot贸n tambi茅n cambiar谩):</p> <div class=highlight><pre><span></span><code><a id=__codelineno-9-1 name=__codelineno-9-1 href=#__codelineno-9-1></a><span class=kd>const</span><span class=w> </span><span class=nx>FollowMouse</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-9-2 name=__codelineno-9-2 href=#__codelineno-9-2></a>
<a id=__codelineno-9-3 name=__codelineno-9-3 href=#__codelineno-9-3></a><span class=hll><span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=p>[</span><span class=nx>enabled</span><span class=p>,</span><span class=w> </span><span class=nx>setEnabled</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useState</span><span class=p>(</span><span class=kc>false</span><span class=p>)</span>
</span><a id=__codelineno-9-4 name=__codelineno-9-4 href=#__codelineno-9-4></a>
<a id=__codelineno-9-5 name=__codelineno-9-5 href=#__codelineno-9-5></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<a id=__codelineno-9-6 name=__codelineno-9-6 href=#__codelineno-9-6></a><span class=w>        </span><span class=o>&lt;&gt;</span>
<a id=__codelineno-9-7 name=__codelineno-9-7 href=#__codelineno-9-7></a><span class=w>            </span><span class=p>{</span><span class=cm>/*...*/</span><span class=p>}</span>
<a id=__codelineno-9-8 name=__codelineno-9-8 href=#__codelineno-9-8></a><span class=hll><span class=w>            </span><span class=o>&lt;</span><span class=nx>button</span><span class=w> </span><span class=nx>onClick</span><span class=o>=</span><span class=p>{()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>setEnabled</span><span class=p>(</span><span class=o>!</span><span class=nx>enabled</span><span class=p>)}</span><span class=o>&gt;</span><span class=p>{</span><span class=nx>enabled</span><span class=w> </span><span class=o>?</span><span class=w> </span><span class=s1>&#39;Desactivar&#39;</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=s1>&#39;Activar&#39;</span><span class=p>}</span><span class=w> </span><span class=nx>seguir</span><span class=w> </span><span class=nx>puntero</span><span class=o>&lt;</span><span class=err>/button&gt;</span>
</span><a id=__codelineno-9-9 name=__codelineno-9-9 href=#__codelineno-9-9></a><span class=w>        </span><span class=o>&lt;</span><span class=err>/&gt;</span>
<a id=__codelineno-9-10 name=__codelineno-9-10 href=#__codelineno-9-10></a><span class=w>    </span><span class=p>)</span>
<a id=__codelineno-9-11 name=__codelineno-9-11 href=#__codelineno-9-11></a>
<a id=__codelineno-9-12 name=__codelineno-9-12 href=#__codelineno-9-12></a><span class=p>}</span>
</code></pre></div> <p>Para poder indicar la posici贸n de la bola tendremos un estado <em>position</em> de tipo objecto con dos atributos, uno para la posici贸n <em>X</em> y otro para la posici贸n <em>Y</em>:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-10-1 name=__codelineno-10-1 href=#__codelineno-10-1></a><span class=kd>const</span><span class=w> </span><span class=nx>FollowMouse</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-10-2 name=__codelineno-10-2 href=#__codelineno-10-2></a>
<a id=__codelineno-10-3 name=__codelineno-10-3 href=#__codelineno-10-3></a><span class=w>    </span><span class=c1>//...</span>
<a id=__codelineno-10-4 name=__codelineno-10-4 href=#__codelineno-10-4></a><span class=hll><span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=p>[</span><span class=nx>position</span><span class=p>,</span><span class=w> </span><span class=nx>setPosition</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useState</span><span class=p>({</span><span class=w> </span><span class=nx>x</span><span class=o>:</span><span class=w> </span><span class=mf>0</span><span class=p>,</span><span class=w> </span><span class=nx>y</span><span class=o>:</span><span class=w> </span><span class=mf>0</span><span class=w> </span><span class=p>})</span>
</span><a id=__codelineno-10-5 name=__codelineno-10-5 href=#__codelineno-10-5></a>
<a id=__codelineno-10-6 name=__codelineno-10-6 href=#__codelineno-10-6></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<a id=__codelineno-10-7 name=__codelineno-10-7 href=#__codelineno-10-7></a><span class=w>        </span><span class=o>&lt;&gt;</span>
<a id=__codelineno-10-8 name=__codelineno-10-8 href=#__codelineno-10-8></a><span class=w>            </span><span class=o>&lt;</span><span class=nx>div</span><span class=w> </span><span class=nx>style</span><span class=o>=</span><span class=p>{{</span>
<a id=__codelineno-10-9 name=__codelineno-10-9 href=#__codelineno-10-9></a><span class=w>                </span><span class=c1>//...</span>
<a id=__codelineno-10-10 name=__codelineno-10-10 href=#__codelineno-10-10></a><span class=hll><span class=w>                </span><span class=nx>transform</span><span class=o>:</span><span class=w> </span><span class=sb>`translate(</span><span class=si>${</span><span class=nx>position</span><span class=p>.</span><span class=nx>x</span><span class=si>}</span><span class=sb>px, </span><span class=si>${</span><span class=nx>position</span><span class=p>.</span><span class=nx>y</span><span class=si>}</span><span class=sb>px)`</span>
</span><a id=__codelineno-10-11 name=__codelineno-10-11 href=#__codelineno-10-11></a><span class=w>              </span><span class=p>}}</span><span class=w> </span><span class=o>/&gt;</span>
<a id=__codelineno-10-12 name=__codelineno-10-12 href=#__codelineno-10-12></a><span class=w>            </span><span class=p>{</span><span class=cm>/*...*/</span><span class=p>}</span>
<a id=__codelineno-10-13 name=__codelineno-10-13 href=#__codelineno-10-13></a><span class=w>        </span><span class=o>&lt;</span><span class=err>/&gt;</span>
<a id=__codelineno-10-14 name=__codelineno-10-14 href=#__codelineno-10-14></a><span class=w>    </span><span class=p>)</span>
<a id=__codelineno-10-15 name=__codelineno-10-15 href=#__codelineno-10-15></a>
<a id=__codelineno-10-16 name=__codelineno-10-16 href=#__codelineno-10-16></a><span class=p>}</span>
</code></pre></div> <p>El estado de la posici贸n se cambiar谩 cada vez que el puntero se mueva, por lo que debemos suscribirnos al evento <code>pointermove</code>, para ello usamos el <code>useEffect</code> con la dependencia <em>enabled</em>:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-11-1 name=__codelineno-11-1 href=#__codelineno-11-1></a><span class=kd>const</span><span class=w> </span><span class=nx>FollowMouse</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-11-2 name=__codelineno-11-2 href=#__codelineno-11-2></a>
<a id=__codelineno-11-3 name=__codelineno-11-3 href=#__codelineno-11-3></a><span class=w>    </span><span class=nx>useEffect</span><span class=p>(()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-11-4 name=__codelineno-11-4 href=#__codelineno-11-4></a><span class=w>        </span><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;effect &#39;</span><span class=p>,</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>enabled</span><span class=w> </span><span class=p>})</span>
<a id=__codelineno-11-5 name=__codelineno-11-5 href=#__codelineno-11-5></a>
<a id=__codelineno-11-6 name=__codelineno-11-6 href=#__codelineno-11-6></a><span class=w>        </span><span class=kd>const</span><span class=w> </span><span class=nx>handleMove</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>event</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-11-7 name=__codelineno-11-7 href=#__codelineno-11-7></a><span class=w>          </span><span class=kd>const</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>clientX</span><span class=p>,</span><span class=w> </span><span class=nx>clientY</span><span class=w> </span><span class=p>}</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>event</span>
<a id=__codelineno-11-8 name=__codelineno-11-8 href=#__codelineno-11-8></a><span class=w>          </span><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;handleMove&#39;</span><span class=p>,</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>clientX</span><span class=p>,</span><span class=w> </span><span class=nx>clientY</span><span class=w> </span><span class=p>})</span>
<a id=__codelineno-11-9 name=__codelineno-11-9 href=#__codelineno-11-9></a><span class=w>          </span><span class=nx>setPosition</span><span class=p>({</span><span class=w> </span><span class=nx>x</span><span class=o>:</span><span class=w> </span><span class=nx>clientX</span><span class=p>,</span><span class=w> </span><span class=nx>y</span><span class=o>:</span><span class=w> </span><span class=nx>clientY</span><span class=w> </span><span class=p>})</span>
<a id=__codelineno-11-10 name=__codelineno-11-10 href=#__codelineno-11-10></a><span class=w>        </span><span class=p>}</span>
<a id=__codelineno-11-11 name=__codelineno-11-11 href=#__codelineno-11-11></a>
<a id=__codelineno-11-12 name=__codelineno-11-12 href=#__codelineno-11-12></a><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=nx>enabled</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-11-13 name=__codelineno-11-13 href=#__codelineno-11-13></a><span class=w>          </span><span class=nb>window</span><span class=p>.</span><span class=nx>addEventListener</span><span class=p>(</span><span class=s1>&#39;pointermove&#39;</span><span class=p>,</span><span class=w> </span><span class=nx>handleMove</span><span class=p>)</span>
<a id=__codelineno-11-14 name=__codelineno-11-14 href=#__codelineno-11-14></a><span class=w>        </span><span class=p>}</span>
<a id=__codelineno-11-15 name=__codelineno-11-15 href=#__codelineno-11-15></a>
<a id=__codelineno-11-16 name=__codelineno-11-16 href=#__codelineno-11-16></a><span class=w>    </span><span class=p>},</span><span class=w> </span><span class=p>[</span><span class=nx>enabled</span><span class=p>])</span>
<a id=__codelineno-11-17 name=__codelineno-11-17 href=#__codelineno-11-17></a>
<a id=__codelineno-11-18 name=__codelineno-11-18 href=#__codelineno-11-18></a><span class=w>    </span><span class=c1>// ..</span>
<a id=__codelineno-11-19 name=__codelineno-11-19 href=#__codelineno-11-19></a><span class=p>}</span>
</code></pre></div> <p>Como podemos comprobar si est谩 activado veremos la bola en lugar del puntero, pero al desactivarlo seguimos viendo la bola. Esto ocurre porque nos estamos suscribiendo a un evento pero en ning煤n momento dejamos de suscribirnos.</p> <h2 id=retorno-de-un-useeffect>Retorno de un useEffect<a class=headerlink href=#retorno-de-un-useeffect title="Permanent link">&para;</a></h2> <p>El <code>useEffect</code> puede retornar un <em>callback</em>, dicho m茅todo ser谩 ejecutado cuando:</p> <ul> <li>Se desmonta el componente</li> <li>Cada vez que se cambia una dependencia y se va a volver a ejecutar el <code>useEffect</code>, es decir, al cambiar la dependencia el efecto deja de producirse ejecutando el m茅todo y vuelve a ejecutarlo.</li> </ul> <p>Este <code>return</code> no es obligatorio, pero si es l贸gico usarlo cuando realizamos ciertas operaciones que queremos limpiar, como por ejemplo eliminar la suscripci贸n a un evento, por lo que el problema del proyecto anterior se puede evitar retornando un m茅todo que elimine la suscripci贸n al evento:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-12-1 name=__codelineno-12-1 href=#__codelineno-12-1></a><span class=kd>const</span><span class=w> </span><span class=nx>FollowMouse</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-12-2 name=__codelineno-12-2 href=#__codelineno-12-2></a><span class=w>    </span><span class=nx>useEffect</span><span class=p>(()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-12-3 name=__codelineno-12-3 href=#__codelineno-12-3></a><span class=w>        </span><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;effect &#39;</span><span class=p>,</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>enabled</span><span class=w> </span><span class=p>})</span>
<a id=__codelineno-12-4 name=__codelineno-12-4 href=#__codelineno-12-4></a>
<a id=__codelineno-12-5 name=__codelineno-12-5 href=#__codelineno-12-5></a><span class=w>        </span><span class=kd>const</span><span class=w> </span><span class=nx>handleMove</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>event</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-12-6 name=__codelineno-12-6 href=#__codelineno-12-6></a><span class=w>          </span><span class=kd>const</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>clientX</span><span class=p>,</span><span class=w> </span><span class=nx>clientY</span><span class=w> </span><span class=p>}</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>event</span>
<a id=__codelineno-12-7 name=__codelineno-12-7 href=#__codelineno-12-7></a><span class=w>          </span><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;handleMove&#39;</span><span class=p>,</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>clientX</span><span class=p>,</span><span class=w> </span><span class=nx>clientY</span><span class=w> </span><span class=p>})</span>
<a id=__codelineno-12-8 name=__codelineno-12-8 href=#__codelineno-12-8></a><span class=w>          </span><span class=nx>setPosition</span><span class=p>({</span><span class=w> </span><span class=nx>x</span><span class=o>:</span><span class=w> </span><span class=nx>clientX</span><span class=p>,</span><span class=w> </span><span class=nx>y</span><span class=o>:</span><span class=w> </span><span class=nx>clientY</span><span class=w> </span><span class=p>})</span>
<a id=__codelineno-12-9 name=__codelineno-12-9 href=#__codelineno-12-9></a><span class=w>        </span><span class=p>}</span>
<a id=__codelineno-12-10 name=__codelineno-12-10 href=#__codelineno-12-10></a>
<a id=__codelineno-12-11 name=__codelineno-12-11 href=#__codelineno-12-11></a><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=nx>enabled</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-12-12 name=__codelineno-12-12 href=#__codelineno-12-12></a><span class=w>          </span><span class=nb>window</span><span class=p>.</span><span class=nx>addEventListener</span><span class=p>(</span><span class=s1>&#39;pointermove&#39;</span><span class=p>,</span><span class=w> </span><span class=nx>handleMove</span><span class=p>)</span>
<a id=__codelineno-12-13 name=__codelineno-12-13 href=#__codelineno-12-13></a><span class=w>        </span><span class=p>}</span>
<a id=__codelineno-12-14 name=__codelineno-12-14 href=#__codelineno-12-14></a>
<a id=__codelineno-12-15 name=__codelineno-12-15 href=#__codelineno-12-15></a><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=p>()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-12-16 name=__codelineno-12-16 href=#__codelineno-12-16></a><span class=w>          </span><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;cleanup&#39;</span><span class=p>)</span>
<a id=__codelineno-12-17 name=__codelineno-12-17 href=#__codelineno-12-17></a><span class=w>          </span><span class=nb>window</span><span class=p>.</span><span class=nx>removeEventListener</span><span class=p>(</span><span class=s1>&#39;pointermove&#39;</span><span class=p>,</span><span class=w> </span><span class=nx>handleMove</span><span class=p>)</span>
<a id=__codelineno-12-18 name=__codelineno-12-18 href=#__codelineno-12-18></a><span class=w>        </span><span class=p>}</span>
<a id=__codelineno-12-19 name=__codelineno-12-19 href=#__codelineno-12-19></a>
<a id=__codelineno-12-20 name=__codelineno-12-20 href=#__codelineno-12-20></a><span class=w>    </span><span class=p>},</span><span class=w> </span><span class=p>[</span><span class=nx>enabled</span><span class=p>])</span>
<a id=__codelineno-12-21 name=__codelineno-12-21 href=#__codelineno-12-21></a>
<a id=__codelineno-12-22 name=__codelineno-12-22 href=#__codelineno-12-22></a><span class=w>    </span><span class=c1>// ...</span>
<a id=__codelineno-12-23 name=__codelineno-12-23 href=#__codelineno-12-23></a><span class=p>}</span>
</code></pre></div> <p>El retorno tambi茅n se va a realizar cuando se desmonta el componente, es decir, cuando se elimine del DOM. Vamos a modificar nuestro proyecto, a帽adiendo un bot贸n y un estado para montar y desmontar el componente <code>FollowMouse</code>. En caso de no tener el <code>return</code> en el <code>useEffect</code> nunca eliminar铆amos la suscripci贸n del puntero por lo que seguir铆amos registrando dicho evento, a pesar de no poder ejecutar nada en el momento. Por eso, para evitar esto es conveniente usarlo</p> <div class=highlight><pre><span></span><code><a id=__codelineno-13-1 name=__codelineno-13-1 href=#__codelineno-13-1></a><span class=kd>function</span><span class=w> </span><span class=nx>App</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-13-2 name=__codelineno-13-2 href=#__codelineno-13-2></a>
<a id=__codelineno-13-3 name=__codelineno-13-3 href=#__codelineno-13-3></a><span class=w>  </span><span class=kd>const</span><span class=w> </span><span class=p>[</span><span class=nx>mounted</span><span class=p>,</span><span class=w> </span><span class=nx>setMounted</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useState</span><span class=p>(</span><span class=kc>true</span><span class=p>)</span>
<a id=__codelineno-13-4 name=__codelineno-13-4 href=#__codelineno-13-4></a>
<a id=__codelineno-13-5 name=__codelineno-13-5 href=#__codelineno-13-5></a><span class=w>  </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<a id=__codelineno-13-6 name=__codelineno-13-6 href=#__codelineno-13-6></a><span class=w>    </span><span class=o>&lt;</span><span class=nx>main</span><span class=o>&gt;</span>
<a id=__codelineno-13-7 name=__codelineno-13-7 href=#__codelineno-13-7></a><span class=w>      </span><span class=p>{</span><span class=nx>mounted</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=o>&lt;</span><span class=nx>div</span><span class=o>&gt;&lt;</span><span class=nx>FollowMouse</span><span class=w> </span><span class=o>/&gt;&lt;</span><span class=err>/div&gt;}</span>
<a id=__codelineno-13-8 name=__codelineno-13-8 href=#__codelineno-13-8></a><span class=w>      </span><span class=o>&lt;</span><span class=nx>button</span><span class=w> </span><span class=nx>onClick</span><span class=o>=</span><span class=p>{()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>setMounted</span><span class=p>(</span><span class=o>!</span><span class=nx>mounted</span><span class=p>)}</span><span class=o>&gt;</span><span class=nx>Toggle</span><span class=w> </span><span class=nx>mounted</span><span class=w> </span><span class=nx>FollowMouse</span><span class=w> </span><span class=nx>component</span><span class=o>&lt;</span><span class=err>/button&gt;</span>
<a id=__codelineno-13-9 name=__codelineno-13-9 href=#__codelineno-13-9></a><span class=w>    </span><span class=o>&lt;</span><span class=err>/main&gt;</span>
<a id=__codelineno-13-10 name=__codelineno-13-10 href=#__codelineno-13-10></a><span class=w>  </span><span class=p>)</span>
<a id=__codelineno-13-11 name=__codelineno-13-11 href=#__codelineno-13-11></a><span class=p>}</span>
</code></pre></div> <h2 id=multiples-useeffect>M煤ltiples useEffect<a class=headerlink href=#multiples-useeffect title="Permanent link">&para;</a></h2> <p>Se recomienda crear varios <code>useEffect</code> para poder realizar operaciones completamente diferentes, adem谩s de ser una buena pr谩ctica hace que el c贸digo sea m谩s legible. En nuestro proyecto <em>MouseEffect</em> vamos a ocultar nuestro puntero cuando la bola est茅 en movimiento:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-14-1 name=__codelineno-14-1 href=#__codelineno-14-1></a><span class=kd>const</span><span class=w> </span><span class=nx>FollowMouse</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-14-2 name=__codelineno-14-2 href=#__codelineno-14-2></a><span class=w>    </span><span class=c1>// ...</span>
<a id=__codelineno-14-3 name=__codelineno-14-3 href=#__codelineno-14-3></a><span class=w>    </span><span class=nx>useEffect</span><span class=p>(()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-14-4 name=__codelineno-14-4 href=#__codelineno-14-4></a><span class=w>    </span><span class=nb>document</span><span class=p>.</span><span class=nx>body</span><span class=p>.</span><span class=nx>classList</span><span class=p>.</span><span class=nx>toggle</span><span class=p>(</span><span class=s1>&#39;no-cursor&#39;</span><span class=p>,</span><span class=w> </span><span class=nx>enabled</span><span class=p>)</span>
<a id=__codelineno-14-5 name=__codelineno-14-5 href=#__codelineno-14-5></a>
<a id=__codelineno-14-6 name=__codelineno-14-6 href=#__codelineno-14-6></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=p>()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-14-7 name=__codelineno-14-7 href=#__codelineno-14-7></a><span class=w>        </span><span class=nb>document</span><span class=p>.</span><span class=nx>body</span><span class=p>.</span><span class=nx>classList</span><span class=p>.</span><span class=nx>remove</span><span class=p>(</span><span class=s1>&#39;no-cursor&#39;</span><span class=p>)</span>
<a id=__codelineno-14-8 name=__codelineno-14-8 href=#__codelineno-14-8></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-14-9 name=__codelineno-14-9 href=#__codelineno-14-9></a><span class=w>    </span><span class=p>},</span><span class=w> </span><span class=p>[</span><span class=nx>enabled</span><span class=p>])</span>
<a id=__codelineno-14-10 name=__codelineno-14-10 href=#__codelineno-14-10></a>
<a id=__codelineno-14-11 name=__codelineno-14-11 href=#__codelineno-14-11></a><span class=w>    </span><span class=c1>//...</span>
<a id=__codelineno-14-12 name=__codelineno-14-12 href=#__codelineno-14-12></a><span class=p>}</span>
</code></pre></div> <p>Para eso creamos un nuevo efecto que dependa del estado <em>enabled</em>, es decir, si est谩 activado o no el seguir al puntero, vamos a indicar una clase al <code>body</code> de nuestra p谩gina (<code>no-cursor</code>). Como funci贸n de retorno, devolveremos un m茅todo para que elimine esa clase del <code>body</code>, ya que el <code>body</code> es una etiqueta global y si desmontamos nuestro componente seguir谩 existiendo.</p> <h2 id=reactstrictmode>React.StrictMode<a class=headerlink href=#reactstrictmode title="Permanent link">&para;</a></h2> <p>Cuando estamos desarrollando un proyecto React decimos que estamos en <strong>modo desarrollo</strong>. Cuando construimos un proyecto, ya sea con el comando <code>create-react-app</code> o con <code>vite</code>, nuestro componente est谩 en vuelto en un componente de React, <code>StrictMode</code>:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-15-1 name=__codelineno-15-1 href=#__codelineno-15-1></a><span class=nx>ReactDOM</span><span class=p>.</span><span class=nx>createRoot</span><span class=p>(</span><span class=nb>document</span><span class=p>.</span><span class=nx>getElementById</span><span class=p>(</span><span class=s1>&#39;root&#39;</span><span class=p>)).</span><span class=nx>render</span><span class=p>(</span>
<a id=__codelineno-15-2 name=__codelineno-15-2 href=#__codelineno-15-2></a><span class=w>  </span><span class=o>&lt;</span><span class=nx>React</span><span class=p>.</span><span class=nx>StrictMode</span><span class=o>&gt;</span>
<a id=__codelineno-15-3 name=__codelineno-15-3 href=#__codelineno-15-3></a><span class=w>    </span><span class=o>&lt;</span><span class=nx>App</span><span class=w> </span><span class=o>/&gt;</span>
<a id=__codelineno-15-4 name=__codelineno-15-4 href=#__codelineno-15-4></a><span class=w>  </span><span class=o>&lt;</span><span class=err>/React.StrictMode&gt;,</span>
<a id=__codelineno-15-5 name=__codelineno-15-5 href=#__codelineno-15-5></a><span class=p>)</span>
</code></pre></div> <p><code>React.StrictMode</code> es un componente especial de React que se utiliza para ayudar a encontrar y corregir problemas en la aplicaci贸n relacionados con el rendimiento y las pr谩cticas no seguras en el c贸digo en modo desarrollo. Puedes envolver partes de tu aplicaci贸n con React.StrictMode para activar un conjunto de comprobaciones adicionales de tiempo de desarrollo que te alertar谩n sobre posibles problemas.</p> <p>Al utilizar <code>React.StrictMode</code>, se habilitan las siguientes comprobaciones:</p> <ul> <li><strong>Detecci贸n de efectos secundarios no deseados</strong>: <code>React.StrictMode</code> ayuda a identificar efectos secundarios no intencionales en tus funciones de renderizado. Por ejemplo, si una funci贸n de renderizado tiene efectos secundarios y se llama m谩s de una vez, <code>StrictMode</code> emitir谩 una advertencia. De ah铆 que, en modo desarrollo, nuestro <code>useEffect</code> se ejecute dos veces al inicializar el componente.</li> <li><strong>Advertencias sobre el uso de funciones de ciclo de vida obsoletas</strong>: Si tu c贸digo utiliza funciones de ciclo de vida de componentes de clase que est谩n obsoletas o se han eliminado en versiones futuras de React, StrictMode te dar谩 advertencias sobre su uso.</li> <li><strong>Detecci贸n de renderizados redundantes</strong>: <code>StrictMode</code> puede detectar renderizados redundantes en tus componentes, lo que puede ayudarte a optimizar el rendimiento.</li> <li><strong>Advertencias sobre el uso de FindDOMNode</strong>: Si tu aplicaci贸n utiliza <code>findDOMNode</code> para acceder al DOM directamente, <code>StrictMode</code> emitir谩 advertencias. En lugar de usar <code>findDOMNode</code>, se recomienda utilizar <code>ref</code> para acceder a los nodos del DOM.</li> </ul> <p>Es importante destacar que las comprobaciones realizadas por <code>React.StrictMode</code> solo se aplican en el entorno de desarrollo y no afectar谩n a la producci贸n. Por lo tanto, es seguro utilizar <code>React.StrictMode</code> durante el desarrollo para identificar y solucionar problemas potenciales, y luego puedes retirarlo en el entorno de producci贸n para evitar el impacto en el rendimiento.</p> <p>Cuando desplegamos nuestra aplicaci贸n y entramos en modo producci贸n, el <code>React.StrictMode</code> no entra en juego, por lo que esas comprobaciones quedar谩n deshabilitadas, y por ejemplo, el <code>useEffect</code> solo se realizar谩 una vez al inicializar el componente.</p> <h2 id=problemas-useeffect>Problemas useEffect<a class=headerlink href=#problemas-useeffect title="Permanent link">&para;</a></h2> <p>Uno de los problemas de <code>useEffect</code> es que si no se realiza correctamente puede provocar un bucle infinito. Esto adem谩s de ser peligroso y de ejecutar infinitamente una funci贸n, es una mala pr谩ctica.</p> <p>El <code>useEffect</code> se puede ejecutar de forma infinita:</p> <ul> <li> <p>Cuando no se indica dependencia (ni una lista vac铆a) y se ejecuta un cambio de estado:</p> <p><code>`javascript useEffect(() =&gt; { setState(10) })</code></p> </li> <li> <p>Cuando se indica una dependencia y se hace cambio del estado de dicha dependencia:</p> <p>```javascript useEffect(() =&gt; { setState(10) }, [state])</p> </li> </ul> <p>Otro de los problemas de <code>useEffect</code> es que no puede recibir par谩metros en su <em>callback</em>, por lo que si se desea pasarle alguna variable, debemos crear la variable fuera y acceder a ella dentro del <code>useEffect</code>:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-16-1 name=__codelineno-16-1 href=#__codelineno-16-1></a><span class=kd>const</span><span class=w> </span><span class=nx>value</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mf>10</span>
<a id=__codelineno-16-2 name=__codelineno-16-2 href=#__codelineno-16-2></a>
<a id=__codelineno-16-3 name=__codelineno-16-3 href=#__codelineno-16-3></a><span class=nx>useEffect</span><span class=p>(()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-16-4 name=__codelineno-16-4 href=#__codelineno-16-4></a><span class=w>    </span><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>value</span><span class=p>)</span>
<a id=__codelineno-16-5 name=__codelineno-16-5 href=#__codelineno-16-5></a><span class=p>},</span><span class=w> </span><span class=p>[])</span>
</code></pre></div> </article> </div> </div> <a href=# class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg> Back to top </a> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../page-2/ class="md-footer__link md-footer__link--prev" aria-label="Previous: 2 Estados" rel=prev> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </div> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Previous </span> 2 Estados </div> </div> </a> <a href=../page-4/ class="md-footer__link md-footer__link--next" aria-label="Next: Proyecto" rel=next> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Next </span> Proyecto </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2022 - 2023 irubenboy </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://github.com/squidfunk target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </a> <a href=https://gitter.im/squidfunk/mkdocs-material target=_blank rel=noopener title=gitter.im class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 384 512"><!-- Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M66.4 322.5H16V0h50.4v322.5zM166.9 76.1h-50.4V512h50.4V76.1zm100.6 0h-50.4V512h50.4V76.1zM368 76h-50.4v247H368V76z"/></svg> </a> <a href=https://hub.docker.com/r/squidfunk/mkdocs-material/ target=_blank rel=noopener title=hub.docker.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 640 512"><!-- Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M349.9 236.3h-66.1v-59.4h66.1v59.4zm0-204.3h-66.1v60.7h66.1V32zm78.2 144.8H362v59.4h66.1v-59.4zm-156.3-72.1h-66.1v60.1h66.1v-60.1zm78.1 0h-66.1v60.1h66.1v-60.1zm276.8 100c-14.4-9.7-47.6-13.2-73.1-8.4-3.3-24-16.7-44.9-41.1-63.7l-14-9.3-9.3 14c-18.4 27.8-23.4 73.6-3.7 103.8-8.7 4.7-25.8 11.1-48.4 10.7H2.4c-8.7 50.8 5.8 116.8 44 162.1 37.1 43.9 92.7 66.2 165.4 66.2 157.4 0 273.9-72.5 328.4-204.2 21.4.4 67.6.1 91.3-45.2 1.5-2.5 6.6-13.2 8.5-17.1l-13.3-8.9zm-511.1-27.9h-66v59.4h66.1v-59.4zm78.1 0h-66.1v59.4h66.1v-59.4zm78.1 0h-66.1v59.4h66.1v-59.4zm-78.1-72.1h-66.1v60.1h66.1v-60.1z"/></svg> </a> <a href=https://pypi.org/project/mkdocs-material/ target=_blank rel=noopener title=pypi.org class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.8 200.5c-7.7-30.9-22.3-54.2-53.4-54.2h-40.1v47.4c0 36.8-31.2 67.8-66.8 67.8H172.7c-29.2 0-53.4 25-53.4 54.3v101.8c0 29 25.2 46 53.4 54.3 33.8 9.9 66.3 11.7 106.8 0 26.9-7.8 53.4-23.5 53.4-54.3v-40.7H226.2v-13.6h160.2c31.1 0 42.6-21.7 53.4-54.2 11.2-33.5 10.7-65.7 0-108.6zM286.2 404c11.1 0 20.1 9.1 20.1 20.3 0 11.3-9 20.4-20.1 20.4-11 0-20.1-9.2-20.1-20.4.1-11.3 9.1-20.3 20.1-20.3zM167.8 248.1h106.8c29.7 0 53.4-24.5 53.4-54.3V91.9c0-29-24.4-50.7-53.4-55.6-35.8-5.9-74.7-5.6-106.8.1-45.2 8-53.4 24.7-53.4 55.6v40.7h106.9v13.6h-147c-31.1 0-58.3 18.7-66.8 54.2-9.8 40.7-10.2 66.1 0 108.6 7.6 31.6 25.7 54.2 56.8 54.2H101v-48.8c0-35.3 30.5-66.4 66.8-66.4zm-6.7-142.6c-11.1 0-20.1-9.1-20.1-20.3.1-11.3 9-20.4 20.1-20.4 11 0 20.1 9.2 20.1 20.4s-9 20.3-20.1 20.3z"/></svg> </a> <a href=https://twitter.com/squidfunk target=_blank rel=noopener title=twitter.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../..", "features": ["content.code.annotate", "content.code.copy", "content.tooltips", "navigation.footer", "navigation.top", "navigation.tracking", "search.highlight", "search.share", "search.suggest", "toc.follow", "toc.integrate"], "search": "../../assets/javascripts/workers/search.e5c33ebb.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script> <script src=../../assets/javascripts/bundle.51d95adb.min.js></script> </body> </html>