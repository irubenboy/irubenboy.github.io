<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="A page with notes about Java"><meta name=author content=irubenboy><link href=https://irubenboy.github.io/java/bloque_iv/tema_16/page-8/ rel=canonical><link href=../page-7/ rel=prev><link href=../page-9/ rel=next><link rel=icon href=../../../assets/icon.png><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.5.34"><title>8 Hibernate - Java</title><link rel=stylesheet href=../../../assets/stylesheets/main.35f28582.min.css><link rel=stylesheet href=../../../assets/stylesheets/palette.06af60db.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../../extra/extra.css><script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config",""),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script><script>"undefined"!=typeof __md_analytics&&__md_analytics()</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#8-hibernate class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../../.. title=Java class="md-header__button md-logo" aria-label=Java data-md-component=logo> <img src=../../../assets/icon.png alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Java </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> 8 Hibernate </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to dark mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> <input class=md-option data-md-color-media data-md-color-scheme=slate data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/irubenboy/java title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg> </div> <div class=md-source__repository> irubenboy/java </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../.. class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../../../bloque_i/tema_1/page-1/ class=md-tabs__link> Bloque I </a> </li> <li class=md-tabs__item> <a href=../../../bloque_ii/tema_6/page-1/ class=md-tabs__link> Bloque II </a> </li> <li class=md-tabs__item> <a href=../../../bloque_iii/tema_11/page-1/ class=md-tabs__link> Bloque III </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../../tema_14/page-1/ class=md-tabs__link> Bloque IV </a> </li> <li class=md-tabs__item> <a href=../../../bloque_v/tema_19/page-1/ class=md-tabs__link> Bloque V </a> </li> <li class=md-tabs__item> <a href=../../../bloque_vi/tema_31/page-1/ class=md-tabs__link> Bloque VI </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../.. title=Java class="md-nav__button md-logo" aria-label=Java data-md-component=logo> <img src=../../../assets/icon.png alt=logo> </a> Java </label> <div class=md-nav__source> <a href=https://github.com/irubenboy/java title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg> </div> <div class=md-source__repository> irubenboy/java </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../.. class=md-nav__link> <span class=md-ellipsis> Home </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2> <label class=md-nav__link for=__nav_2 id=__nav_2_label tabindex=0> <span class=md-ellipsis> Bloque I </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Bloque I </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_1> <label class=md-nav__link for=__nav_2_1 id=__nav_2_1_label tabindex=0> <span class=md-ellipsis> Tema 1 - Introducción a Java </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_1_label aria-expanded=false> <label class=md-nav__title for=__nav_2_1> <span class="md-nav__icon md-icon"></span> Tema 1 - Introducción a Java </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../bloque_i/tema_1/page-1/ class=md-nav__link> <span class=md-ellipsis> 1 Introducción </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_i/tema_1/page-2/ class=md-nav__link> <span class=md-ellipsis> 2 Introducción al lenguaje Java </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_i/tema_1/page-3/ class=md-nav__link> <span class=md-ellipsis> 3 Variables y constantes </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_i/tema_1/page-4/ class=md-nav__link> <span class=md-ellipsis> 4 Tipos de datos primitivos </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_i/tema_1/page-5/ class=md-nav__link> <span class=md-ellipsis> 5 Operadores </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_i/tema_1/page-6/ class=md-nav__link> <span class=md-ellipsis> 6 Sentencias y Expresiones </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_i/tema_1/page-7/ class=md-nav__link> <span class=md-ellipsis> 7 Introducción a las funciones </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_i/tema_1/page-8/ class=md-nav__link> <span class=md-ellipsis> 8 Tipos enumerados simples </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_i/tema_1/page-9/ class=md-nav__link> <span class=md-ellipsis> 9 Iniciación a la Programación Orientada a Objetos </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_i/tema_1/page-10/ class=md-nav__link> <span class=md-ellipsis> 10 Números aleatorios </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_i/tema_1/page-11/ class=md-nav__link> <span class=md-ellipsis> 11 Lectura por teclado </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_i/tema_1/page-12/ class=md-nav__link> <span class=md-ellipsis> 12 Escritura en pantalla </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_i/tema_1/page-13/ class=md-nav__link> <span class=md-ellipsis> Proyecto </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_2> <label class=md-nav__link for=__nav_2_2 id=__nav_2_2_label tabindex=0> <span class=md-ellipsis> Tema 2 - Programación Estructurada </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2_2> <span class="md-nav__icon md-icon"></span> Tema 2 - Programación Estructurada </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../bloque_i/tema_2/page-1/ class=md-nav__link> <span class=md-ellipsis> 1 Condicionales </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_i/tema_2/page-2/ class=md-nav__link> <span class=md-ellipsis> 2 Bucles </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_i/tema_2/page-3/ class=md-nav__link> <span class=md-ellipsis> 3 Funciones </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_i/tema_2/page-4/ class=md-nav__link> <span class=md-ellipsis> Proyecto </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_3> <label class=md-nav__link for=__nav_2_3 id=__nav_2_3_label tabindex=0> <span class=md-ellipsis> Tema 3 - Cadenas </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_3_label aria-expanded=false> <label class=md-nav__title for=__nav_2_3> <span class="md-nav__icon md-icon"></span> Tema 3 - Cadenas </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../bloque_i/tema_3/page-1/ class=md-nav__link> <span class=md-ellipsis> 1 Cadenas </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_i/tema_3/page-2/ class=md-nav__link> <span class=md-ellipsis> 2 StringBuilder y StringBuffer </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_i/tema_3/page-3/ class=md-nav__link> <span class=md-ellipsis> 3 Expresiones regulares </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_i/tema_3/page-4/ class=md-nav__link> <span class=md-ellipsis> Proyecto </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_4> <label class=md-nav__link for=__nav_2_4 id=__nav_2_4_label tabindex=0> <span class=md-ellipsis> Tema 4 - Programación Orientada a Objetos </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_4_label aria-expanded=false> <label class=md-nav__title for=__nav_2_4> <span class="md-nav__icon md-icon"></span> Tema 4 - Programación Orientada a Objetos </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../bloque_i/tema_4/page-1/ class=md-nav__link> <span class=md-ellipsis> 1 Clases vs Objetos </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_i/tema_4/page-2/ class=md-nav__link> <span class=md-ellipsis> 2 Acceso y sobrecarga </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_i/tema_4/page-3/ class=md-nav__link> <span class=md-ellipsis> 3 Convenciones </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_i/tema_4/page-4/ class=md-nav__link> <span class=md-ellipsis> 4 Referencias </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_i/tema_4/page-5/ class=md-nav__link> <span class=md-ellipsis> 5 This </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_i/tema_4/page-6/ class=md-nav__link> <span class=md-ellipsis> 6 Técnicas </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_i/tema_4/page-7/ class=md-nav__link> <span class=md-ellipsis> 7 Records </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_i/tema_4/page-8/ class=md-nav__link> <span class=md-ellipsis> 8 Clases e interfaces selladas </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_i/tema_4/page-9/ class=md-nav__link> <span class=md-ellipsis> Ejercicios </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_i/tema_4/page-10/ class=md-nav__link> <span class=md-ellipsis> Proyecto </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_5> <label class=md-nav__link for=__nav_2_5 id=__nav_2_5_label tabindex=0> <span class=md-ellipsis> Tema 5 - Excepciones </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_5_label aria-expanded=false> <label class=md-nav__title for=__nav_2_5> <span class="md-nav__icon md-icon"></span> Tema 5 - Excepciones </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../bloque_i/tema_5/page-1/ class=md-nav__link> <span class=md-ellipsis> 1 Excepciones </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_i/tema_5/page-2/ class=md-nav__link> <span class=md-ellipsis> 2 Throws, throws y finally </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_i/tema_5/page-3/ class=md-nav__link> <span class=md-ellipsis> Ejercicios </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_i/tema_5/page-4/ class=md-nav__link> <span class=md-ellipsis> Proyecto </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex=0> <span class=md-ellipsis> Bloque II </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Bloque II </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_1> <label class=md-nav__link for=__nav_3_1 id=__nav_3_1_label tabindex=0> <span class=md-ellipsis> Tema 6 - Arrays </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_1_label aria-expanded=false> <label class=md-nav__title for=__nav_3_1> <span class="md-nav__icon md-icon"></span> Tema 6 - Arrays </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../bloque_ii/tema_6/page-1/ class=md-nav__link> <span class=md-ellipsis> 1 Arrays unidimensionales </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_ii/tema_6/page-2/ class=md-nav__link> <span class=md-ellipsis> 2 Arrays Multidimensionales </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_ii/tema_6/page-3/ class=md-nav__link> <span class=md-ellipsis> 3 Argumentos variables </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_ii/tema_6/page-4/ class=md-nav__link> <span class=md-ellipsis> 4 La clase Arrays </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_ii/tema_6/page-5/ class=md-nav__link> <span class=md-ellipsis> Ejercicios </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_ii/tema_6/page-6/ class=md-nav__link> <span class=md-ellipsis> Proyecto </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_2> <label class=md-nav__link for=__nav_3_2 id=__nav_3_2_label tabindex=0> <span class=md-ellipsis> Tema 7 - Herencia </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_2_label aria-expanded=false> <label class=md-nav__title for=__nav_3_2> <span class="md-nav__icon md-icon"></span> Tema 7 - Herencia </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../bloque_ii/tema_7/page-1/ class=md-nav__link> <span class=md-ellipsis> 1 Introducción a la herencia </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_ii/tema_7/page-2/ class=md-nav__link> <span class=md-ellipsis> 2 Constructores </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_ii/tema_7/page-3/ class=md-nav__link> <span class=md-ellipsis> 3 Polimorfismo </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_ii/tema_7/page-4/ class=md-nav__link> <span class=md-ellipsis> 4 Clases abstractas e interfaces </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_ii/tema_7/page-5/ class=md-nav__link> <span class=md-ellipsis> 5 Clases anidadas </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_ii/tema_7/page-6/ class=md-nav__link> <span class=md-ellipsis> Ejercicios </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_ii/tema_7/page-7/ class=md-nav__link> <span class=md-ellipsis> Proyecto </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_3> <label class=md-nav__link for=__nav_3_3 id=__nav_3_3_label tabindex=0> <span class=md-ellipsis> Tema 8 - Tipo Enumerados </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3_3> <span class="md-nav__icon md-icon"></span> Tema 8 - Tipo Enumerados </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../bloque_ii/tema_8/page-1/ class=md-nav__link> <span class=md-ellipsis> 1 Introducción a los tipos enumerados </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_ii/tema_8/page-2/ class=md-nav__link> <span class=md-ellipsis> 2 Operaciones con tipos enumerados </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_ii/tema_8/page-3/ class=md-nav__link> <span class=md-ellipsis> 3 Tipo de enumerados compuestos </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_ii/tema_8/page-4/ class=md-nav__link> <span class=md-ellipsis> Ejercicios </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_4> <label class=md-nav__link for=__nav_3_4 id=__nav_3_4_label tabindex=0> <span class=md-ellipsis> Tema 9 - Fechas </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_4_label aria-expanded=false> <label class=md-nav__title for=__nav_3_4> <span class="md-nav__icon md-icon"></span> Tema 9 - Fechas </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../bloque_ii/tema_9/page-1/ class=md-nav__link> <span class=md-ellipsis> 1 Introducción a las Fechas Java8 </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_ii/tema_9/page-2/ class=md-nav__link> <span class=md-ellipsis> 2 Fechas en Java 8 </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_ii/tema_9/page-3/ class=md-nav__link> <span class=md-ellipsis> 3 Fechas </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_ii/tema_9/page-4/ class=md-nav__link> <span class=md-ellipsis> Horas </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_ii/tema_9/page-5/ class=md-nav__link> <span class=md-ellipsis> Formateo de fechas </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_ii/tema_9/page-6/ class=md-nav__link> <span class=md-ellipsis> Otras clase de manejo de fechas </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_ii/tema_9/page-7/ class=md-nav__link> <span class=md-ellipsis> Ejercicios </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_ii/tema_9/page-8/ class=md-nav__link> <span class=md-ellipsis> Proyecto </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_5> <label class=md-nav__link for=__nav_3_5 id=__nav_3_5_label tabindex=0> <span class=md-ellipsis> Tema 10 - Genéricos </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_5_label aria-expanded=false> <label class=md-nav__title for=__nav_3_5> <span class="md-nav__icon md-icon"></span> Tema 10 - Genéricos </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../bloque_ii/tema_10/page-1/ class=md-nav__link> <span class=md-ellipsis> 10.1 Introducción a los Genéricos </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_ii/tema_10/page-2/ class=md-nav__link> <span class=md-ellipsis> 10.2 Uso de genéricos </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_ii/tema_10/page-3/ class=md-nav__link> <span class=md-ellipsis> 10.3 Genéricos avanzados </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_ii/tema_10/page-4/ class=md-nav__link> <span class=md-ellipsis> Ejercicios </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_ii/tema_10/page-5/ class=md-nav__link> <span class=md-ellipsis> Proyecto </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4> <label class=md-nav__link for=__nav_4 id=__nav_4_label tabindex=0> <span class=md-ellipsis> Bloque III </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Bloque III </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_1> <label class=md-nav__link for=__nav_4_1 id=__nav_4_1_label tabindex=0> <span class=md-ellipsis> Tema 11 - Colecciones </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_1_label aria-expanded=false> <label class=md-nav__title for=__nav_4_1> <span class="md-nav__icon md-icon"></span> Tema 11 - Colecciones </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../bloque_iii/tema_11/page-1/ class=md-nav__link> <span class=md-ellipsis> 1 Introducción a las colecciones </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_iii/tema_11/page-2/ class=md-nav__link> <span class=md-ellipsis> 2 ArrayList </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_iii/tema_11/page-3/ class=md-nav__link> <span class=md-ellipsis> 3 Conjuntos </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_iii/tema_11/page-4/ class=md-nav__link> <span class=md-ellipsis> 4 Mapas </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_iii/tema_11/page-5/ class=md-nav__link> <span class=md-ellipsis> 5 Árboles </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_iii/tema_11/page-6/ class=md-nav__link> <span class=md-ellipsis> 6 Pilas y colas </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_iii/tema_11/page-7/ class=md-nav__link> <span class=md-ellipsis> Ejercicios </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_iii/tema_11/page-8/ class=md-nav__link> <span class=md-ellipsis> Proyecto </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_2> <label class=md-nav__link for=__nav_4_2 id=__nav_4_2_label tabindex=0> <span class=md-ellipsis> Tema 12 - Programación Funcional </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_2_label aria-expanded=false> <label class=md-nav__title for=__nav_4_2> <span class="md-nav__icon md-icon"></span> Tema 12 - Programación Funcional </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../bloque_iii/tema_12/page-1/ class=md-nav__link> <span class=md-ellipsis> 1 Interfaces funcionales </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_iii/tema_12/page-2/ class=md-nav__link> <span class=md-ellipsis> 2 Expresiones lambda </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_iii/tema_12/page-3/ class=md-nav__link> <span class=md-ellipsis> 3 Alguna interfaces funcionales </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_iii/tema_12/page-4/ class=md-nav__link> <span class=md-ellipsis> 4 Optional </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_iii/tema_12/page-5/ class=md-nav__link> <span class=md-ellipsis> Proyecto y ejercicios </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_3> <label class=md-nav__link for=__nav_4_3 id=__nav_4_3_label tabindex=0> <span class=md-ellipsis> Tema 13 - Streams </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_3_label aria-expanded=false> <label class=md-nav__title for=__nav_4_3> <span class="md-nav__icon md-icon"></span> Tema 13 - Streams </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../bloque_iii/tema_13/page-1/ class=md-nav__link> <span class=md-ellipsis> 1 Introducción a los Streams </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_iii/tema_13/page-2/ class=md-nav__link> <span class=md-ellipsis> 2 Operaciones intermedias </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_iii/tema_13/page-3/ class=md-nav__link> <span class=md-ellipsis> 3 Operaciones terminales </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_iii/tema_13/page-4/ class=md-nav__link> <span class=md-ellipsis> 4 Reducción mutable </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_iii/tema_13/page-5/ class=md-nav__link> <span class=md-ellipsis> Ejercicios </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_iii/tema_13/page-6/ class=md-nav__link> <span class=md-ellipsis> Proyecto </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5 checked> <label class=md-nav__link for=__nav_5 id=__nav_5_label tabindex> <span class=md-ellipsis> Bloque IV </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=true> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> Bloque IV </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_1> <label class=md-nav__link for=__nav_5_1 id=__nav_5_1_label tabindex=0> <span class=md-ellipsis> Tema 14 - Ficheros </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_1_label aria-expanded=false> <label class=md-nav__title for=__nav_5_1> <span class="md-nav__icon md-icon"></span> Tema 14 - Ficheros </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../tema_14/page-1/ class=md-nav__link> <span class=md-ellipsis> 1 Introducción al Manejo de Ficheros </span> </a> </li> <li class=md-nav__item> <a href=../../tema_14/page-2/ class=md-nav__link> <span class=md-ellipsis> 2 Stream estándar </span> </a> </li> <li class=md-nav__item> <a href=../../tema_14/page-3/ class=md-nav__link> <span class=md-ellipsis> 3 Operaciones sobre ficheros </span> </a> </li> <li class=md-nav__item> <a href=../../tema_14/page-4/ class=md-nav__link> <span class=md-ellipsis> 4 Ficheros de Textos </span> </a> </li> <li class=md-nav__item> <a href=../../tema_14/page-5/ class=md-nav__link> <span class=md-ellipsis> 5 Ficheros Binarios </span> </a> </li> <li class=md-nav__item> <a href=../../tema_14/page-6/ class=md-nav__link> <span class=md-ellipsis> 6 Escritura y Lectura de Objeto </span> </a> </li> <li class=md-nav__item> <a href=../../tema_14/page-7/ class=md-nav__link> <span class=md-ellipsis> 7 Fichero de Acceso Aleatorio </span> </a> </li> <li class=md-nav__item> <a href=../../tema_14/page-8/ class=md-nav__link> <span class=md-ellipsis> 8 Introducción a los ficheros XML </span> </a> </li> <li class=md-nav__item> <a href=../../tema_14/page-9/ class=md-nav__link> <span class=md-ellipsis> 9 DOM </span> </a> </li> <li class=md-nav__item> <a href=../../tema_14/page-10/ class=md-nav__link> <span class=md-ellipsis> 10 Serialización de Objetos a XML </span> </a> </li> <li class=md-nav__item> <a href=../../tema_14/page-11/ class=md-nav__link> <span class=md-ellipsis> 11 XPath </span> </a> </li> <li class=md-nav__item> <a href=../../tema_14/page-12/ class=md-nav__link> <span class=md-ellipsis> 12 Acceso a ficheros XML con SAX </span> </a> </li> <li class=md-nav__item> <a href=../../tema_14/page-13/ class=md-nav__link> <span class=md-ellipsis> 13 Ficheros JSON </span> </a> </li> <li class=md-nav__item> <a href=../../tema_14/page-14/ class=md-nav__link> <span class=md-ellipsis> 14 Gson </span> </a> </li> <li class=md-nav__item> <a href=../../tema_14/page-15/ class=md-nav__link> <span class=md-ellipsis> Ejercicios </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_2> <label class=md-nav__link for=__nav_5_2 id=__nav_5_2_label tabindex=0> <span class=md-ellipsis> Tema 15 - Bases de datos Relacionales </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_2_label aria-expanded=false> <label class=md-nav__title for=__nav_5_2> <span class="md-nav__icon md-icon"></span> Tema 15 - Bases de datos Relacionales </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../tema_15/page-1/ class=md-nav__link> <span class=md-ellipsis> 1 Introducción a las bases de datos </span> </a> </li> <li class=md-nav__item> <a href=../../tema_15/page-2/ class=md-nav__link> <span class=md-ellipsis> 2 Bases de datos embebidas </span> </a> </li> <li class=md-nav__item> <a href=../../tema_15/page-3/ class=md-nav__link> <span class=md-ellipsis> 3 Protocolos de Acceso a Bases de Datos </span> </a> </li> <li class=md-nav__item> <a href=../../tema_15/page-4/ class=md-nav__link> <span class=md-ellipsis> 4 Funcionamiento del JDBC </span> </a> </li> <li class=md-nav__item> <a href=../../tema_15/page-5/ class=md-nav__link> <span class=md-ellipsis> 5 Ejecución de sentencias de descripción de datos </span> </a> </li> <li class=md-nav__item> <a href=../../tema_15/page-6/ class=md-nav__link> <span class=md-ellipsis> Ejercicios </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_3 checked> <label class=md-nav__link for=__nav_5_3 id=__nav_5_3_label tabindex=0> <span class=md-ellipsis> Tema 16 - Mapeo objeto-relacional </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_3_label aria-expanded=true> <label class=md-nav__title for=__nav_5_3> <span class="md-nav__icon md-icon"></span> Tema 16 - Mapeo objeto-relacional </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../page-1/ class=md-nav__link> <span class=md-ellipsis> 1 Introducción a las ORM </span> </a> </li> <li class=md-nav__item> <a href=../page-2/ class=md-nav__link> <span class=md-ellipsis> 2 Persistencia </span> </a> </li> <li class=md-nav__item> <a href=../page-3/ class=md-nav__link> <span class=md-ellipsis> 3 Java Persistence API (JPA) </span> </a> </li> <li class=md-nav__item> <a href=../page-4/ class=md-nav__link> <span class=md-ellipsis> 4 Java Persistence Query Language (JPQL) </span> </a> </li> <li class=md-nav__item> <a href=../page-5/ class=md-nav__link> <span class=md-ellipsis> 5 Estrategias de herencia </span> </a> </li> <li class=md-nav__item> <a href=../page-6/ class=md-nav__link> <span class=md-ellipsis> 6 Relaciones de Entidades </span> </a> </li> <li class=md-nav__item> <a href=../page-7/ class=md-nav__link> <span class=md-ellipsis> 7 Proyecto Students con JPA </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> 8 Hibernate </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> 8 Hibernate </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#introduccion class=md-nav__link> <span class=md-ellipsis> Introducción </span> </a> </li> <li class=md-nav__item> <a href=#arquitectura-hibernate class=md-nav__link> <span class=md-ellipsis> Arquitectura Hibernate </span> </a> </li> <li class=md-nav__item> <a href=#configuracion class=md-nav__link> <span class=md-ellipsis> Configuración </span> </a> </li> <li class=md-nav__item> <a href=#archivos-de-mapeo class=md-nav__link> <span class=md-ellipsis> Archivos de mapeo </span> </a> </li> <li class=md-nav__item> <a href=#sessions-y-objetos-hibernate class=md-nav__link> <span class=md-ellipsis> Sessions y objetos hibernate </span> </a> </li> <li class=md-nav__item> <a href=#transacciones class=md-nav__link> <span class=md-ellipsis> Transacciones </span> </a> </li> <li class=md-nav__item> <a href=#estados-de-un-objeto-hibernate class=md-nav__link> <span class=md-ellipsis> Estados de un objeto Hibernate </span> </a> </li> <li class=md-nav__item> <a href=#carga-de-objetos class=md-nav__link> <span class=md-ellipsis> Carga de objetos </span> </a> </li> <li class=md-nav__item> <a href=#operaciones-basicas-de-objetos class=md-nav__link> <span class=md-ellipsis> Operaciones básicas de objetos </span> </a> </li> <li class=md-nav__item> <a href=#consultas class=md-nav__link> <span class=md-ellipsis> Consultas </span> </a> </li> <li class=md-nav__item> <a href=#hql class=md-nav__link> <span class=md-ellipsis> HQL </span> </a> </li> <li class=md-nav__item> <a href=#consultas-con-parametros class=md-nav__link> <span class=md-ellipsis> Consultas con parámetros </span> </a> </li> <li class=md-nav__item> <a href=#consultas-sobre-clases-no-asociadas class=md-nav__link> <span class=md-ellipsis> Consultas sobre clases no asociadas </span> </a> </li> <li class=md-nav__item> <a href=#records class=md-nav__link> <span class=md-ellipsis> Records </span> </a> </li> <li class=md-nav__item> <a href=#proyecto-students-con-hibernate class=md-nav__link> <span class=md-ellipsis> Proyecto Students con Hibernate </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../page-9/ class=md-nav__link> <span class=md-ellipsis> Ejercicios </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_4> <label class=md-nav__link for=__nav_5_4 id=__nav_5_4_label tabindex=0> <span class=md-ellipsis> Tema 17 - Base de datos orientadas a objetos </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_4_label aria-expanded=false> <label class=md-nav__title for=__nav_5_4> <span class="md-nav__icon md-icon"></span> Tema 17 - Base de datos orientadas a objetos </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../tema_17/page-1/ class=md-nav__link> <span class=md-ellipsis> 1 Base de datos objeto relacional </span> </a> </li> <li class=md-nav__item> <a href=../../tema_17/page-2/ class=md-nav__link> <span class=md-ellipsis> 2 Base de datos orientadas a objetos </span> </a> </li> <li class=md-nav__item> <a href=../../tema_17/page-3/ class=md-nav__link> <span class=md-ellipsis> 3 ObjectDB </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_5> <label class=md-nav__link for=__nav_5_5 id=__nav_5_5_label tabindex=0> <span class=md-ellipsis> Tema 18 - Base de datos NoSQL </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_5_label aria-expanded=false> <label class=md-nav__title for=__nav_5_5> <span class="md-nav__icon md-icon"></span> Tema 18 - Base de datos NoSQL </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../tema_18/page-1/ class=md-nav__link> <span class=md-ellipsis> 1 Introducción a las bases de datos NoSQL </span> </a> </li> <li class=md-nav__item> <a href=../../tema_18/page-2/ class=md-nav__link> <span class=md-ellipsis> 2 Introducción a MongoDB </span> </a> </li> <li class=md-nav__item> <a href=../../tema_18/page-3/ class=md-nav__link> <span class=md-ellipsis> 3 Operaciones Básicas en MongoDB </span> </a> </li> <li class=md-nav__item> <a href=../../tema_18/page-4/ class=md-nav__link> <span class=md-ellipsis> 4 Agregación Pipeline </span> </a> </li> <li class=md-nav__item> <a href=../../tema_18/page-5/ class=md-nav__link> <span class=md-ellipsis> 5 Relaciones entre documentos </span> </a> </li> <li class=md-nav__item> <a href=../../tema_18/page-6/ class=md-nav__link> <span class=md-ellipsis> 6 MongoDB en Java </span> </a> </li> <li class=md-nav__item> <a href=../../tema_18/page-7/ class=md-nav__link> <span class=md-ellipsis> Proyecto </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6> <label class=md-nav__link for=__nav_6 id=__nav_6_label tabindex=0> <span class=md-ellipsis> Bloque V </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_6_label aria-expanded=false> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> Bloque V </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_1> <label class=md-nav__link for=__nav_6_1 id=__nav_6_1_label tabindex=0> <span class=md-ellipsis> Tema 19 - Programación Concurrente </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_1_label aria-expanded=false> <label class=md-nav__title for=__nav_6_1> <span class="md-nav__icon md-icon"></span> Tema 19 - Programación Concurrente </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../bloque_v/tema_19/page-1/ class=md-nav__link> <span class=md-ellipsis> 1 Programa vs Proceso </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_v/tema_19/page-2/ class=md-nav__link> <span class=md-ellipsis> 2 Computación Concurrente </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_v/tema_19/page-3/ class=md-nav__link> <span class=md-ellipsis> 3 Procesos en el sistema operativo </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_v/tema_19/page-4/ class=md-nav__link> <span class=md-ellipsis> 4 Técnicas de programación concurrente </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_v/tema_19/page-5/ class=md-nav__link> <span class=md-ellipsis> 5 Orden en Ejecución </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_v/tema_19/page-6/ class=md-nav__link> <span class=md-ellipsis> 6 Sincronización </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_v/tema_19/page-7/ class=md-nav__link> <span class=md-ellipsis> 7 Comunicación </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_v/tema_19/page-8/ class=md-nav__link> <span class=md-ellipsis> 8 Propiedad de Corrección en los programas concurrentes </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_2> <label class=md-nav__link for=__nav_6_2 id=__nav_6_2_label tabindex=0> <span class=md-ellipsis> Tema 20 - Gestión de Procesos </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_2_label aria-expanded=false> <label class=md-nav__title for=__nav_6_2> <span class="md-nav__icon md-icon"></span> Tema 20 - Gestión de Procesos </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../bloque_v/tema_20/page-1/ class=md-nav__link> <span class=md-ellipsis> 2 Runtime </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_v/tema_20/page-2/ class=md-nav__link> <span class=md-ellipsis> 2 ProcessBuilder </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_v/tema_20/page-3/ class=md-nav__link> <span class=md-ellipsis> 3 Flujos de comunicación </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_v/tema_20/page-4/ class=md-nav__link> <span class=md-ellipsis> 4 Finalización </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_v/tema_20/page-5/ class=md-nav__link> <span class=md-ellipsis> 5 ProcessHandle </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_v/tema_20/page-6/ class=md-nav__link> <span class=md-ellipsis> 6 Alternativas de comunicación </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_3> <label class=md-nav__link for=__nav_6_3 id=__nav_6_3_label tabindex=0> <span class=md-ellipsis> Tema 21 - Gestión de Hilos </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_3_label aria-expanded=false> <label class=md-nav__title for=__nav_6_3> <span class="md-nav__icon md-icon"></span> Tema 21 - Gestión de Hilos </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../bloque_v/tema_21/page-1/ class=md-nav__link> <span class=md-ellipsis> 1 Introducción a la Gestión de Hilos </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_v/tema_21/page-2/ class=md-nav__link> <span class=md-ellipsis> 2 Thread </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_v/tema_21/page-3/ class=md-nav__link> <span class=md-ellipsis> 3 Runnable </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_v/tema_21/page-4/ class=md-nav__link> <span class=md-ellipsis> 4 Prioridad de los hilos </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_v/tema_21/page-5/ class=md-nav__link> <span class=md-ellipsis> 5 Interrumpir </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_v/tema_21/page-6/ class=md-nav__link> <span class=md-ellipsis> 6 Dormir </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_v/tema_21/page-7/ class=md-nav__link> <span class=md-ellipsis> 7 Esperar la finalización </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_v/tema_21/page-8/ class=md-nav__link> <span class=md-ellipsis> 8 Daemons </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_v/tema_21/page-9/ class=md-nav__link> <span class=md-ellipsis> 9 UncaughtExceptionHandler </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_v/tema_21/page-10/ class=md-nav__link> <span class=md-ellipsis> 10 ThreadGroup </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_v/tema_21/page-11/ class=md-nav__link> <span class=md-ellipsis> 11 ThreadFactory </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_v/tema_21/page-12/ class=md-nav__link> <span class=md-ellipsis> 12 ThreadLocal </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_v/tema_21/page-13/ class=md-nav__link> <span class=md-ellipsis> Ejercicios </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_4> <label class=md-nav__link for=__nav_6_4 id=__nav_6_4_label tabindex=0> <span class=md-ellipsis> Tema 22 - Cerrojos </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_4_label aria-expanded=false> <label class=md-nav__title for=__nav_6_4> <span class="md-nav__icon md-icon"></span> Tema 22 - Cerrojos </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../bloque_v/tema_22/page-1/ class=md-nav__link> <span class=md-ellipsis> 1 Introducción a la Sincronización </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_v/tema_22/page-2/ class=md-nav__link> <span class=md-ellipsis> 2 Volatile </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_v/tema_22/page-3/ class=md-nav__link> <span class=md-ellipsis> 3 Cerrojo Intrínseco </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_v/tema_22/page-4/ class=md-nav__link> <span class=md-ellipsis> 4 Sincronización independiente (lock Striping) </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_v/tema_22/page-5/ class=md-nav__link> <span class=md-ellipsis> 5 Busy Waiting </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_v/tema_22/page-6/ class=md-nav__link> <span class=md-ellipsis> 6 Wait Notify </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_v/tema_22/page-7/ class=md-nav__link> <span class=md-ellipsis> 7 Lock </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_v/tema_22/page-8/ class=md-nav__link> <span class=md-ellipsis> 8 Condition </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_v/tema_22/page-9/ class=md-nav__link> <span class=md-ellipsis> 9 ReentrantReadWriteLock </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_v/tema_22/page-10/ class=md-nav__link> <span class=md-ellipsis> 10 StampedLock </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_v/tema_22/page-11/ class=md-nav__link> <span class=md-ellipsis> 11 Semaphore </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_v/tema_22/page-12/ class=md-nav__link> <span class=md-ellipsis> Ejercicios </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_5> <label class=md-nav__link for=__nav_6_5 id=__nav_6_5_label tabindex=0> <span class=md-ellipsis> Tema 23 - Barreras </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_5_label aria-expanded=false> <label class=md-nav__title for=__nav_6_5> <span class="md-nav__icon md-icon"></span> Tema 23 - Barreras </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../bloque_v/tema_23/page-1/ class=md-nav__link> <span class=md-ellipsis> 1 Barreras </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_v/tema_23/page-2/ class=md-nav__link> <span class=md-ellipsis> 2 CountDownLatch </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_v/tema_23/page-3/ class=md-nav__link> <span class=md-ellipsis> 3 CyclicBarrier </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_v/tema_23/page-4/ class=md-nav__link> <span class=md-ellipsis> 4 Phaser </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_v/tema_23/page-5/ class=md-nav__link> <span class=md-ellipsis> 5 Exchanger </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_v/tema_23/page-6/ class=md-nav__link> <span class=md-ellipsis> Ejercicios </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_6> <label class=md-nav__link for=__nav_6_6 id=__nav_6_6_label tabindex=0> <span class=md-ellipsis> Tema 24 - Variables Atómicas </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_6_label aria-expanded=false> <label class=md-nav__title for=__nav_6_6> <span class="md-nav__icon md-icon"></span> Tema 24 - Variables Atómicas </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../bloque_v/tema_24/page-1/ class=md-nav__link> <span class=md-ellipsis> 1 Paquete atomic </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_v/tema_24/page-2/ class=md-nav__link> <span class=md-ellipsis> 2 Variables atómicas </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_v/tema_24/page-3/ class=md-nav__link> <span class=md-ellipsis> 3 Acumuladores Atómicos </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_v/tema_24/page-4/ class=md-nav__link> <span class=md-ellipsis> 4 VarHandle </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_v/tema_24/page-5/ class=md-nav__link> <span class=md-ellipsis> Ejercicios </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_7> <label class=md-nav__link for=__nav_6_7 id=__nav_6_7_label tabindex=0> <span class=md-ellipsis> Tema 25 - Colecciones thread-safe </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_7_label aria-expanded=false> <label class=md-nav__title for=__nav_6_7> <span class="md-nav__icon md-icon"></span> Tema 25 - Colecciones thread-safe </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../bloque_v/tema_25/page-1/ class=md-nav__link> <span class=md-ellipsis> 1 Tipos de Colecciones Thread-Safe </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_v/tema_25/page-2/ class=md-nav__link> <span class=md-ellipsis> 2 Unmodifiable Collections </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_v/tema_25/page-3/ class=md-nav__link> <span class=md-ellipsis> 3 Copy on write collections </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_v/tema_25/page-4/ class=md-nav__link> <span class=md-ellipsis> 4 Inmutable Collections </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_v/tema_25/page-5/ class=md-nav__link> <span class=md-ellipsis> 5 Synchronized Collections </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_v/tema_25/page-6/ class=md-nav__link> <span class=md-ellipsis> 6 Concurrent-aware collections </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_v/tema_25/page-7/ class=md-nav__link> <span class=md-ellipsis> 7 Concurrent-aware collections que usan cerrojos </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_v/tema_25/page-8/ class=md-nav__link> <span class=md-ellipsis> 8 Concurrent-aware collections </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_v/tema_25/page-9/ class=md-nav__link> <span class=md-ellipsis> Ejercicios </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_8> <label class=md-nav__link for=__nav_6_8 id=__nav_6_8_label tabindex=0> <span class=md-ellipsis> Tema 26 - Executor Framework </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_8_label aria-expanded=false> <label class=md-nav__title for=__nav_6_8> <span class="md-nav__icon md-icon"></span> Tema 26 - Executor Framework </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../bloque_v/tema_26/page-1/ class=md-nav__link> <span class=md-ellipsis> 1 Introducción </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_v/tema_26/page-2/ class=md-nav__link> <span class=md-ellipsis> 2 La Interfaz Executor </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_v/tema_26/page-3/ class=md-nav__link> <span class=md-ellipsis> 3 Creación de un ThreadPoolExecutor </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_v/tema_26/page-4/ class=md-nav__link> <span class=md-ellipsis> 4 Terminación de un ejecutor </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_v/tema_26/page-5/ class=md-nav__link> <span class=md-ellipsis> 5 CachedThreadPool </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_v/tema_26/page-6/ class=md-nav__link> <span class=md-ellipsis> 6 FixedThreadPool </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_v/tema_26/page-7/ class=md-nav__link> <span class=md-ellipsis> 7 Callable </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_v/tema_26/page-8/ class=md-nav__link> <span class=md-ellipsis> 8 Future </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_v/tema_26/page-9/ class=md-nav__link> <span class=md-ellipsis> 9 Métodos de envío de tareas en la interfaz ExecutorService </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_v/tema_26/page-10/ class=md-nav__link> <span class=md-ellipsis> 10 InvokeAll() </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_v/tema_26/page-11/ class=md-nav__link> <span class=md-ellipsis> 11 InvokeAny() </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_v/tema_26/page-12/ class=md-nav__link> <span class=md-ellipsis> 12 ThreadFactory </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_v/tema_26/page-13/ class=md-nav__link> <span class=md-ellipsis> 13 RejectedExecutionHandler </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_v/tema_26/page-14/ class=md-nav__link> <span class=md-ellipsis> 14 ScheduledThreadPoolExecutor </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_v/tema_26/page-15/ class=md-nav__link> <span class=md-ellipsis> 15 Planificación del inicio de ejecución de una tarea </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_v/tema_26/page-16/ class=md-nav__link> <span class=md-ellipsis> 16 Ejecutar una tarea de manera periódica </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_v/tema_26/page-17/ class=md-nav__link> <span class=md-ellipsis> 17 Cancelación de tareas y terminación del ScheduledThreadPoolExecutor </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_v/tema_26/page-18/ class=md-nav__link> <span class=md-ellipsis> 18 ExecutorCompletionService </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_v/tema_26/page-19/ class=md-nav__link> <span class=md-ellipsis> 19 FutureTask </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_v/tema_26/page-20/ class=md-nav__link> <span class=md-ellipsis> Ejercicios </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_9> <label class=md-nav__link for=__nav_6_9 id=__nav_6_9_label tabindex=0> <span class=md-ellipsis> Tema 27 - ForkJoin Framework </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_9_label aria-expanded=false> <label class=md-nav__title for=__nav_6_9> <span class="md-nav__icon md-icon"></span> Tema 27 - ForkJoin Framework </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../bloque_v/tema_27/page-1/ class=md-nav__link> <span class=md-ellipsis> 1 Introducción al ForkJoin framework </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_v/tema_27/page-2/ class=md-nav__link> <span class=md-ellipsis> 2 ForkJoinPool </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_v/tema_27/page-3/ class=md-nav__link> <span class=md-ellipsis> 3 ForkJoinTask </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_v/tema_27/page-4/ class=md-nav__link> <span class=md-ellipsis> 4 Algoritmo de robo de trabajo </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_v/tema_27/page-5/ class=md-nav__link> <span class=md-ellipsis> 5 RecursiveAction </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_v/tema_27/page-6/ class=md-nav__link> <span class=md-ellipsis> 6 RecursiveTask </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_v/tema_27/page-7/ class=md-nav__link> <span class=md-ellipsis> 7 Common Fork-Join pool </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_v/tema_27/page-8/ class=md-nav__link> <span class=md-ellipsis> Ejercicios </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_10> <label class=md-nav__link for=__nav_6_10 id=__nav_6_10_label tabindex=0> <span class=md-ellipsis> Tema 28 - CompletableFuture </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_10_label aria-expanded=false> <label class=md-nav__title for=__nav_6_10> <span class="md-nav__icon md-icon"></span> Tema 28 - CompletableFuture </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../bloque_v/tema_28/page-1/ class=md-nav__link> <span class=md-ellipsis> 1 Introducción a CompletableFuture </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_v/tema_28/page-2/ class=md-nav__link> <span class=md-ellipsis> 2 Nomenclatura de los métodos </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_v/tema_28/page-3/ class=md-nav__link> <span class=md-ellipsis> 3 Métodos factoría para construir CompletableFutures </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_v/tema_28/page-4/ class=md-nav__link> <span class=md-ellipsis> 4 Obtención del valor con el que se ha completado </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_v/tema_28/page-5/ class=md-nav__link> <span class=md-ellipsis> 5 Ejecutar un runnable asíncronamente </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_v/tema_28/page-6/ class=md-nav__link> <span class=md-ellipsis> 6 Consumir el resultado de manera asíncrona </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_v/tema_28/page-7/ class=md-nav__link> <span class=md-ellipsis> 7 Transformar el resultado de manera asíncrona </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_v/tema_28/page-8/ class=md-nav__link> <span class=md-ellipsis> 8 Gestión de excepciones </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_v/tema_28/page-9/ class=md-nav__link> <span class=md-ellipsis> 9 Completando explícitamente un CompletableFuture </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_v/tema_28/page-10/ class=md-nav__link> <span class=md-ellipsis> 10 CompletableFuture.allOf() </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_v/tema_28/page-11/ class=md-nav__link> <span class=md-ellipsis> Page 11 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_11> <label class=md-nav__link for=__nav_6_11 id=__nav_6_11_label tabindex=0> <span class=md-ellipsis> Tema 29 - Sockets </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_11_label aria-expanded=false> <label class=md-nav__title for=__nav_6_11> <span class="md-nav__icon md-icon"></span> Tema 29 - Sockets </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../bloque_v/tema_29/page-1/ class=md-nav__link> <span class=md-ellipsis> 1 Arquitectura Cliente-Servidor </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_v/tema_29/page-2/ class=md-nav__link> <span class=md-ellipsis> 2 TCP / IP </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_v/tema_29/page-3/ class=md-nav__link> <span class=md-ellipsis> 3 InetAddress </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_v/tema_29/page-4/ class=md-nav__link> <span class=md-ellipsis> 4 Concepto de Socket </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_v/tema_29/page-5/ class=md-nav__link> <span class=md-ellipsis> 5 Sockets orientados a conexión </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_v/tema_29/page-6/ class=md-nav__link> <span class=md-ellipsis> 6 Sockets no orientados a conexión </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_v/tema_29/page-7/ class=md-nav__link> <span class=md-ellipsis> Ejercicios </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_12> <label class=md-nav__link for=__nav_6_12 id=__nav_6_12_label tabindex=0> <span class=md-ellipsis> Tema 30 - HTTP </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_12_label aria-expanded=false> <label class=md-nav__title for=__nav_6_12> <span class="md-nav__icon md-icon"></span> Tema 30 - HTTP </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../bloque_v/tema_30/page-1/ class=md-nav__link> <span class=md-ellipsis> 1 URI </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_v/tema_30/page-2/ class=md-nav__link> <span class=md-ellipsis> 2 URL </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_v/tema_30/page-3/ class=md-nav__link> <span class=md-ellipsis> 3 URLEncoder y URLDecoder </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_v/tema_30/page-4/ class=md-nav__link> <span class=md-ellipsis> 4 UrlConnection </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_v/tema_30/page-5/ class=md-nav__link> <span class=md-ellipsis> 5 Protocolo HTTP </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_v/tema_30/page-6/ class=md-nav__link> <span class=md-ellipsis> 6 Arquitectura REST </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_v/tema_30/page-7/ class=md-nav__link> <span class=md-ellipsis> 7 HttpURLConnection </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_v/tema_30/page-8/ class=md-nav__link> <span class=md-ellipsis> 8 OkHttp </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_v/tema_30/page-9/ class=md-nav__link> <span class=md-ellipsis> 9 HttpClient </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_v/tema_30/page-10/ class=md-nav__link> <span class=md-ellipsis> 10 Retrofit </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_v/tema_30/page-11/ class=md-nav__link> <span class=md-ellipsis> Ejercicios </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7> <label class=md-nav__link for=__nav_7 id=__nav_7_label tabindex=0> <span class=md-ellipsis> Bloque VI </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_7_label aria-expanded=false> <label class=md-nav__title for=__nav_7> <span class="md-nav__icon md-icon"></span> Bloque VI </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7_1> <label class=md-nav__link for=__nav_7_1 id=__nav_7_1_label tabindex=0> <span class=md-ellipsis> Tema 31 - Interfaces Gráficas con AWT </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_7_1_label aria-expanded=false> <label class=md-nav__title for=__nav_7_1> <span class="md-nav__icon md-icon"></span> Tema 31 - Interfaces Gráficas con AWT </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../bloque_vi/tema_31/page-1/ class=md-nav__link> <span class=md-ellipsis> 1 Introducción a las interfaces gráficas </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_vi/tema_31/page-2/ class=md-nav__link> <span class=md-ellipsis> 2 Introducción a AWT </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_vi/tema_31/page-3/ class=md-nav__link> <span class=md-ellipsis> 3 Componentes </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_vi/tema_31/page-4/ class=md-nav__link> <span class=md-ellipsis> 4 Layouts </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_vi/tema_31/page-5/ class=md-nav__link> <span class=md-ellipsis> 5 Eventos </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_vi/tema_31/page-6/ class=md-nav__link> <span class=md-ellipsis> 6 Estilos </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_vi/tema_31/page-7/ class=md-nav__link> <span class=md-ellipsis> Ejercicio </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7_2> <label class=md-nav__link for=__nav_7_2 id=__nav_7_2_label tabindex=0> <span class=md-ellipsis> Tema 32 - Interfaces Gráficas con SWING </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_7_2_label aria-expanded=false> <label class=md-nav__title for=__nav_7_2> <span class="md-nav__icon md-icon"></span> Tema 32 - Interfaces Gráficas con SWING </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../bloque_vi/tema_32/page-1/ class=md-nav__link> <span class=md-ellipsis> 1 Swing </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_vi/tema_32/page-2/ class=md-nav__link> <span class=md-ellipsis> 2 Componentes </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_vi/tema_32/page-3/ class=md-nav__link> <span class=md-ellipsis> 3 Componentes </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_vi/tema_32/page-4/ class=md-nav__link> <span class=md-ellipsis> 4 Contenedores </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_vi/tema_32/page-5/ class=md-nav__link> <span class=md-ellipsis> 5 Layouts </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_vi/tema_32/page-6/ class=md-nav__link> <span class=md-ellipsis> 6 Multihilo </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_vi/tema_32/page-7/ class=md-nav__link> <span class=md-ellipsis> Ejercicios </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7_3> <label class=md-nav__link for=__nav_7_3 id=__nav_7_3_label tabindex=0> <span class=md-ellipsis> Tema 33 - Interfaces Gráficas con JavaFX </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_7_3_label aria-expanded=false> <label class=md-nav__title for=__nav_7_3> <span class="md-nav__icon md-icon"></span> Tema 33 - Interfaces Gráficas con JavaFX </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../bloque_vi/tema_33/page-1/ class=md-nav__link> <span class=md-ellipsis> 1 Introducción a Java FX </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_vi/tema_33/page-2/ class=md-nav__link> <span class=md-ellipsis> 2 Nodes </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_vi/tema_33/page-3/ class=md-nav__link> <span class=md-ellipsis> 3 Layouts </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_vi/tema_33/page-4/ class=md-nav__link> <span class=md-ellipsis> 4 Componentes </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_vi/tema_33/page-5/ class=md-nav__link> <span class=md-ellipsis> 5 Eventos </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_vi/tema_33/page-6/ class=md-nav__link> <span class=md-ellipsis> 6 Manejo de cambios </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_vi/tema_33/page-7/ class=md-nav__link> <span class=md-ellipsis> 7 FXML </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_vi/tema_33/page-8/ class=md-nav__link> <span class=md-ellipsis> 8 Estilos </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_vi/tema_33/page-9/ class=md-nav__link> <span class=md-ellipsis> 9 Más JavaFX </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_vi/tema_33/page-10/ class=md-nav__link> <span class=md-ellipsis> Diálogos </span> </a> </li> <li class=md-nav__item> <a href=../../../bloque_vi/tema_33/page-11/ class=md-nav__link> <span class=md-ellipsis> Ejercicios </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=8-hibernate>8 Hibernate<a class=headerlink href=#8-hibernate title="Permanent link">&para;</a></h1> <h2 id=introduccion>Introducción<a class=headerlink href=#introduccion title="Permanent link">&para;</a></h2> <p><strong><em>Hibernate</em></strong> es un proveedor de JPA, uno de los más populares y ampliamente utilizados en la comunidad de desarrollo de Java. Actúa como una implementación de la especificación JPA, permitiendo a los desarrolladores interactuar con bases de datos relacionales utilizando entidades mapeadas en objetos Java.</p> <p>Hibernate ofrece una serie de características poderosas para el mapeo objeto-relacional, incluyendo:</p> <ol> <li><strong>Mapeo de entidades</strong>: Hibernate permite mapear clases Java a tablas en la base de datos y atributos de clase a columnas en esas tablas.</li> <li><strong>Consultas JPQL</strong>: Proporciona un lenguaje de consulta llamado JPQL (Java Persistence Query Language) que permite realizar consultas orientadas a objetos en lugar de escribir SQL directamente.</li> <li><strong>Gestión de transacciones</strong>: Hibernate facilita la gestión de transacciones en aplicaciones JPA, lo que garantiza la consistencia y la integridad de los datos.</li> <li><strong>Caché de primer y segundo nivel</strong>: Ofrece mecanismos de caché que pueden mejorar el rendimiento de las consultas y reducir la carga en la base de datos.</li> <li><strong>Relaciones</strong>: Hibernate admite una variedad de tipos de relaciones, incluyendo relaciones uno a uno, uno a muchos y muchos a muchos, lo que facilita el modelado de datos complejos.</li> <li><strong>Herencia</strong>: Permite mapear jerarquías de clases y herencia de manera eficiente.</li> <li><strong>Integración con Java EE y Spring</strong>: Hibernate se puede integrar con entornos de desarrollo empresarial como Java EE y marcos de desarrollo como Spring.</li> </ol> <p>Es importante destacar que Hibernate no es el único proveedor de JPA disponible. Otros proveedores, como EclipseLink y Apache OpenJPA, también implementan la especificación JPA y proporcionan funcionalidades similares. La elección de un proveedor específico depende de los requisitos del proyecto y las preferencias del desarrollador. Hibernate es popular debido a su amplia comunidad de usuarios, su amplia adopción y su rico conjunto de características.</p> <h2 id=arquitectura-hibernate>Arquitectura Hibernate<a class=headerlink href=#arquitectura-hibernate title="Permanent link">&para;</a></h2> <p>Hibernate parte de la filosofía de mapear objetos Java (POJO). Para almacenar y recuperar estos objetos de la base de datos, el desarrollador debe mantener una conversación con el motor de Hibernate mediante un objeto especial que es la <strong>sesión</strong> (equiparable al concepto de conexión de JDBC). Igual que con las conexiones JDBC, las sesiones se deben crear y cerrar.</p> <figure> <p><img alt="Arquitectura Hibernate" src=../res/hibernate_architecture.png> <figcaption>Figura 6 - Arquitectura hibernate</figcaption></p> </figure> <p>La clase <code>Session</code> pertenece al paquete <code>org.hibernate.Session</code> y ofrece métodos como <code>save(Object object)</code>, <code>createQuery(String sql)</code>, <code>beginTransaction()</code>, <code>close()</code>, etc, para interactuar con la base de datos.</p> <p>Por ejemplo, podemos insertar un objeto con <code>save(Object o)</code> sin necesidad de especificar una sentencia SQL. Una instancia de <code>Session</code> no consume mucha memoria y su creación y destrucción es muy eficiente, lo que es muy importante ya que podemos crear y destruir sesiones todo el tiempo, quizás en cada petición.</p> <p>Las interfaces de hibernate son las siguientes:</p> <ul> <li>La interfaz <code>SessionFactory</code> permite obtener instancias <code>Session</code>. Esta interfaz debe compartirse entre muchos hilos de ejecución. Por regla general hay una única <code>SessionFactory</code> para toda la aplicación, creada durante la inicialización de la misma, y se utilizar para crear todas las sesiones relacionadas con un contexto dado. Si la aplicación accede a varias bases de datos se necesitará una <code>SessionFactory</code> por cada base de datos.</li> <li>La interfaz <code>Configuration</code> se utiliza para configurar Hibernate. La aplicación la utiliza para especificar la ubicación de los documentos que indican el mapeado de los objetos y propiedades especificas de Hibernate, y a continuación crea la <code>SessionFactory</code>.</li> <li>La interfaz <code>Query</code> permite realizar consultar a la base de datos y controla cómo se ejecutan dichas consultas. Las consultas se escriben en <strong>HQL</strong> o en el dialecto <em>SQL</em> nativo de la base de datos que estemos utilizando. Una instancia de esta interfaz se utiliza para enlazar los parámetros de la consulta, limitar el número de resultados devueltos y para ejecutar dicha consulta.</li> <li> <p>La interfaz <code>Transaction</code> nos permite asegurar que cualquier error que ocurra entre el inicio y el final de la transacción produzca el fallo de la misma.</p> <p><figure markdown> <pre class=mermaid><code>flowchart
    cfg["Configuration
    Configuration cfg = new Configuration().configure();"]
    factory["SessionFactory
    SessionFactory sessionFactory = cfg.buildSessionFactory();"]
    db[(Database)]
    session1["Session
    Session session = sessionFactory.openSession();"]
    session2["Session
    Session session = sessionFactory.openSession();"]

    subgraph one
    trans1["Transaction
    Transaction tx = session.beginTransaction"]
    subgraph two LR
    save1["save"]
    load1["load"]
    delete1["delete"]
    get1["get"]
    update1["update"]
    end
    subgraph three LR 
    commit1["tx.commit();"]
    rollback1["tx.rollback();"]
    end
    close1["session.close();"]
    end

    subgraph four
    trans1["**Transaction**
    Transaction tx = session.beginTransaction"]
    subgraph five LR
    save2["save"]
    load2["load"]
    delete2["delete"]
    get2["get"]
    update2["update"]
    end
    subgraph six LR 
    commit2["tx.commit();"]
    rollback2["tx.rollback();"]
    end
    close2["session.close();"]
    end

    cfg --&gt; factory
    factory --&gt; session1
    factory --&gt; session2
    factory --&gt; db
    session1 --&gt; one
    session2 --&gt; four</code></pre> <figcaption>Figura 7 - Aplicación con Hibernate</figcaption> </figure></p> </li> </ul> <h2 id=configuracion>Configuración<a class=headerlink href=#configuracion title="Permanent link">&para;</a></h2> <p>El fichero de configuración de Hibernate es un archivo XML que contiene una serie de elemento que indican sus propiedad, como el protocolo a seguir, y los datos de conexión.</p> <p>El fichero de configuración debe ir en la raíz del proyecto o en la carpeta <em>resources</em> si se usa un gestor de proyectos. El nombre del fichero debe ser <strong>hibernate.cfg.xml</strong></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nt>&lt;hibernate-configuration&gt;</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=w>    </span><span class=nt>&lt;session-factory</span><span class=w> </span><span class=na>name=</span><span class=s>&quot;MyConnection&quot;</span><span class=nt>&gt;</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=w>        </span><span class=nt>&lt;property</span><span class=w> </span><span class=na>name=</span><span class=s>&quot;hibernate.connection.drive_class&quot;</span><span class=nt>&gt;</span>com.mysql.jdbc.Driver<span class=nt>&lt;/property&gt;</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=w>        </span><span class=nt>&lt;property</span><span class=w> </span><span class=na>name=</span><span class=s>&quot;hibernate.connection.username&quot;</span><span class=nt>&gt;</span>root<span class=nt>&lt;/property&gt;</span>
<a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=w>        </span><span class=nt>&lt;property</span><span class=w> </span><span class=na>name=</span><span class=s>&quot;hibernate.connection.password&quot;</span><span class=nt>&gt;&lt;/property&gt;</span>
<a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=w>        </span><span class=nt>&lt;property</span><span class=w> </span><span class=na>name=</span><span class=s>&quot;hibernate.connection.url&quot;</span><span class=nt>&gt;</span>jdbc:mysql://localhost/horario<span class=nt>&lt;/property&gt;</span>
<a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a><span class=w>        </span><span class=nt>&lt;property</span><span class=w> </span><span class=na>name=</span><span class=s>&quot;hibernate.dialect&quot;</span><span class=nt>&gt;</span>org.hibernate.dialect.MySQLDialect<span class=nt>&lt;/property&gt;</span>
<a id=__codelineno-0-8 name=__codelineno-0-8 href=#__codelineno-0-8></a><span class=w>    </span><span class=nt>&lt;/session-factory&gt;</span>
<a id=__codelineno-0-9 name=__codelineno-0-9 href=#__codelineno-0-9></a><span class=nt>&lt;/hibernate-configuration&gt;</span>
</code></pre></div> <p>En el ejemplo anterior vemos como tenemos una factoría de sesión llama <em>MyConnection</em> con las propiedades pertinentes para una conexión a la base de datos <em>horario</em>.</p> <p>Este archivo de configuración servirá como sustituto del archivo de configuración de la JPA estándar (<em>persistence.xml</em>).</p> <p>Para poder indicar el mapeo de una entidad, se usará la etiqueta <code>&lt;mapping&gt;</code>. Se utilizará junto el atributo <code>class</code> cuando el mapeo de una entidad viene determinado por una clase, mientras que con el atributo <code>resource</code> se indicará el archivo ORM que define el mapeo.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a><span class=nt>&lt;mapping</span><span class=w> </span><span class=na>class=</span><span class=s>&quot;com.package.CLASS&quot;</span><span class=nt>/&gt;</span>
<a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a>
<a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a><span class=nt>&lt;mapping</span><span class=w> </span><span class=na>resource=</span><span class=s>&quot;url/to/ORM.xml&quot;</span><span class=nt>/&gt;</span>
</code></pre></div> <div class="admonition warning"> <p class=admonition-title>Importante</p> <p>Las clases que funcione como entidades deben implementar la interfaz <code>Serializable</code>. Además se recomiendan los estándares de renombrado de JavaBean.</p> </div> <h2 id=archivos-de-mapeo>Archivos de mapeo<a class=headerlink href=#archivos-de-mapeo title="Permanent link">&para;</a></h2> <p>A la hora de realizar el mapeo de una entidad a través de anotaciones, no es necesario realizar ningún cambio, ya que Hibernate usa las anotaciones del paquete de JPA. Mientras que si queremos mapear una entidad a través un archivo XML, podemos usar la nomenclatura estándar ed la JPA o una específica para Hibernate (recomendado).</p> <p>Un ejemplo de una configuración específica es:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a><span class=cp>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<a id=__codelineno-2-2 name=__codelineno-2-2 href=#__codelineno-2-2></a><span class=cp>&lt;!DOCTYPE hibernate-mapping PUBLIC &quot;-//Hibernate/Hibernate Mapping DTD 3.0//EN&quot; &quot;http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd&quot;&gt;</span>
<a id=__codelineno-2-3 name=__codelineno-2-3 href=#__codelineno-2-3></a><span class=nt>&lt;hibernate-mapping&gt;</span>
<a id=__codelineno-2-4 name=__codelineno-2-4 href=#__codelineno-2-4></a><span class=w>  </span><span class=nt>&lt;class</span><span class=w> </span><span class=na>name=</span><span class=s>&quot;ejemplo01.Profesor&quot;</span><span class=w> </span><span class=na>table=</span><span class=s>&quot;Profesor&quot;</span><span class=w> </span><span class=nt>&gt;</span>
<a id=__codelineno-2-5 name=__codelineno-2-5 href=#__codelineno-2-5></a><span class=w>    </span><span class=nt>&lt;id</span><span class=w> </span><span class=na>column=</span><span class=s>&quot;Id&quot;</span><span class=w> </span><span class=na>name=</span><span class=s>&quot;id&quot;</span><span class=w> </span><span class=na>type=</span><span class=s>&quot;integer&quot;</span><span class=nt>&gt;</span>
<a id=__codelineno-2-6 name=__codelineno-2-6 href=#__codelineno-2-6></a><span class=w>        </span><span class=nt>&lt;generator</span><span class=w> </span><span class=na>class=</span><span class=s>&quot;identity&quot;</span><span class=nt>/&gt;</span>
<a id=__codelineno-2-7 name=__codelineno-2-7 href=#__codelineno-2-7></a><span class=w>    </span><span class=nt>&lt;/id&gt;</span>
<a id=__codelineno-2-8 name=__codelineno-2-8 href=#__codelineno-2-8></a><span class=w>    </span><span class=nt>&lt;property</span><span class=w> </span><span class=na>name=</span><span class=s>&quot;nombre&quot;</span><span class=w> </span><span class=nt>/&gt;</span>
<a id=__codelineno-2-9 name=__codelineno-2-9 href=#__codelineno-2-9></a><span class=w>    </span><span class=nt>&lt;property</span><span class=w> </span><span class=na>name=</span><span class=s>&quot;ape1&quot;</span><span class=w> </span><span class=nt>/&gt;</span>
<a id=__codelineno-2-10 name=__codelineno-2-10 href=#__codelineno-2-10></a><span class=w>    </span><span class=nt>&lt;property</span><span class=w> </span><span class=na>name=</span><span class=s>&quot;ape2&quot;</span><span class=w> </span><span class=nt>/&gt;</span>
<a id=__codelineno-2-11 name=__codelineno-2-11 href=#__codelineno-2-11></a><span class=w>  </span><span class=nt>&lt;/class&gt;</span>
<a id=__codelineno-2-12 name=__codelineno-2-12 href=#__codelineno-2-12></a><span class=nt>&lt;/hibernate-mapping&gt;</span>
</code></pre></div> <p>De este ejemplo podemos destacar las siguientes etiqueta:</p> <ul> <li><code>class</code>: indica la clase que hace de entidad. Con el atributo <code>name</code> indicamos la ruta de paquetes del fichero Java y con el atributo <code>table</code> indica el nombre de la tabla de la base de datos con la que está relacionada.</li> <li><code>id</code>: indica el atributo de la clase que actúa como primary key. Con el atributo <code>column</code> indicamos el nombre de la columna de la base de datos a la que hace referencia, y con el atributo <code>name</code> el nombre del atributo de la clase. Además con <code>type</code> podemos indicar el tipo de dato.</li> <li><code>property</code>: indica los atributos de las clases. También tiene el atributo <code>access</code> al igual que en los archivos ORM estándar pero en esta ocasión se usa por defecto el valor <strong>property</strong></li> <li><code>generator</code>: indica la forma en la que se va a generar la clave primaria. Los valores posibles son:<ul> <li><strong>increment</strong>: genera identificadores.</li> <li><strong>identity</strong>: admite columnas de identidad de DB2, MySQL, MS SQL Server, Sybase y HypersonicSQL.</li> <li><strong>sequence</strong>: usa una secuencia en DB2, PostgreSQL, Oracle, SAP DB, McKoi o un generador en Interbase.</li> </ul> </li> </ul> <div class="admonition info"> <p class=admonition-title>Info</p> <p>Para más información de las etiquetas y de los atributos visite: <a href=http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd>http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd</a></p> </div> <p>Para las relaciones tenemos las siguientes etiquetas:</p> <ul> <li><code>many-to-one</code>: indica una relación de muchos a uno. Algunos de sus atributos más comunes son: <code>name</code>, <code>column</code>, <code>class</code>.</li> <li><code>one-to-one</code>: indica una relación de uno a uno.</li> <li><code>join</code>: mapea las propiedades de una clase a varias tablas que tengan relación uno-a-uno.</li> </ul> <p>Para poder indicar una relación <code>many-to-many</code> hacemos uso de las etiquetas <code>set</code>, <code>list</code> o <code>map</code>. Los atributos más comunes son:</p> <ul> <li><code>name</code>: indica el nombre del atributo de la clase que representa la lista.</li> <li><code>table</code>: indica el nombre de la tabla que representa la relación. Por ejemplo, si tenemos una tabla <em>product</em> y otra <em>customer</em>, la tabla que representa la relación puede ser <em>cart</em>.</li> </ul> <p>Dentro de estas etiquetas podemos encontrar otras como:</p> <ul> <li><code>key</code>: indica la clave de la relación, normalmente representa a la clave primaria de la entidad. En su interior se debe usar la etiqueta <code>column</code> para indicar a que columna hace referencia.</li> <li><code>many-to-many</code>: indica la otra clase identidad que debe mapear, si la relación es many to many.</li> <li><code>one-to-many</code>: indica la clase a la que hace referencia, pero en esta ocasión la relación es one to many.</li> </ul> <p>Este ejemplo trata dos entidad, <em>Stock</em> y <em>StockDailyRecord</em>, cuya relación es de uno a muchos. La clase <em>Stock</em> representa el stock de un producto, mientras que <em>StockDailyRecord</em> representa los cambios de stock diarios:</p> <div class="tabbed-set tabbed-alternate" data-tabs=1:2><input checked=checked id=__tabbed_1_1 name=__tabbed_1 type=radio><input id=__tabbed_1_2 name=__tabbed_1 type=radio><div class=tabbed-labels><label for=__tabbed_1_1>Stock</label><label for=__tabbed_1_2>StockDailyRecord</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a><span class=cp>&lt;?xml version=&quot;1.0&quot;?&gt;</span>
<a id=__codelineno-3-2 name=__codelineno-3-2 href=#__codelineno-3-2></a><span class=cp>&lt;!DOCTYPE hibernate-mapping PUBLIC &quot;-//Hibernate/Hibernate Mapping DTD 3.0//EN&quot;</span>
<a id=__codelineno-3-3 name=__codelineno-3-3 href=#__codelineno-3-3></a><span class=cp>&quot;http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd&quot;&gt;</span>
<a id=__codelineno-3-4 name=__codelineno-3-4 href=#__codelineno-3-4></a><span class=nt>&lt;hibernate-mapping&gt;</span>
<a id=__codelineno-3-5 name=__codelineno-3-5 href=#__codelineno-3-5></a><span class=w>    </span><span class=nt>&lt;class</span><span class=w> </span><span class=na>name=</span><span class=s>&quot;com.example.stock.Stock&quot;</span><span class=w> </span><span class=na>table=</span><span class=s>&quot;stock&quot;</span><span class=w> </span><span class=na>catalog=</span><span class=s>&quot;example_db&quot;</span><span class=nt>&gt;</span>
<a id=__codelineno-3-6 name=__codelineno-3-6 href=#__codelineno-3-6></a><span class=w>        </span><span class=nt>&lt;id</span><span class=w> </span><span class=na>name=</span><span class=s>&quot;stockId&quot;</span><span class=w> </span><span class=na>type=</span><span class=s>&quot;java.lang.Integer&quot;</span><span class=nt>&gt;</span>
<a id=__codelineno-3-7 name=__codelineno-3-7 href=#__codelineno-3-7></a><span class=w>            </span><span class=nt>&lt;column</span><span class=w> </span><span class=na>name=</span><span class=s>&quot;STOCK_ID&quot;</span><span class=w> </span><span class=nt>/&gt;</span>
<a id=__codelineno-3-8 name=__codelineno-3-8 href=#__codelineno-3-8></a><span class=w>            </span><span class=nt>&lt;generator</span><span class=w> </span><span class=na>class=</span><span class=s>&quot;identity&quot;</span><span class=w> </span><span class=nt>/&gt;</span>
<a id=__codelineno-3-9 name=__codelineno-3-9 href=#__codelineno-3-9></a><span class=w>        </span><span class=nt>&lt;/id&gt;</span>
<a id=__codelineno-3-10 name=__codelineno-3-10 href=#__codelineno-3-10></a><span class=w>        </span><span class=nt>&lt;property</span><span class=w> </span><span class=na>name=</span><span class=s>&quot;stockCode&quot;</span><span class=w> </span><span class=na>type=</span><span class=s>&quot;string&quot;</span><span class=nt>&gt;</span>
<a id=__codelineno-3-11 name=__codelineno-3-11 href=#__codelineno-3-11></a><span class=w>            </span><span class=nt>&lt;column</span><span class=w> </span><span class=na>name=</span><span class=s>&quot;STOCK_CODE&quot;</span><span class=w> </span><span class=na>length=</span><span class=s>&quot;10&quot;</span><span class=w> </span><span class=na>not-null=</span><span class=s>&quot;true&quot;</span><span class=w> </span><span class=na>unique=</span><span class=s>&quot;true&quot;</span><span class=w> </span><span class=nt>/&gt;</span>
<a id=__codelineno-3-12 name=__codelineno-3-12 href=#__codelineno-3-12></a><span class=w>        </span><span class=nt>&lt;/property&gt;</span>
<a id=__codelineno-3-13 name=__codelineno-3-13 href=#__codelineno-3-13></a><span class=w>        </span><span class=nt>&lt;property</span><span class=w> </span><span class=na>name=</span><span class=s>&quot;stockName&quot;</span><span class=w> </span><span class=na>type=</span><span class=s>&quot;string&quot;</span><span class=nt>&gt;</span>
<a id=__codelineno-3-14 name=__codelineno-3-14 href=#__codelineno-3-14></a><span class=w>            </span><span class=nt>&lt;column</span><span class=w> </span><span class=na>name=</span><span class=s>&quot;STOCK_NAME&quot;</span><span class=w> </span><span class=na>length=</span><span class=s>&quot;20&quot;</span><span class=w> </span><span class=na>not-null=</span><span class=s>&quot;true&quot;</span><span class=w> </span><span class=na>unique=</span><span class=s>&quot;true&quot;</span><span class=w> </span><span class=nt>/&gt;</span>
<a id=__codelineno-3-15 name=__codelineno-3-15 href=#__codelineno-3-15></a><span class=w>        </span><span class=nt>&lt;/property&gt;</span>
<a id=__codelineno-3-16 name=__codelineno-3-16 href=#__codelineno-3-16></a><span class=w>        </span><span class=nt>&lt;set</span><span class=w> </span><span class=na>name=</span><span class=s>&quot;stockDailyRecords&quot;</span><span class=w> </span><span class=na>table=</span><span class=s>&quot;stock_daily_record&quot;</span>
<a id=__codelineno-3-17 name=__codelineno-3-17 href=#__codelineno-3-17></a><span class=w>    </span><span class=na>inverse=</span><span class=s>&quot;true&quot;</span><span class=w> </span><span class=na>lazy=</span><span class=s>&quot;true&quot;</span><span class=w> </span><span class=na>fetch=</span><span class=s>&quot;select&quot;</span><span class=nt>&gt;</span>
<a id=__codelineno-3-18 name=__codelineno-3-18 href=#__codelineno-3-18></a><span class=w>            </span><span class=nt>&lt;key&gt;</span>
<a id=__codelineno-3-19 name=__codelineno-3-19 href=#__codelineno-3-19></a><span class=w>                </span><span class=nt>&lt;column</span><span class=w> </span><span class=na>name=</span><span class=s>&quot;STOCK_ID&quot;</span><span class=w> </span><span class=na>not-null=</span><span class=s>&quot;true&quot;</span><span class=w> </span><span class=nt>/&gt;</span>
<a id=__codelineno-3-20 name=__codelineno-3-20 href=#__codelineno-3-20></a><span class=w>            </span><span class=nt>&lt;/key&gt;</span>
<a id=__codelineno-3-21 name=__codelineno-3-21 href=#__codelineno-3-21></a><span class=w>            </span><span class=nt>&lt;one-to-many</span><span class=w> </span><span class=na>class=</span><span class=s>&quot;com.example.stock.StockDailyRecord&quot;</span><span class=w> </span><span class=nt>/&gt;</span>
<a id=__codelineno-3-22 name=__codelineno-3-22 href=#__codelineno-3-22></a><span class=w>        </span><span class=nt>&lt;/set&gt;</span>
<a id=__codelineno-3-23 name=__codelineno-3-23 href=#__codelineno-3-23></a><span class=w>    </span><span class=nt>&lt;/class&gt;</span>
<a id=__codelineno-3-24 name=__codelineno-3-24 href=#__codelineno-3-24></a><span class=nt>&lt;/hibernate-mapping&gt;</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a><span class=cp>&lt;?xml version=&quot;1.0&quot;?&gt;</span>
<a id=__codelineno-4-2 name=__codelineno-4-2 href=#__codelineno-4-2></a><span class=cp>&lt;!DOCTYPE hibernate-mapping PUBLIC &quot;-//Hibernate/Hibernate Mapping DTD 3.0//EN&quot;</span>
<a id=__codelineno-4-3 name=__codelineno-4-3 href=#__codelineno-4-3></a><span class=cp>&quot;http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd&quot;&gt;</span>
<a id=__codelineno-4-4 name=__codelineno-4-4 href=#__codelineno-4-4></a><span class=nt>&lt;hibernate-mapping&gt;</span>
<a id=__codelineno-4-5 name=__codelineno-4-5 href=#__codelineno-4-5></a><span class=w>    </span><span class=nt>&lt;class</span><span class=w> </span><span class=na>name=</span><span class=s>&quot;com.example.stock.StockDailyRecord&quot;</span><span class=w> </span><span class=na>table=</span><span class=s>&quot;stock_daily_record&quot;</span><span class=w> </span>
<a id=__codelineno-4-6 name=__codelineno-4-6 href=#__codelineno-4-6></a><span class=w>  </span><span class=na>catalog=</span><span class=s>&quot;example_db&quot;</span><span class=nt>&gt;</span>
<a id=__codelineno-4-7 name=__codelineno-4-7 href=#__codelineno-4-7></a><span class=w>        </span><span class=nt>&lt;id</span><span class=w> </span><span class=na>name=</span><span class=s>&quot;recordId&quot;</span><span class=w> </span><span class=na>type=</span><span class=s>&quot;java.lang.Integer&quot;</span><span class=nt>&gt;</span>
<a id=__codelineno-4-8 name=__codelineno-4-8 href=#__codelineno-4-8></a><span class=w>            </span><span class=nt>&lt;column</span><span class=w> </span><span class=na>name=</span><span class=s>&quot;RECORD_ID&quot;</span><span class=w> </span><span class=nt>/&gt;</span>
<a id=__codelineno-4-9 name=__codelineno-4-9 href=#__codelineno-4-9></a><span class=w>            </span><span class=nt>&lt;generator</span><span class=w> </span><span class=na>class=</span><span class=s>&quot;identity&quot;</span><span class=w> </span><span class=nt>/&gt;</span>
<a id=__codelineno-4-10 name=__codelineno-4-10 href=#__codelineno-4-10></a><span class=w>        </span><span class=nt>&lt;/id&gt;</span>
<a id=__codelineno-4-11 name=__codelineno-4-11 href=#__codelineno-4-11></a><span class=w>        </span><span class=nt>&lt;many-to-one</span><span class=w> </span><span class=na>name=</span><span class=s>&quot;stock&quot;</span><span class=w> </span><span class=na>class=</span><span class=s>&quot;com.example.stock.Stock&quot;</span><span class=w> </span><span class=na>fetch=</span><span class=s>&quot;select&quot;</span><span class=nt>&gt;</span>
<a id=__codelineno-4-12 name=__codelineno-4-12 href=#__codelineno-4-12></a><span class=w>            </span><span class=nt>&lt;column</span><span class=w> </span><span class=na>name=</span><span class=s>&quot;STOCK_ID&quot;</span><span class=w> </span><span class=na>not-null=</span><span class=s>&quot;true&quot;</span><span class=w> </span><span class=nt>/&gt;</span>
<a id=__codelineno-4-13 name=__codelineno-4-13 href=#__codelineno-4-13></a><span class=w>        </span><span class=nt>&lt;/many-to-one&gt;</span>
<a id=__codelineno-4-14 name=__codelineno-4-14 href=#__codelineno-4-14></a><span class=w>        </span><span class=nt>&lt;property</span><span class=w> </span><span class=na>name=</span><span class=s>&quot;priceOpen&quot;</span><span class=w> </span><span class=na>type=</span><span class=s>&quot;java.lang.Float&quot;</span><span class=nt>&gt;</span>
<a id=__codelineno-4-15 name=__codelineno-4-15 href=#__codelineno-4-15></a><span class=w>            </span><span class=nt>&lt;column</span><span class=w> </span><span class=na>name=</span><span class=s>&quot;PRICE_OPEN&quot;</span><span class=w> </span><span class=na>precision=</span><span class=s>&quot;6&quot;</span><span class=w> </span><span class=nt>/&gt;</span>
<a id=__codelineno-4-16 name=__codelineno-4-16 href=#__codelineno-4-16></a><span class=w>        </span><span class=nt>&lt;/property&gt;</span>
<a id=__codelineno-4-17 name=__codelineno-4-17 href=#__codelineno-4-17></a><span class=w>        </span><span class=nt>&lt;property</span><span class=w> </span><span class=na>name=</span><span class=s>&quot;priceClose&quot;</span><span class=w> </span><span class=na>type=</span><span class=s>&quot;java.lang.Float&quot;</span><span class=nt>&gt;</span>
<a id=__codelineno-4-18 name=__codelineno-4-18 href=#__codelineno-4-18></a><span class=w>            </span><span class=nt>&lt;column</span><span class=w> </span><span class=na>name=</span><span class=s>&quot;PRICE_CLOSE&quot;</span><span class=w> </span><span class=na>precision=</span><span class=s>&quot;6&quot;</span><span class=w> </span><span class=nt>/&gt;</span>
<a id=__codelineno-4-19 name=__codelineno-4-19 href=#__codelineno-4-19></a><span class=w>        </span><span class=nt>&lt;/property&gt;</span>
<a id=__codelineno-4-20 name=__codelineno-4-20 href=#__codelineno-4-20></a><span class=w>        </span><span class=nt>&lt;property</span><span class=w> </span><span class=na>name=</span><span class=s>&quot;priceChange&quot;</span><span class=w> </span><span class=na>type=</span><span class=s>&quot;java.lang.Float&quot;</span><span class=nt>&gt;</span>
<a id=__codelineno-4-21 name=__codelineno-4-21 href=#__codelineno-4-21></a><span class=w>            </span><span class=nt>&lt;column</span><span class=w> </span><span class=na>name=</span><span class=s>&quot;PRICE_CHANGE&quot;</span><span class=w> </span><span class=na>precision=</span><span class=s>&quot;6&quot;</span><span class=w> </span><span class=nt>/&gt;</span>
<a id=__codelineno-4-22 name=__codelineno-4-22 href=#__codelineno-4-22></a><span class=w>        </span><span class=nt>&lt;/property&gt;</span>
<a id=__codelineno-4-23 name=__codelineno-4-23 href=#__codelineno-4-23></a><span class=w>        </span><span class=nt>&lt;property</span><span class=w> </span><span class=na>name=</span><span class=s>&quot;volume&quot;</span><span class=w> </span><span class=na>type=</span><span class=s>&quot;java.lang.Long&quot;</span><span class=nt>&gt;</span>
<a id=__codelineno-4-24 name=__codelineno-4-24 href=#__codelineno-4-24></a><span class=w>            </span><span class=nt>&lt;column</span><span class=w> </span><span class=na>name=</span><span class=s>&quot;VOLUME&quot;</span><span class=w> </span><span class=nt>/&gt;</span>
<a id=__codelineno-4-25 name=__codelineno-4-25 href=#__codelineno-4-25></a><span class=w>        </span><span class=nt>&lt;/property&gt;</span>
<a id=__codelineno-4-26 name=__codelineno-4-26 href=#__codelineno-4-26></a><span class=w>        </span><span class=nt>&lt;property</span><span class=w> </span><span class=na>name=</span><span class=s>&quot;date&quot;</span><span class=w> </span><span class=na>type=</span><span class=s>&quot;date&quot;</span><span class=nt>&gt;</span>
<a id=__codelineno-4-27 name=__codelineno-4-27 href=#__codelineno-4-27></a><span class=w>            </span><span class=nt>&lt;column</span><span class=w> </span><span class=na>name=</span><span class=s>&quot;DATE&quot;</span><span class=w> </span><span class=na>length=</span><span class=s>&quot;10&quot;</span><span class=w> </span><span class=na>not-null=</span><span class=s>&quot;true&quot;</span><span class=w> </span><span class=na>unique=</span><span class=s>&quot;true&quot;</span><span class=w> </span><span class=nt>/&gt;</span>
<a id=__codelineno-4-28 name=__codelineno-4-28 href=#__codelineno-4-28></a><span class=w>        </span><span class=nt>&lt;/property&gt;</span>
<a id=__codelineno-4-29 name=__codelineno-4-29 href=#__codelineno-4-29></a><span class=w>    </span><span class=nt>&lt;/class&gt;</span>
<a id=__codelineno-4-30 name=__codelineno-4-30 href=#__codelineno-4-30></a><span class=nt>&lt;/hibernate-mapping&gt;</span>
</code></pre></div> </div> </div> </div> <h2 id=sessions-y-objetos-hibernate>Sessions y objetos hibernate<a class=headerlink href=#sessions-y-objetos-hibernate title="Permanent link">&para;</a></h2> <p>Para trabajar con hibernate se recomienda tener una clase que se encargue de crear una <code>SessionFactory</code>, se recomienda hacerlo con un patrón <em>Singleton</em>:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-5-1 name=__codelineno-5-1 href=#__codelineno-5-1></a><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>HibernateUtil</span><span class=p>{</span>
<a id=__codelineno-5-2 name=__codelineno-5-2 href=#__codelineno-5-2></a><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kd>final</span><span class=w> </span><span class=n>SessionFactory</span><span class=w> </span><span class=n>sessionFactory</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>buildSessionFactory</span><span class=p>();</span>
<a id=__codelineno-5-3 name=__codelineno-5-3 href=#__codelineno-5-3></a>
<a id=__codelineno-5-4 name=__codelineno-5-4 href=#__codelineno-5-4></a><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=n>SessionFactory</span><span class=w> </span><span class=nf>buildSessionFactory</span><span class=p>(){</span>
<a id=__codelineno-5-5 name=__codelineno-5-5 href=#__codelineno-5-5></a><span class=w>        </span><span class=k>try</span><span class=p>{</span>
<a id=__codelineno-5-6 name=__codelineno-5-6 href=#__codelineno-5-6></a><span class=w>            </span><span class=n>Configuration</span><span class=w> </span><span class=n>configuration</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>Configuration</span><span class=p>().</span><span class=na>configure</span><span class=p>()</span>
<a id=__codelineno-5-7 name=__codelineno-5-7 href=#__codelineno-5-7></a><span class=w>            </span><span class=k>return</span><span class=w> </span><span class=n>configuration</span><span class=p>.</span><span class=na>buildSessionFactory</span><span class=p>(</span><span class=k>new</span><span class=w> </span><span class=n>StandardServiceRegistryBuilder</span><span class=p>().</span><span class=na>configure</span><span class=p>().</span><span class=na>build</span><span class=p>());</span>
<a id=__codelineno-5-8 name=__codelineno-5-8 href=#__codelineno-5-8></a><span class=w>        </span><span class=p>}</span><span class=w> </span><span class=k>catch</span><span class=w> </span><span class=p>(</span><span class=n>Throwable</span><span class=w> </span><span class=n>ex</span><span class=p>){</span>
<a id=__codelineno-5-9 name=__codelineno-5-9 href=#__codelineno-5-9></a><span class=w>            </span><span class=n>System</span><span class=p>.</span><span class=na>err</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=s>&quot;Initial SessionFactory creation failed.&quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>ex</span><span class=p>);</span>
<a id=__codelineno-5-10 name=__codelineno-5-10 href=#__codelineno-5-10></a><span class=w>            </span><span class=k>throw</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>ExceptionInInitializerError</span><span class=p>(</span><span class=n>ex</span><span class=p>);</span>
<a id=__codelineno-5-11 name=__codelineno-5-11 href=#__codelineno-5-11></a><span class=w>        </span><span class=p>}</span>
<a id=__codelineno-5-12 name=__codelineno-5-12 href=#__codelineno-5-12></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-5-13 name=__codelineno-5-13 href=#__codelineno-5-13></a>
<a id=__codelineno-5-14 name=__codelineno-5-14 href=#__codelineno-5-14></a><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=n>SessionFactory</span><span class=w> </span><span class=nf>getSessionFactory</span><span class=p>(){</span>
<a id=__codelineno-5-15 name=__codelineno-5-15 href=#__codelineno-5-15></a><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>sessionFactory</span><span class=p>;</span>
<a id=__codelineno-5-16 name=__codelineno-5-16 href=#__codelineno-5-16></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-5-17 name=__codelineno-5-17 href=#__codelineno-5-17></a><span class=p>}</span>
</code></pre></div> <p>Para poder obtener la sesión actual, será necesario cargar el fichero de configuración <strong>hibernate.cfg.xml</strong>. Para ello se llama a <code>new Configuration().configure()</code>, y de esta forma se inicializa el entorno de Hibernate. Se necesita crear un objeto <code>StandardServiceRegistry</code>que contiene una lista de servicios que utiliza Hibernate para crear el <code>SessionFactory</code>.</p> <h2 id=transacciones>Transacciones<a class=headerlink href=#transacciones title="Permanent link">&para;</a></h2> <p>Un objeto <code>Session</code> de Hibernate representa una única unidad de trabajo para un almacén de datos dado y lo abre un ejemplar de <code>SessionFactory</code> (<code>openSession()</code>). Al crear la sesión se crea la transacción para dicha sesión (<code>close()</code>). Se deben cerrar las sesiones cuando se haya completado todo el trabajo de una transacción:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-6-1 name=__codelineno-6-1 href=#__codelineno-6-1></a><span class=c1>// Obtener la sesión</span>
<a id=__codelineno-6-2 name=__codelineno-6-2 href=#__codelineno-6-2></a><span class=n>SessionFactory</span><span class=w> </span><span class=n>factory</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>HibernateUtil</span><span class=p>.</span><span class=na>getSessionFactory</span><span class=p>();</span>
<a id=__codelineno-6-3 name=__codelineno-6-3 href=#__codelineno-6-3></a><span class=c1>// Crear la sesión</span>
<a id=__codelineno-6-4 name=__codelineno-6-4 href=#__codelineno-6-4></a><span class=n>Session</span><span class=w> </span><span class=n>session</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>factory</span><span class=p>.</span><span class=na>openSession</span><span class=p>();</span>
<a id=__codelineno-6-5 name=__codelineno-6-5 href=#__codelineno-6-5></a><span class=c1>// Crear transacción</span>
<a id=__codelineno-6-6 name=__codelineno-6-6 href=#__codelineno-6-6></a><span class=n>Transaction</span><span class=w> </span><span class=n>tx</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>session</span><span class=p>.</span><span class=na>beginTransaction</span><span class=p>();</span>
<a id=__codelineno-6-7 name=__codelineno-6-7 href=#__codelineno-6-7></a>
<a id=__codelineno-6-8 name=__codelineno-6-8 href=#__codelineno-6-8></a><span class=c1>// Operaciones</span>
<a id=__codelineno-6-9 name=__codelineno-6-9 href=#__codelineno-6-9></a>
<a id=__codelineno-6-10 name=__codelineno-6-10 href=#__codelineno-6-10></a><span class=n>tx</span><span class=p>.</span><span class=na>commit</span><span class=p>();</span>
<a id=__codelineno-6-11 name=__codelineno-6-11 href=#__codelineno-6-11></a><span class=n>session</span><span class=p>.</span><span class=na>close</span><span class=p>();</span><span class=w> </span><span class=c1>// Se cierra la sesión</span>
</code></pre></div> <p>El método <code>beginTransaction()</code> marca el comienzo de una transacción y el método <code>commit</code>valida una transacción. Mientras que el método, <code>rollback()</code> deshace la transacción.</p> <h2 id=estados-de-un-objeto-hibernate>Estados de un objeto Hibernate<a class=headerlink href=#estados-de-un-objeto-hibernate title="Permanent link">&para;</a></h2> <p>Hibernate define y soporta los siguientes estados de objeto:</p> <ul> <li> <p><strong>Transitorio (<em>Transient</em>)</strong>: Un objeto es transitorio si ha sido recién instanciando utilizando el operador <em>new</em>, y no está asociado a una sesión de Hibernate- No tiene una representación persistente en la base de datos y no se le ha asignado un valor identificador. Las instancias transitorias serán destruidas por el recolector de basura si la aplicación no mantiene más de una referencia. Utiliza la sesión de Hibernate para hacer un objeto persistente y deja que Hibernate se ocupe de las declaraciones SQL que necesitan ejecutarse para esta transición. Las instancias recién instanciadas de una clase persistente, Hibernate las considera como <strong><em>transitorias</em></strong>. Podemos hacer una instancia <strong><em>transitoria persistente</em></strong> asociándola con una sesión.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-7-1 name=__codelineno-7-1 href=#__codelineno-7-1></a><span class=n>Department</span><span class=w> </span><span class=n>dep</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>Department</span><span class=p>();</span>
<a id=__codelineno-7-2 name=__codelineno-7-2 href=#__codelineno-7-2></a><span class=n>dep</span><span class=p>.</span><span class=na>setDeptNo</span><span class=p>((</span><span class=kt>byte</span><span class=p>)</span><span class=w> </span><span class=mi>60</span><span class=p>);</span>
<a id=__codelineno-7-3 name=__codelineno-7-3 href=#__codelineno-7-3></a><span class=n>dep</span><span class=p>.</span><span class=na>setDName</span><span class=p>(</span><span class=s>&quot;MARKETING&quot;</span><span class=p>);</span>
<a id=__codelineno-7-4 name=__codelineno-7-4 href=#__codelineno-7-4></a><span class=n>dep</span><span class=p>.</span><span class=na>setLoc</span><span class=p>(</span><span class=s>&quot;GUADALAJARA&quot;</span><span class=p>);</span>
<a id=__codelineno-7-5 name=__codelineno-7-5 href=#__codelineno-7-5></a><span class=n>session</span><span class=p>.</span><span class=na>save</span><span class=p>(</span><span class=n>dep</span><span class=p>);</span><span class=w> </span><span class=c1>// (1)!</span>
</code></pre></div> <ol> <li><code>save()</code> hace que la instancia sea persistente</li> </ol> </li> <li> <p><strong>Persistente (<em>Persistent</em>)</strong>. Un objeto estará en este estado cuando ya está almacenado en la base de datos. Puede haber sido guardado o cargado, sin embargo, por definición, se encuentra en el ámbito de una sesión. Hibernate detectará cualquier cambio realizado a un objeto en estado persistente y sincronizará el estado con la base de datos cuando se complete la unidad de trabajo. En definitiva, los objetos transitorios solo existen en memoria y no en un almacén de datos, han ido instanciados por el desarrollador sin haberlos almacenado mediante una sesión. Los persistentes se caracterizan por haber sido ya creados y almacenados en una sesión o bien devueltos en una consulta realizada con la sesión.</p> </li> <li><strong>Separado (<em>Detached</em>)</strong>. Un objeto está en este estado cuando cerramos la sesión mediante el método <code>close()</code>. Una instancia separada es un objeto que se ha hecho persistente, pero su sesión ha sido cerrada. La referencia al objeto todavía es válida, por supuesto, y la instancia separada podría incluso ser modificada en este estado. Una instancia separada puede ser asociada a una nueva sesión más tarde, haciéndola persistente de nuevo (con todas las modificaciones).</li> </ul> <h2 id=carga-de-objetos>Carga de objetos<a class=headerlink href=#carga-de-objetos title="Permanent link">&para;</a></h2> <p>Para cargar objetos usaremos lo siguientes métodos de la clase <code>Session</code>:</p> <table> <thead> <tr> <th style="text-align: center;">Método</th> <th style="text-align: center;">Descripción</th> </tr> </thead> <tbody> <tr> <td style="text-align: center;"><code>&lt;T&gt; T load(Class&lt;T&gt; clase, Serializable id)</code></td> <td style="text-align: center;">Devuelve la <strong>instancia persistente</strong> de la clase indicada con el identificador dado. La instancia tiene que existir, si no existe el método lanza una excepción <code>ObjectNotFound</code>.</td> </tr> <tr> <td style="text-align: center;"><code>Object load(String className, Serializable id)</code></td> <td style="text-align: center;">Similar al método anterior, pero en este caso indicamos en el primer parámetro el nombre de la case en formato <code>String</code>.</td> </tr> <tr> <td style="text-align: center;"><code>&lt;T&gt; T get(Class&lt;T&gt; class, Serializable id)</code></td> <td style="text-align: center;">Devuelve la <strong>instancia persistente</strong> de la clase indicada con el identificador dado. Si la instancia no existe, devuelve <strong>null</strong>.</td> </tr> <tr> <td style="text-align: center;"><code>Object get(String className, Serializable id)</code></td> <td style="text-align: center;">Similar al método anterior, pero en este caso indicamos en el primer parámetro el nombre de la clase</td> </tr> </tbody> </table> <p>Si queremos obtener un objeto y que se lance una clase en caso de que no exista, se usaría el método <code>load()</code>:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-8-1 name=__codelineno-8-1 href=#__codelineno-8-1></a><span class=k>try</span><span class=p>{</span>
<a id=__codelineno-8-2 name=__codelineno-8-2 href=#__codelineno-8-2></a><span class=w>    </span><span class=n>Department</span><span class=w> </span><span class=n>dep</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>(</span><span class=n>Department</span><span class=p>)</span><span class=w> </span><span class=n>session</span><span class=p>.</span><span class=na>load</span><span class=p>(</span><span class=n>Department</span><span class=p>.</span><span class=na>class</span><span class=p>,</span><span class=w> </span><span class=p>(</span><span class=kt>byte</span><span class=p>)</span><span class=w> </span><span class=mi>20</span><span class=p>);</span>
<a id=__codelineno-8-3 name=__codelineno-8-3 href=#__codelineno-8-3></a><span class=w>    </span><span class=c1>// ...</span>
<a id=__codelineno-8-4 name=__codelineno-8-4 href=#__codelineno-8-4></a><span class=p>}</span><span class=w> </span><span class=kd>class</span> <span class=err>(</span><span class=nc>ObjectNotFoundException</span><span class=w> </span><span class=n>o</span><span class=p>){</span>
<a id=__codelineno-8-5 name=__codelineno-8-5 href=#__codelineno-8-5></a><span class=w>    </span><span class=c1>// ...</span>
<a id=__codelineno-8-6 name=__codelineno-8-6 href=#__codelineno-8-6></a><span class=p>}</span>
</code></pre></div> <p>Por el contrario, si no queremos que lance una excepción usaremos el método <code>get()</code>:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-9-1 name=__codelineno-9-1 href=#__codelineno-9-1></a><span class=n>Department</span><span class=w> </span><span class=n>dep</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>(</span><span class=n>Department</span><span class=p>)</span><span class=w> </span><span class=n>session</span><span class=p>.</span><span class=na>get</span><span class=p>(</span><span class=n>Department</span><span class=p>.</span><span class=na>class</span><span class=p>,</span><span class=w> </span><span class=p>(</span><span class=kt>byte</span><span class=p>)</span><span class=w> </span><span class=mi>11</span><span class=p>);</span>
<a id=__codelineno-9-2 name=__codelineno-9-2 href=#__codelineno-9-2></a>
<a id=__codelineno-9-3 name=__codelineno-9-3 href=#__codelineno-9-3></a><span class=k>if</span><span class=p>(</span><span class=n>dep</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>null</span><span class=p>){</span>
<a id=__codelineno-9-4 name=__codelineno-9-4 href=#__codelineno-9-4></a><span class=w>    </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=s>&quot;No existe el departamento con id &quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>11</span><span class=p>);</span>
<a id=__codelineno-9-5 name=__codelineno-9-5 href=#__codelineno-9-5></a><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-9-6 name=__codelineno-9-6 href=#__codelineno-9-6></a><span class=w>    </span><span class=c1>//...</span>
<a id=__codelineno-9-7 name=__codelineno-9-7 href=#__codelineno-9-7></a><span class=p>}</span>
</code></pre></div> <h2 id=operaciones-basicas-de-objetos>Operaciones básicas de objetos<a class=headerlink href=#operaciones-basicas-de-objetos title="Permanent link">&para;</a></h2> <p>Para almacenamiento, modificación y borrado de objetos usamos los siguiente métodos:</p> <table> <thead> <tr> <th style="text-align: center;">Métodos</th> <th style="text-align: center;">Descripción</th> </tr> </thead> <tbody> <tr> <td style="text-align: center;"><code>Serializable persist(Object o)</code></td> <td style="text-align: center;">Guarda el objeto que se pasa como argumento en la base de datos. Hace que la instancia transitoria del objeto sea persistente.</td> </tr> <tr> <td style="text-align: center;"><code>void merge(Object o)</code></td> <td style="text-align: center;">Actualiza en la base de datos el objeto que se pasa como argumento. El objeto a modificar debe ser cargado con el método <code>load()</code> o <code>get()</code>.</td> </tr> <tr> <td style="text-align: center;"><code>void remove(Object o)</code></td> <td style="text-align: center;">Elimina de la base de datos el objeto que se pasa como argumento. El Objeto a eliminar debe ser cargado con el método <code>load()</code> o <code>get()</code>.</td> </tr> </tbody> </table> <p>Al insertar un objeto puede producirse una excepción en caso de que se cree un objeto que necesite de otro, como Inscription necesita un estudiante y un curso (<code>TransientPropertyValueException</code>, al hacer el método <code>persist()</code>)</p> <p>Además dichas operaciones puede dar una excepción en caso de que se intente actualizar o eliminar un objeto que no exista en la base de datos, o se intente almacenar un objeto ya existente (<code>ConstraintViolationException</code>). Esta excepción se lanza en el método <code>commit()</code>.</p> <div class="tabbed-set tabbed-alternate" data-tabs=2:3><input checked=checked id=__tabbed_2_1 name=__tabbed_2 type=radio><input id=__tabbed_2_2 name=__tabbed_2 type=radio><input id=__tabbed_2_3 name=__tabbed_2 type=radio><div class=tabbed-labels><label for=__tabbed_2_1>Save</label><label for=__tabbed_2_2>Update</label><label for=__tabbed_2_3>Delete</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code><a id=__codelineno-10-1 name=__codelineno-10-1 href=#__codelineno-10-1></a><span class=n>SessionFactory</span><span class=w> </span><span class=n>factory</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>HibernateUtil</span><span class=p>.</span><span class=na>getSessionFactory</span><span class=p>();</span>
<a id=__codelineno-10-2 name=__codelineno-10-2 href=#__codelineno-10-2></a><span class=n>Session</span><span class=w> </span><span class=n>session</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>factory</span><span class=p>.</span><span class=na>openSession</span><span class=p>();</span>
<a id=__codelineno-10-3 name=__codelineno-10-3 href=#__codelineno-10-3></a><span class=n>Transaction</span><span class=w> </span><span class=n>tx</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>session</span><span class=p>.</span><span class=na>beginTransaction</span><span class=p>();</span>
<a id=__codelineno-10-4 name=__codelineno-10-4 href=#__codelineno-10-4></a>
<a id=__codelineno-10-5 name=__codelineno-10-5 href=#__codelineno-10-5></a><span class=k>try</span><span class=p>{</span>
<a id=__codelineno-10-6 name=__codelineno-10-6 href=#__codelineno-10-6></a><span class=w>    </span><span class=n>Department</span><span class=w> </span><span class=n>dep</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>Department</span><span class=p>();</span>
<a id=__codelineno-10-7 name=__codelineno-10-7 href=#__codelineno-10-7></a>
<a id=__codelineno-10-8 name=__codelineno-10-8 href=#__codelineno-10-8></a><span class=w>    </span><span class=n>dep</span><span class=p>.</span><span class=na>setDeptNo</span><span class=p>((</span><span class=kt>byte</span><span class=p>)</span><span class=w> </span><span class=mi>70</span><span class=p>);</span>
<a id=__codelineno-10-9 name=__codelineno-10-9 href=#__codelineno-10-9></a><span class=w>    </span><span class=n>dep</span><span class=p>.</span><span class=na>setDName</span><span class=p>(</span><span class=s>&quot;INFORMÁTICA&quot;</span><span class=p>);</span>
<a id=__codelineno-10-10 name=__codelineno-10-10 href=#__codelineno-10-10></a><span class=w>    </span><span class=n>dep</span><span class=p>.</span><span class=na>setLoc</span><span class=p>(</span><span class=s>&quot;TOLEDO&quot;</span><span class=p>);</span>
<a id=__codelineno-10-11 name=__codelineno-10-11 href=#__codelineno-10-11></a>
<a id=__codelineno-10-12 name=__codelineno-10-12 href=#__codelineno-10-12></a><span class=w>    </span><span class=n>session</span><span class=p>.</span><span class=na>save</span><span class=p>(</span><span class=n>dep</span><span class=p>);</span>
<a id=__codelineno-10-13 name=__codelineno-10-13 href=#__codelineno-10-13></a><span class=w>    </span><span class=n>tx</span><span class=p>.</span><span class=na>commit</span><span class=p>();</span>
<a id=__codelineno-10-14 name=__codelineno-10-14 href=#__codelineno-10-14></a><span class=p>}</span><span class=w> </span><span class=k>catch</span><span class=p>(</span><span class=n>ConstraintViolationException</span><span class=w> </span><span class=n>e</span><span class=p>){</span>
<a id=__codelineno-10-15 name=__codelineno-10-15 href=#__codelineno-10-15></a><span class=w>    </span><span class=c1>//...</span>
<a id=__codelineno-10-16 name=__codelineno-10-16 href=#__codelineno-10-16></a><span class=p>}</span>
<a id=__codelineno-10-17 name=__codelineno-10-17 href=#__codelineno-10-17></a><span class=n>session</span><span class=p>.</span><span class=na>close</span><span class=p>();</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><a id=__codelineno-11-1 name=__codelineno-11-1 href=#__codelineno-11-1></a><span class=n>SessionFactory</span><span class=w> </span><span class=n>factory</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>HibernateUtil</span><span class=p>.</span><span class=na>getSessionFactory</span><span class=p>();</span>
<a id=__codelineno-11-2 name=__codelineno-11-2 href=#__codelineno-11-2></a><span class=n>Session</span><span class=w> </span><span class=n>session</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>factory</span><span class=p>.</span><span class=na>openSession</span><span class=p>();</span>
<a id=__codelineno-11-3 name=__codelineno-11-3 href=#__codelineno-11-3></a><span class=n>Transaction</span><span class=w> </span><span class=n>tx</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>session</span><span class=p>.</span><span class=na>beginTransaction</span><span class=p>();</span>
<a id=__codelineno-11-4 name=__codelineno-11-4 href=#__codelineno-11-4></a>
<a id=__codelineno-11-5 name=__codelineno-11-5 href=#__codelineno-11-5></a><span class=k>try</span><span class=p>{</span>
<a id=__codelineno-11-6 name=__codelineno-11-6 href=#__codelineno-11-6></a><span class=w>    </span><span class=n>Employee</span><span class=w> </span><span class=n>em</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>(</span><span class=n>Employee</span><span class=p>)</span><span class=w> </span><span class=n>session</span><span class=p>.</span><span class=na>load</span><span class=p>(</span><span class=n>Employee</span><span class=p>.</span><span class=na>class</span><span class=p>,</span><span class=w> </span><span class=p>(</span><span class=kt>short</span><span class=p>)</span><span class=w> </span><span class=mi>7369</span><span class=p>);</span>
<a id=__codelineno-11-7 name=__codelineno-11-7 href=#__codelineno-11-7></a>
<a id=__codelineno-11-8 name=__codelineno-11-8 href=#__codelineno-11-8></a><span class=w>    </span><span class=n>em</span><span class=p>.</span><span class=na>setSalary</span><span class=p>(</span><span class=n>em</span><span class=p>.</span><span class=na>getSalary</span><span class=p>()</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>1000</span><span class=p>);</span>
<a id=__codelineno-11-9 name=__codelineno-11-9 href=#__codelineno-11-9></a>
<a id=__codelineno-11-10 name=__codelineno-11-10 href=#__codelineno-11-10></a><span class=w>    </span><span class=n>session</span><span class=p>.</span><span class=na>update</span><span class=p>(</span><span class=n>em</span><span class=p>);</span>
<a id=__codelineno-11-11 name=__codelineno-11-11 href=#__codelineno-11-11></a><span class=w>    </span><span class=n>tx</span><span class=p>.</span><span class=na>commit</span><span class=p>();</span>
<a id=__codelineno-11-12 name=__codelineno-11-12 href=#__codelineno-11-12></a><span class=p>}</span><span class=w> </span><span class=k>catch</span><span class=p>(</span><span class=n>ObjectNotFoundException</span><span class=w> </span><span class=n>o</span><span class=p>){</span>
<a id=__codelineno-11-13 name=__codelineno-11-13 href=#__codelineno-11-13></a><span class=w>    </span><span class=c1>// ...</span>
<a id=__codelineno-11-14 name=__codelineno-11-14 href=#__codelineno-11-14></a><span class=p>}</span><span class=w> </span><span class=k>catch</span><span class=p>(</span><span class=n>ConstraintViolationException</span><span class=w> </span><span class=n>c</span><span class=p>){</span>
<a id=__codelineno-11-15 name=__codelineno-11-15 href=#__codelineno-11-15></a><span class=w>    </span><span class=c1>// ...</span>
<a id=__codelineno-11-16 name=__codelineno-11-16 href=#__codelineno-11-16></a><span class=p>}</span>
<a id=__codelineno-11-17 name=__codelineno-11-17 href=#__codelineno-11-17></a><span class=n>session</span><span class=p>.</span><span class=na>close</span><span class=p>();</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><a id=__codelineno-12-1 name=__codelineno-12-1 href=#__codelineno-12-1></a><span class=n>SessionFactory</span><span class=w> </span><span class=n>factory</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>HibernateUtil</span><span class=p>.</span><span class=na>getSessionFactory</span><span class=p>();</span>
<a id=__codelineno-12-2 name=__codelineno-12-2 href=#__codelineno-12-2></a><span class=n>Session</span><span class=w> </span><span class=n>session</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>factory</span><span class=p>.</span><span class=na>openSession</span><span class=p>();</span>
<a id=__codelineno-12-3 name=__codelineno-12-3 href=#__codelineno-12-3></a><span class=n>Transaction</span><span class=w> </span><span class=n>tx</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>session</span><span class=p>.</span><span class=na>beginTransaction</span><span class=p>();</span>
<a id=__codelineno-12-4 name=__codelineno-12-4 href=#__codelineno-12-4></a>
<a id=__codelineno-12-5 name=__codelineno-12-5 href=#__codelineno-12-5></a><span class=k>try</span><span class=p>{</span>
<a id=__codelineno-12-6 name=__codelineno-12-6 href=#__codelineno-12-6></a><span class=w>    </span><span class=n>Employee</span><span class=w> </span><span class=n>em</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>(</span><span class=n>Employee</span><span class=p>)</span><span class=w> </span><span class=n>session</span><span class=p>.</span><span class=na>load</span><span class=p>(</span><span class=n>Employee</span><span class=p>.</span><span class=na>class</span><span class=p>,</span><span class=w> </span><span class=p>(</span><span class=kt>short</span><span class=p>)</span><span class=w> </span><span class=mi>7369</span><span class=p>);</span>
<a id=__codelineno-12-7 name=__codelineno-12-7 href=#__codelineno-12-7></a>
<a id=__codelineno-12-8 name=__codelineno-12-8 href=#__codelineno-12-8></a><span class=w>    </span><span class=n>session</span><span class=p>.</span><span class=na>delete</span><span class=p>(</span><span class=n>em</span><span class=p>);</span>
<a id=__codelineno-12-9 name=__codelineno-12-9 href=#__codelineno-12-9></a><span class=w>    </span><span class=n>tx</span><span class=p>.</span><span class=na>commit</span><span class=p>();</span>
<a id=__codelineno-12-10 name=__codelineno-12-10 href=#__codelineno-12-10></a><span class=p>}</span><span class=w> </span><span class=k>catch</span><span class=p>(</span><span class=n>ObjectNotFoundException</span><span class=w> </span><span class=n>o</span><span class=p>){</span>
<a id=__codelineno-12-11 name=__codelineno-12-11 href=#__codelineno-12-11></a><span class=w>    </span><span class=c1>// ...</span>
<a id=__codelineno-12-12 name=__codelineno-12-12 href=#__codelineno-12-12></a><span class=p>}</span><span class=w> </span><span class=k>catch</span><span class=p>(</span><span class=n>ConstraintViolationException</span><span class=w> </span><span class=n>c</span><span class=p>){</span>
<a id=__codelineno-12-13 name=__codelineno-12-13 href=#__codelineno-12-13></a><span class=w>    </span><span class=c1>// ...</span>
<a id=__codelineno-12-14 name=__codelineno-12-14 href=#__codelineno-12-14></a><span class=p>}</span>
<a id=__codelineno-12-15 name=__codelineno-12-15 href=#__codelineno-12-15></a>
<a id=__codelineno-12-16 name=__codelineno-12-16 href=#__codelineno-12-16></a><span class=n>session</span><span class=p>.</span><span class=na>close</span><span class=p>();</span>
</code></pre></div> </div> </div> </div> <h2 id=consultas>Consultas<a class=headerlink href=#consultas title="Permanent link">&para;</a></h2> <p>Hibernate soporta un lenguaje de consulta orientado a objetos denominado <strong>HQL (<em>Hibernate Query Language</em>)</strong> fácil de usar pero potente a la vez. Este lenguaje es una extensión orientada a objetos de SQL. Las consultas HQL y SQL nativas son representadas con una instancia de la interfaz <code>Query</code> (del paquete <code>org.hibernate</code>). Esta interfaz ofrece métodos para ligar parámetros, manejo del conjunto resultado, y para la ejecución de la consulta real. Siempre obtiene una <code>Query</code> utilizando el objeto <code>Session</code> actual.</p> <p>Para crear una query se utilizaría el método <code>createQuery(String sql)</code> de la interfaz <code>SharedSessionContract</code> que implementa la <code>Session</code>:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-13-1 name=__codelineno-13-1 href=#__codelineno-13-1></a><span class=n>Query</span><span class=w> </span><span class=n>q</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>session</span><span class=p>.</span><span class=na>createQuery</span><span class=p>(</span><span class=s>&quot;from Department&quot;</span><span class=p>);</span>
</code></pre></div> <p>Algunos métodos importantes de esta interfaz son:</p> <table> <thead> <tr> <th>Método</th> <th>Descripción</th> </tr> </thead> <tbody> <tr> <td><code>Iterator iterate()</code></td> <td>Devuelve en un objeto <code>Iterator</code> el resultado de la consulta.</td> </tr> <tr> <td><code>List list()</code></td> <td>Devuelve el resultado de la consulta en un <code>List</code></td> </tr> <tr> <td><code>Query setFetchSize(int size)</code></td> <td>Fija el número de resultados a recuperar en cada acceso a la base de datos al valor indicado en <em>size</em>.</td> </tr> <tr> <td><code>int executeUpdate()</code></td> <td>Ejecuta la sentencia de modificación o borrado. Devuelve el número de entidades afectadas</td> </tr> <tr> <td><code>String getQueryString()</code></td> <td>Devuelva la consulta en un String</td> </tr> <tr> <td><code>Object uniqueResult()</code></td> <td>Devuelve un objeto (cuando sabemos que la consulta devuelve un objeto) o nulo si la consulta no devuelve resultados</td> </tr> <tr> <td><code>Query setCharacter(int position, char value)</code><br><code>Query setCharacter(String name, char value)</code></td> <td>Asigna el <em>value</em> indicado en el método a un parámetro de tipo char.<br><em>position</em> indica la posición del parámetro dentro de la consulta, empieza en 0.<br><em>name</em> es el nombre (se indica <code>:name</code>) del parámetro dentro de la consulta</td> </tr> <tr> <td><code>Query setDate(int position, Date value)</code><br><code>Query setDate(String name, Date value)</code></td> <td>Asigna un <em>value</em> a un parámetro de tipo <code>Date</code>.</td> </tr> <tr> <td><code>Query setDouble(int position, double value)</code><br><code>Query setDouble(String name, double value)</code></td> <td>Asigna <em>value</em> a un parámetro de tipo decimal.</td> </tr> <tr> <td><code>Query setInteger(int position, int value)</code><br><code>Query setInteger(String name, int value)</code></td> <td>Asigna <em>value</em> a uin parámetro de tipo entero</td> </tr> <tr> <td><code>Query setString(int position, String value)</code><br><code>Query setString(String name, String value)</code></td> <td>Asigna un <em>value</em> a un parámetro de tipo <code>VARCHAR</code></td> </tr> <tr> <td><code>Query setParameterList(String name, Collection values)</code></td> <td>Asigna una colección de valores al parámetro cuyo nombre se indica en <em>name</em></td> </tr> <tr> <td><code>Query setParameter(String name, Object value)</code></td> <td>Asigna un valor al parámetro indicado en <em>name</em></td> </tr> </tbody> </table> <div class="admonition info"> <p class=admonition-title>Consulta la API de Hibernate</p> <p><a href=https://docs.jboss.org/hibernate/orm/current/javadocs/ >https://docs.jboss.org/hibernate/orm/current/javadocs/</a></p> </div> <h2 id=hql>HQL<a class=headerlink href=#hql title="Permanent link">&para;</a></h2> <p><strong>Hibernate Query Language (<em>HQL</em>)</strong> es un lenguaje bastante similar a SQL, pero en lugar de tablas se trata de clases y en lugar de columnas se trata de propiedades o atributos de una clase.</p> <p>Las consultas HQL son consultas independientes de la base de datos porque las consultas HQL se convierten internamente en consultas SQL específicas de la base de datos utilizando la clase <code>Dialect</code> mencionada en el archivo hibernate-cfg.xml.</p> <p>Usar este lenguaje puede tener las siguientes ventajas:</p> <ol> <li>Independiente de la base de datos</li> <li>Fácil de aprender para el programador Java</li> <li>HQL soporta totalmente las consultas polimórficas. Es decir, junto con el objeto que se devuelve como resultado de una consulta, se devolverán todos los objetos secundarios (objetos de subclases) del objeto dado. Se tiene todo el modelo.</li> </ol> <p>Las siguientes clausulas a usar en HQL son:</p> <table> <thead> <tr> <th>Clausula</th> <th>Ejemplo</th> <th>Descripción</th> </tr> </thead> <tbody> <tr> <td><strong>FROM</strong></td> <td><code>FROM Employee</code></td> <td>Devuelve el objeto completo que representa la clase</td> </tr> <tr> <td><strong>AS</strong></td> <td><code>FROM Employee AS E</code></td> <td>Indica un alias para acceder de forma sencilla a las propiedades de la clase (se puede omitir e indicar directamente el alias)</td> </tr> <tr> <td><strong>SELECT</strong></td> <td><code>SELECT e.firstName FROM Employee as e</code></td> <td>Devuelve las propiedades de la clase específicas del objeto</td> </tr> <tr> <td><strong>WHERE</strong></td> <td><code>FROM Employee AS E WHERE E.firstName like 'A%'</code></td> <td>Indica una condición para filtrar el conjunto de objetos.</td> </tr> <tr> <td><strong>ORDER BY</strong></td> <td><code>FROM Person P WHERE P.id &gt; 10 ORDER BY P.salary DESC</code></td> <td>Se indica para ordenar la consulta. Puede ir seguido de <code>ASC</code> si se desea un orden ascendente (se puede omitir ya que es el valor por defecto) o <code>DESC</code> si, por el contrario, se quiere un orden descendente</td> </tr> <tr> <td><strong>GROUP BY</strong></td> <td><code>SELECT SUM(P.salary), P.firstName FROM Person P GROUP BY P.firstName</code></td> <td>Se usa para agrupar los datos de una consulta. Normalmente se usa para añadir un valor agregado.</td> </tr> <tr> <td><strong>INSERT</strong></td> <td><code>INSERT INTO Employee (Salary, Loc) VALUES (1000, 'Cádiz')</code></td> <td>Crea objetos de una entidad</td> </tr> <tr> <td><strong>UPDATE</strong></td> <td><code>UPDATE Employee E SET E.salary = E.salary * 1000 WHERE E.ID = 10</code></td> <td>Actualiza los objetos</td> </tr> <tr> <td><strong>DELETE</strong></td> <td><code>DELETE Employee E WHERE E.ID = 10</code></td> <td>Elimina objetos</td> </tr> </tbody> </table> <p>Se puede utilizar diferentes entidades separadas por coma <code>,</code> lo que producirá un <strong>cross join</strong>: <code>from Department d, Employee e</code>.</p> <p>Las funciones de agregación, que normalmente van con la clausula <code>GROUP BY</code>, son:</p> <ul> <li><strong>COUNT</strong>: Se utiliza para contar el número de objetos resultantes: <code>SELECT COUNT(*) FROM Employee E GROUP BY E.Loc</code>.</li> <li><strong>SUM</strong>: Suma los valores de una propiedad específica: <code>SELECT SUM(E.salary) FROM Employee E GROUP BY E.Loc</code>.</li> <li><strong>AVG</strong>: Calcula el valor promedio de una columna específica: <code>SELECT AVG(E.salary) FROM Employee E GROUP BY E.Loc</code>.</li> <li><strong>MIN/MAX</strong>: Encuentra el valor mínimo/máximo: <code>SELECT MIN(E.salary) FROM Employee E</code>.</li> <li><strong>COALESCE</strong>: Comprueba si el primer valor indicado es <em>null</em>, en caso de serlo, comprueba el segundo valor, y sí este lo es, devuelve el siguiente, así sucesivamente. Por ejemplo, en la expresión <code>coalesce(e.salary, null, 0)</code>, comprueba si <em>salary</em> es <em>null</em>, si no lo es devuelve su valor, y en caso de serlo comprueba el siguiente valor, que si es <em>null</em>, comprueba el siguiente valor, hasta encontrar uno de no es <em>null</em>, como en este caso, que si <em>salary</em> es <em>null</em>, devolverá 0, ya que el segundo argumento es <em>null</em>.</li> </ul> <p>HQL también admite las consultas <code>JOIN</code> con las clausulas <code>INNER JOIN</code>, <code>LEFT JOIN</code>, <code>RIGHT JOIN</code>, <code>FETCH JOIN</code>, etc.</p> <p>En el siguiente ejemplo se va a recorrer a todos los empleados que tengan un salario mayor al indicado como parámetro:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-14-1 name=__codelineno-14-1 href=#__codelineno-14-1></a><span class=n>String</span><span class=w> </span><span class=n>hql</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&quot;FROM Employee e where e.salary &gt; :salary&quot;</span><span class=p>;</span>
<a id=__codelineno-14-2 name=__codelineno-14-2 href=#__codelineno-14-2></a><span class=n>Query</span><span class=o>&lt;</span><span class=n>Employee</span><span class=o>&gt;</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>session</span><span class=p>.</span><span class=na>createQuery</span><span class=p>(</span><span class=n>hql</span><span class=p>,</span><span class=w> </span><span class=n>Employee</span><span class=p>.</span><span class=na>class</span><span class=p>);</span>
<a id=__codelineno-14-3 name=__codelineno-14-3 href=#__codelineno-14-3></a><span class=n>query</span><span class=p>.</span><span class=na>setInteger</span><span class=p>(</span><span class=s>&quot;salary&quot;</span><span class=p>,</span><span class=w> </span><span class=mi>1000</span><span class=p>);</span>
<a id=__codelineno-14-4 name=__codelineno-14-4 href=#__codelineno-14-4></a><span class=n>List</span><span class=o>&lt;</span><span class=n>Employee</span><span class=o>&gt;</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>query</span><span class=p>.</span><span class=na>list</span><span class=p>();</span>
</code></pre></div> <h2 id=consultas-con-parametros>Consultas con parámetros<a class=headerlink href=#consultas-con-parametros title="Permanent link">&para;</a></h2> <p>Hibernate soporta parámetros con nombres y parámetros de estilo JDBC (<code>?</code>) en las consultas HQL. Los parámetros son enumerados desde 0, es decir, el primer parámetro que aparece estará en la posición 0, el siguiente en el 1, así sucesivamente. El uso de parámetros nombrados tiene una serie de ventajas:</p> <ul> <li>son insensibles al orden en que aparecen en la cadena de consulta.</li> <li>pueden aparecer múltiples veces en la misma petición.</li> <li>son autodocumentados.</li> </ul> <p>Para asignar valores a los parámetros se utilizan los métodos <code>setXXX</code>, vistos en la anterior tabla., siendo <code>setParameter()</code> la sintaxis simple.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-15-1 name=__codelineno-15-1 href=#__codelineno-15-1></a><span class=n>String</span><span class=w> </span><span class=n>hql</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&quot;from Employees emp where emp.department.deptNo = ? and emp.oficio = ?&quot;</span><span class=p>;</span>
<a id=__codelineno-15-2 name=__codelineno-15-2 href=#__codelineno-15-2></a>
<a id=__codelineno-15-3 name=__codelineno-15-3 href=#__codelineno-15-3></a><span class=n>Query</span><span class=w> </span><span class=n>q</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>session</span><span class=p>.</span><span class=na>createQuery</span><span class=p>(</span><span class=n>hql</span><span class=p>);</span>
<a id=__codelineno-15-4 name=__codelineno-15-4 href=#__codelineno-15-4></a><span class=n>q</span><span class=p>.</span><span class=na>setParameter</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span><span class=w> </span><span class=p>(</span><span class=kt>byte</span><span class=p>)</span><span class=w> </span><span class=mi>10</span><span class=p>);</span>
<a id=__codelineno-15-5 name=__codelineno-15-5 href=#__codelineno-15-5></a><span class=n>q</span><span class=p>.</span><span class=na>setParameter</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=s>&quot;Director&quot;</span><span class=p>);</span>
</code></pre></div> <p>El ejemplo anterior se puede hacer con parámetros nombrados y con sus métodos específicos para cada dato:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-16-1 name=__codelineno-16-1 href=#__codelineno-16-1></a><span class=n>String</span><span class=w> </span><span class=n>hql</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&quot;from Employees emp where emp.department.deptNo = :ndep and emp.oficio = :ofi&quot;</span><span class=p>;</span>
<a id=__codelineno-16-2 name=__codelineno-16-2 href=#__codelineno-16-2></a>
<a id=__codelineno-16-3 name=__codelineno-16-3 href=#__codelineno-16-3></a><span class=n>Query</span><span class=w> </span><span class=n>q</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>session</span><span class=p>.</span><span class=na>createQuery</span><span class=p>(</span><span class=n>hql</span><span class=p>);</span>
<a id=__codelineno-16-4 name=__codelineno-16-4 href=#__codelineno-16-4></a><span class=n>q</span><span class=p>.</span><span class=na>setInteger</span><span class=p>(</span><span class=err>&#39;</span><span class=n>ndep</span><span class=err>&#39;</span><span class=p>,</span><span class=w> </span><span class=p>(</span><span class=kt>byte</span><span class=p>)</span><span class=w> </span><span class=mi>10</span><span class=p>);</span>
<a id=__codelineno-16-5 name=__codelineno-16-5 href=#__codelineno-16-5></a><span class=n>q</span><span class=p>.</span><span class=na>setString</span><span class=p>(</span><span class=err>&#39;</span><span class=n>ofi</span><span class=err>&#39;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;Director&quot;</span><span class=p>);</span>
</code></pre></div> <p>Incluso podemos pasarle una lista de parámetros:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-17-1 name=__codelineno-17-1 href=#__codelineno-17-1></a><span class=n>List</span><span class=o>&lt;</span><span class=n>Byte</span><span class=o>&gt;</span><span class=w> </span><span class=n>numbers</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>ArrayList</span><span class=o>&lt;&gt;</span><span class=p>();</span>
<a id=__codelineno-17-2 name=__codelineno-17-2 href=#__codelineno-17-2></a><span class=n>numbers</span><span class=p>.</span><span class=na>add</span><span class=p>((</span><span class=kt>byte</span><span class=p>)</span><span class=w> </span><span class=mi>20</span><span class=p>);</span>
<a id=__codelineno-17-3 name=__codelineno-17-3 href=#__codelineno-17-3></a><span class=n>numbers</span><span class=p>.</span><span class=na>add</span><span class=p>((</span><span class=kt>byte</span><span class=p>)</span><span class=w> </span><span class=mi>20</span><span class=p>);</span>
<a id=__codelineno-17-4 name=__codelineno-17-4 href=#__codelineno-17-4></a>
<a id=__codelineno-17-5 name=__codelineno-17-5 href=#__codelineno-17-5></a><span class=n>String</span><span class=w> </span><span class=n>hql</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&quot;from Employees emp where emp.department.deptNo in (:listaDep) order by emp.department.deptNo&quot;</span><span class=p>;</span>
<a id=__codelineno-17-6 name=__codelineno-17-6 href=#__codelineno-17-6></a>
<a id=__codelineno-17-7 name=__codelineno-17-7 href=#__codelineno-17-7></a><span class=n>Query</span><span class=w> </span><span class=n>q</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>session</span><span class=p>.</span><span class=na>createQuery</span><span class=p>(</span><span class=n>hql</span><span class=p>);</span>
<a id=__codelineno-17-8 name=__codelineno-17-8 href=#__codelineno-17-8></a><span class=n>q</span><span class=p>.</span><span class=na>setParameterList</span><span class=p>(</span><span class=s>&quot;listDep&quot;</span><span class=p>,</span><span class=w> </span><span class=n>numbers</span><span class=p>);</span>
</code></pre></div> <h2 id=consultas-sobre-clases-no-asociadas>Consultas sobre clases no asociadas<a class=headerlink href=#consultas-sobre-clases-no-asociadas title="Permanent link">&para;</a></h2> <p>Si queremos recuperar los datos de una consulta en la que intervienen varias tablas y los atributos no están asociados a ninguna clase podemos utilizar la clase object. Los resultados se reciben en un array de objetos, donde el primer elemento del array se corresponde con la primera clase que ponemos a la derecha de <em>FROM</em>, el siguiente elemento con la siguiente clase, y así sucesivamente.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-18-1 name=__codelineno-18-1 href=#__codelineno-18-1></a><span class=n>String</span><span class=w> </span><span class=n>hql</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&quot;from Employee e, Department d where e.department.deptNo = d.deptNo order by apellido&quot;</span>
<a id=__codelineno-18-2 name=__codelineno-18-2 href=#__codelineno-18-2></a>
<a id=__codelineno-18-3 name=__codelineno-18-3 href=#__codelineno-18-3></a><span class=n>Query</span><span class=w> </span><span class=n>q</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>session</span><span class=p>.</span><span class=na>createQuery</span><span class=p>(</span><span class=n>sql</span><span class=p>);</span>
<a id=__codelineno-18-4 name=__codelineno-18-4 href=#__codelineno-18-4></a><span class=n>Iterator</span><span class=w> </span><span class=n>iterate</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>q</span><span class=p>.</span><span class=na>iterate</span><span class=p>();</span>
<a id=__codelineno-18-5 name=__codelineno-18-5 href=#__codelineno-18-5></a><span class=n>Object</span><span class=o>[]</span><span class=w> </span><span class=n>par</span><span class=p>;</span>
<a id=__codelineno-18-6 name=__codelineno-18-6 href=#__codelineno-18-6></a><span class=n>Employee</span><span class=w> </span><span class=n>employee</span><span class=p>;</span>
<a id=__codelineno-18-7 name=__codelineno-18-7 href=#__codelineno-18-7></a><span class=n>Department</span><span class=w> </span><span class=n>department</span><span class=p>;</span>
<a id=__codelineno-18-8 name=__codelineno-18-8 href=#__codelineno-18-8></a>
<a id=__codelineno-18-9 name=__codelineno-18-9 href=#__codelineno-18-9></a><span class=k>while</span><span class=p>(</span><span class=n>q</span><span class=p>.</span><span class=na>hasNext</span><span class=p>()){</span>
<a id=__codelineno-18-10 name=__codelineno-18-10 href=#__codelineno-18-10></a><span class=w>    </span><span class=n>par</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>(</span><span class=n>Object</span><span class=o>[]</span><span class=p>)</span><span class=w> </span><span class=n>iterate</span><span class=p>.</span><span class=na>next</span><span class=p>();</span>
<a id=__codelineno-18-11 name=__codelineno-18-11 href=#__codelineno-18-11></a><span class=w>    </span><span class=n>employee</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>(</span><span class=n>Employee</span><span class=p>)</span><span class=w> </span><span class=n>par</span><span class=o>[</span><span class=mi>0</span><span class=o>]</span><span class=p>;</span>
<a id=__codelineno-18-12 name=__codelineno-18-12 href=#__codelineno-18-12></a><span class=w>    </span><span class=n>department</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>(</span><span class=n>Department</span><span class=p>)</span><span class=w> </span><span class=n>par</span><span class=o>[</span><span class=mi>1</span><span class=o>]</span><span class=p>;</span>
<a id=__codelineno-18-13 name=__codelineno-18-13 href=#__codelineno-18-13></a><span class=w>    </span><span class=c1>// ...</span>
<a id=__codelineno-18-14 name=__codelineno-18-14 href=#__codelineno-18-14></a><span class=p>}</span>
</code></pre></div> <p>Supongamos, ahora, que se desea obtener el nombre de departamento, su número de empleados y el salario medio. Como los datos de esta consulta no están asociados a ninguna clase, se puede crear una y utilizarla sin la necesidad de mapearla.</p> <div class="tabbed-set tabbed-alternate" data-tabs=3:2><input checked=checked id=__tabbed_3_1 name=__tabbed_3 type=radio><input id=__tabbed_3_2 name=__tabbed_3 type=radio><div class=tabbed-labels><label for=__tabbed_3_1>TOTALES</label><label for=__tabbed_3_2>Main</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code><a id=__codelineno-19-1 name=__codelineno-19-1 href=#__codelineno-19-1></a><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>Totales</span><span class=p>{</span>
<a id=__codelineno-19-2 name=__codelineno-19-2 href=#__codelineno-19-2></a><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=n>Long</span><span class=w> </span><span class=n>nEmployees</span><span class=p>;</span>
<a id=__codelineno-19-3 name=__codelineno-19-3 href=#__codelineno-19-3></a><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=n>Byte</span><span class=w> </span><span class=n>nDepartment</span><span class=p>;</span>
<a id=__codelineno-19-4 name=__codelineno-19-4 href=#__codelineno-19-4></a><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=n>Double</span><span class=w> </span><span class=n>avgSalary</span><span class=p>;</span>
<a id=__codelineno-19-5 name=__codelineno-19-5 href=#__codelineno-19-5></a><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=n>departmentName</span><span class=p>;</span>
<a id=__codelineno-19-6 name=__codelineno-19-6 href=#__codelineno-19-6></a>
<a id=__codelineno-19-7 name=__codelineno-19-7 href=#__codelineno-19-7></a><span class=w>    </span><span class=c1>// Constructores y getter y setters</span>
<a id=__codelineno-19-8 name=__codelineno-19-8 href=#__codelineno-19-8></a><span class=p>}</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><a id=__codelineno-20-1 name=__codelineno-20-1 href=#__codelineno-20-1></a><span class=n>String</span><span class=w> </span><span class=n>hql</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&quot;select new package.Totales(&quot;</span><span class=w> </span>
<a id=__codelineno-20-2 name=__codelineno-20-2 href=#__codelineno-20-2></a><span class=o>+</span><span class=w> </span><span class=s>&quot; d.deptNo, count(e.empNo), coalasce(ave(e.salario), 0)), d.nombre) &quot;</span>
<a id=__codelineno-20-3 name=__codelineno-20-3 href=#__codelineno-20-3></a><span class=o>+</span><span class=w> </span><span class=s>&quot; from Employees as e right join e.departments as d &quot;</span>
<a id=__codelineno-20-4 name=__codelineno-20-4 href=#__codelineno-20-4></a><span class=o>+</span><span class=w> </span><span class=s>&quot; group by d.deptNo, d.nombre&quot;</span><span class=p>;</span>
<a id=__codelineno-20-5 name=__codelineno-20-5 href=#__codelineno-20-5></a>
<a id=__codelineno-20-6 name=__codelineno-20-6 href=#__codelineno-20-6></a><span class=n>Query</span><span class=w> </span><span class=n>q</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>session</span><span class=p>.</span><span class=na>createQuery</span><span class=p>(</span><span class=n>hql</span><span class=p>);</span>
<a id=__codelineno-20-7 name=__codelineno-20-7 href=#__codelineno-20-7></a><span class=n>Iterator</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>q</span><span class=p>.</span><span class=na>iterate</span><span class=p>();</span>
<a id=__codelineno-20-8 name=__codelineno-20-8 href=#__codelineno-20-8></a><span class=n>Totales</span><span class=w> </span><span class=n>t</span><span class=p>;</span>
<a id=__codelineno-20-9 name=__codelineno-20-9 href=#__codelineno-20-9></a>
<a id=__codelineno-20-10 name=__codelineno-20-10 href=#__codelineno-20-10></a><span class=k>while</span><span class=p>(</span><span class=n>t</span><span class=p>.</span><span class=na>hasNext</span><span class=p>()){</span>
<a id=__codelineno-20-11 name=__codelineno-20-11 href=#__codelineno-20-11></a><span class=w>    </span><span class=n>t</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>(</span><span class=n>Totales</span><span class=p>)</span><span class=w> </span><span class=n>q</span><span class=p>.</span><span class=na>next</span><span class=p>();</span>
<a id=__codelineno-20-12 name=__codelineno-20-12 href=#__codelineno-20-12></a><span class=w>    </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=n>t</span><span class=p>);</span>
<a id=__codelineno-20-13 name=__codelineno-20-13 href=#__codelineno-20-13></a><span class=p>}</span>
</code></pre></div> </div> </div> </div> <h2 id=records>Records<a class=headerlink href=#records title="Permanent link">&para;</a></h2> <p>En Hibernate, no es posible utilizar records como clases de identidad, ya que es necesario tener los métodos <em>setters</em> para la modificación de la información que obtenemos de la base de datos. Sin embargo, a través del lenguaje JPQL o HPL, podemos obtener una consulta y envolverla en una clase record.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-21-1 name=__codelineno-21-1 href=#__codelineno-21-1></a><span class=n>TypedQuery</span><span class=o>&lt;</span><span class=n>BookWithAuthorNamesRecord</span><span class=o>&gt;</span><span class=w> </span><span class=n>q</span><span class=w> </span><span class=o>=</span><span class=w> </span>
<a id=__codelineno-21-2 name=__codelineno-21-2 href=#__codelineno-21-2></a><span class=w>        </span><span class=n>em</span><span class=p>.</span><span class=na>createQuery</span><span class=p>(</span>
<a id=__codelineno-21-3 name=__codelineno-21-3 href=#__codelineno-21-3></a><span class=w>                </span><span class=s>&quot;SELECT new org.thoughts.on.java.model.BookWithAuthorNamesRecord(&quot;</span>
<a id=__codelineno-21-4 name=__codelineno-21-4 href=#__codelineno-21-4></a><span class=w>                        </span><span class=o>+</span><span class=w> </span><span class=s>&quot;b.id, b.title, b.price, concat(a.firstName, &#39; &#39;, a.lastName)) &quot;</span>
<a id=__codelineno-21-5 name=__codelineno-21-5 href=#__codelineno-21-5></a><span class=w>                </span><span class=o>+</span><span class=w> </span><span class=s>&quot; FROM Book b JOIN b.author a &quot;</span>
<a id=__codelineno-21-6 name=__codelineno-21-6 href=#__codelineno-21-6></a><span class=w>                </span><span class=o>+</span><span class=w> </span><span class=s>&quot; WHERE b.title LIKE :title&quot;</span><span class=p>,</span>
<a id=__codelineno-21-7 name=__codelineno-21-7 href=#__codelineno-21-7></a><span class=w>                </span><span class=n>BookWithAuthorNamesRecord</span><span class=p>.</span><span class=na>class</span><span class=p>);</span>
<a id=__codelineno-21-8 name=__codelineno-21-8 href=#__codelineno-21-8></a><span class=n>q</span><span class=p>.</span><span class=na>setParameter</span><span class=p>(</span><span class=s>&quot;title&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;%Hibernate Tips%&quot;</span><span class=p>);</span>
<a id=__codelineno-21-9 name=__codelineno-21-9 href=#__codelineno-21-9></a><span class=n>List</span><span class=o>&lt;</span><span class=n>BookWithAuthorNamesRecord</span><span class=o>&gt;</span><span class=w> </span><span class=n>books</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>q</span><span class=p>.</span><span class=na>getResultList</span><span class=p>();</span>
</code></pre></div> <p>Otra solución es en la clase de entidad, indicarle que al realizar la consulta, mapee el resultado a la clase record deseada:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-22-1 name=__codelineno-22-1 href=#__codelineno-22-1></a><span class=nd>@SqlResultSetMapping</span><span class=p>(</span>
<a id=__codelineno-22-2 name=__codelineno-22-2 href=#__codelineno-22-2></a><span class=w>        </span><span class=n>name</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&quot;BookWithAuthorNamesRecordMapping&quot;</span><span class=p>,</span>
<a id=__codelineno-22-3 name=__codelineno-22-3 href=#__codelineno-22-3></a><span class=w>        </span><span class=n>classes</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nd>@ConstructorResult</span><span class=p>(</span>
<a id=__codelineno-22-4 name=__codelineno-22-4 href=#__codelineno-22-4></a><span class=w>                </span><span class=n>targetClass</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>BookWithAuthorNamesRecord</span><span class=p>.</span><span class=na>class</span><span class=p>,</span>
<a id=__codelineno-22-5 name=__codelineno-22-5 href=#__codelineno-22-5></a><span class=w>                </span><span class=n>columns</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nd>@ColumnResult</span><span class=p>(</span><span class=n>name</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&quot;id&quot;</span><span class=p>,</span><span class=w> </span><span class=n>type</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Long</span><span class=p>.</span><span class=na>class</span><span class=p>),</span><span class=w> </span>
<a id=__codelineno-22-6 name=__codelineno-22-6 href=#__codelineno-22-6></a><span class=w>                            </span><span class=nd>@ColumnResult</span><span class=p>(</span><span class=n>name</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&quot;title&quot;</span><span class=p>),</span><span class=w> </span>
<a id=__codelineno-22-7 name=__codelineno-22-7 href=#__codelineno-22-7></a><span class=w>                            </span><span class=nd>@ColumnResult</span><span class=p>(</span><span class=n>name</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&quot;price&quot;</span><span class=p>),</span><span class=w> </span>
<a id=__codelineno-22-8 name=__codelineno-22-8 href=#__codelineno-22-8></a><span class=w>                            </span><span class=nd>@ColumnResult</span><span class=p>(</span><span class=n>name</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&quot;authorName&quot;</span><span class=p>)}))</span>
</code></pre></div> <h2 id=proyecto-students-con-hibernate>Proyecto Students con Hibernate<a class=headerlink href=#proyecto-students-con-hibernate title="Permanent link">&para;</a></h2> <p>Vamos ahora a modificar nuestro proyecto <strong>Students</strong> para añadirle todo lo aprendido. En primer lugar, eliminamos el <em>persistence.xml</em> y añadimos un fichero <em>hibernate.cfg.xml</em>:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-23-1 name=__codelineno-23-1 href=#__codelineno-23-1></a><span class=cp>&lt;!DOCTYPE hibernate-configuration PUBLIC</span>
<a id=__codelineno-23-2 name=__codelineno-23-2 href=#__codelineno-23-2></a><span class=cp>        &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot;</span>
<a id=__codelineno-23-3 name=__codelineno-23-3 href=#__codelineno-23-3></a><span class=cp>        &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;</span>
<a id=__codelineno-23-4 name=__codelineno-23-4 href=#__codelineno-23-4></a><span class=nt>&lt;hibernate-configuration&gt;</span>
<a id=__codelineno-23-5 name=__codelineno-23-5 href=#__codelineno-23-5></a><span class=w>    </span><span class=nt>&lt;session-factory</span><span class=w> </span><span class=na>name=</span><span class=s>&quot;&quot;</span><span class=nt>&gt;</span>
<a id=__codelineno-23-6 name=__codelineno-23-6 href=#__codelineno-23-6></a><span class=w>        </span><span class=nt>&lt;property</span><span class=w> </span><span class=na>name=</span><span class=s>&quot;hibernate.connection.drive_class&quot;</span><span class=nt>&gt;</span>com.mysql.jdbc.Driver<span class=nt>&lt;/property&gt;</span>
<a id=__codelineno-23-7 name=__codelineno-23-7 href=#__codelineno-23-7></a><span class=w>        </span><span class=nt>&lt;property</span><span class=w> </span><span class=na>name=</span><span class=s>&quot;hibernate.connection.username&quot;</span><span class=nt>&gt;</span>root<span class=nt>&lt;/property&gt;</span>
<a id=__codelineno-23-8 name=__codelineno-23-8 href=#__codelineno-23-8></a><span class=w>        </span><span class=nt>&lt;property</span><span class=w> </span><span class=na>name=</span><span class=s>&quot;hibernate.connection.password&quot;</span><span class=nt>&gt;&lt;/property&gt;</span>
<a id=__codelineno-23-9 name=__codelineno-23-9 href=#__codelineno-23-9></a><span class=w>        </span><span class=nt>&lt;property</span><span class=w> </span><span class=na>name=</span><span class=s>&quot;hibernate.connection.url&quot;</span><span class=nt>&gt;</span>jdbc:mysql://localhost/students<span class=nt>&lt;/property&gt;</span>
<a id=__codelineno-23-10 name=__codelineno-23-10 href=#__codelineno-23-10></a><span class=w>        </span><span class=nt>&lt;property</span><span class=w> </span><span class=na>name=</span><span class=s>&quot;hibernate.dialect&quot;</span><span class=nt>&gt;</span>org.hibernate.dialect.MySQLDialect<span class=nt>&lt;/property&gt;</span>
<a id=__codelineno-23-11 name=__codelineno-23-11 href=#__codelineno-23-11></a>
<a id=__codelineno-23-12 name=__codelineno-23-12 href=#__codelineno-23-12></a><span class=w>        </span><span class=nt>&lt;mapping</span><span class=w> </span><span class=na>resource=</span><span class=s>&quot;orm/Course.xml&quot;</span><span class=nt>/&gt;</span>
<a id=__codelineno-23-13 name=__codelineno-23-13 href=#__codelineno-23-13></a><span class=w>        </span><span class=nt>&lt;mapping</span><span class=w> </span><span class=na>resource=</span><span class=s>&quot;orm/Inscription.xml&quot;</span><span class=nt>/&gt;</span>
<a id=__codelineno-23-14 name=__codelineno-23-14 href=#__codelineno-23-14></a><span class=w>        </span><span class=nt>&lt;mapping</span><span class=w> </span><span class=na>resource=</span><span class=s>&quot;orm/Student.xml&quot;</span><span class=nt>/&gt;</span>
<a id=__codelineno-23-15 name=__codelineno-23-15 href=#__codelineno-23-15></a><span class=w>    </span><span class=nt>&lt;/session-factory&gt;</span>
<a id=__codelineno-23-16 name=__codelineno-23-16 href=#__codelineno-23-16></a><span class=nt>&lt;/hibernate-configuration&gt;</span>
</code></pre></div> <p>Luego creamos los ficheros xml de mapeo (en caso de usar anotaciones, no se deben modificar):</p> <div class="tabbed-set tabbed-alternate" data-tabs=4:3><input checked=checked id=__tabbed_4_1 name=__tabbed_4 type=radio><input id=__tabbed_4_2 name=__tabbed_4 type=radio><input id=__tabbed_4_3 name=__tabbed_4 type=radio><div class=tabbed-labels><label for=__tabbed_4_1>COURSE</label><label for=__tabbed_4_2>STUDENT</label><label for=__tabbed_4_3>INSCRIPTION</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code><a id=__codelineno-24-1 name=__codelineno-24-1 href=#__codelineno-24-1></a><span class=cp>&lt;!DOCTYPE hibernate-mapping PUBLIC &quot;-//Hibernate/Hibernate Mapping DTD 3.0//EN&quot;</span>
<a id=__codelineno-24-2 name=__codelineno-24-2 href=#__codelineno-24-2></a><span class=cp>        &quot;http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd&quot;&gt;</span>
<a id=__codelineno-24-3 name=__codelineno-24-3 href=#__codelineno-24-3></a><span class=nt>&lt;hibernate-mapping&gt;</span>
<a id=__codelineno-24-4 name=__codelineno-24-4 href=#__codelineno-24-4></a><span class=w>    </span><span class=nt>&lt;class</span><span class=w> </span><span class=na>name=</span><span class=s>&quot;com.irudev.data.entity.Course&quot;</span><span class=w> </span><span class=na>table=</span><span class=s>&quot;course&quot;</span><span class=nt>&gt;</span>
<a id=__codelineno-24-5 name=__codelineno-24-5 href=#__codelineno-24-5></a><span class=w>        </span><span class=nt>&lt;id</span><span class=w> </span><span class=na>name=</span><span class=s>&quot;id&quot;</span><span class=w> </span><span class=na>type=</span><span class=s>&quot;java.lang.Integer&quot;</span><span class=nt>&gt;</span>
<a id=__codelineno-24-6 name=__codelineno-24-6 href=#__codelineno-24-6></a><span class=w>            </span><span class=nt>&lt;column</span><span class=w> </span><span class=na>name=</span><span class=s>&quot;id&quot;</span><span class=nt>/&gt;</span>
<a id=__codelineno-24-7 name=__codelineno-24-7 href=#__codelineno-24-7></a><span class=w>            </span><span class=nt>&lt;generator</span><span class=w> </span><span class=na>class=</span><span class=s>&quot;identity&quot;</span><span class=nt>/&gt;</span>
<a id=__codelineno-24-8 name=__codelineno-24-8 href=#__codelineno-24-8></a><span class=w>        </span><span class=nt>&lt;/id&gt;</span>
<a id=__codelineno-24-9 name=__codelineno-24-9 href=#__codelineno-24-9></a><span class=w>        </span><span class=nt>&lt;property</span><span class=w> </span><span class=na>name=</span><span class=s>&quot;name&quot;</span><span class=w> </span><span class=na>type=</span><span class=s>&quot;string&quot;</span><span class=nt>&gt;</span>
<a id=__codelineno-24-10 name=__codelineno-24-10 href=#__codelineno-24-10></a><span class=w>            </span><span class=nt>&lt;column</span><span class=w> </span><span class=na>name=</span><span class=s>&quot;name&quot;</span><span class=nt>/&gt;</span>
<a id=__codelineno-24-11 name=__codelineno-24-11 href=#__codelineno-24-11></a><span class=w>        </span><span class=nt>&lt;/property&gt;</span>
<a id=__codelineno-24-12 name=__codelineno-24-12 href=#__codelineno-24-12></a><span class=w>        </span><span class=nt>&lt;property</span><span class=w> </span><span class=na>name=</span><span class=s>&quot;credits&quot;</span><span class=w> </span><span class=na>type=</span><span class=s>&quot;int&quot;</span><span class=nt>&gt;</span>
<a id=__codelineno-24-13 name=__codelineno-24-13 href=#__codelineno-24-13></a><span class=w>            </span><span class=nt>&lt;column</span><span class=w> </span><span class=na>name=</span><span class=s>&quot;credits&quot;</span><span class=nt>/&gt;</span>
<a id=__codelineno-24-14 name=__codelineno-24-14 href=#__codelineno-24-14></a><span class=w>        </span><span class=nt>&lt;/property&gt;</span>
<a id=__codelineno-24-15 name=__codelineno-24-15 href=#__codelineno-24-15></a><span class=w>    </span><span class=nt>&lt;/class&gt;</span>
<a id=__codelineno-24-16 name=__codelineno-24-16 href=#__codelineno-24-16></a><span class=nt>&lt;/hibernate-mapping&gt;</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><a id=__codelineno-25-1 name=__codelineno-25-1 href=#__codelineno-25-1></a><span class=cm>&lt;!-- estudiante.orm.xml --&gt;</span>
<a id=__codelineno-25-2 name=__codelineno-25-2 href=#__codelineno-25-2></a><span class=cp>&lt;!DOCTYPE hibernate-mapping PUBLIC &quot;-//Hibernate/Hibernate Mapping DTD 3.0//EN&quot;</span>
<a id=__codelineno-25-3 name=__codelineno-25-3 href=#__codelineno-25-3></a><span class=cp>        &quot;http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd&quot;&gt;</span>
<a id=__codelineno-25-4 name=__codelineno-25-4 href=#__codelineno-25-4></a><span class=nt>&lt;hibernate-mapping&gt;</span>
<a id=__codelineno-25-5 name=__codelineno-25-5 href=#__codelineno-25-5></a><span class=w>    </span><span class=nt>&lt;class</span><span class=w> </span><span class=na>name=</span><span class=s>&quot;com.irudev.data.entity.Student&quot;</span><span class=w> </span><span class=na>table=</span><span class=s>&quot;student&quot;</span><span class=nt>&gt;</span>
<a id=__codelineno-25-6 name=__codelineno-25-6 href=#__codelineno-25-6></a><span class=w>        </span><span class=nt>&lt;id</span><span class=w> </span><span class=na>name=</span><span class=s>&quot;id&quot;</span><span class=w> </span><span class=na>type=</span><span class=s>&quot;java.lang.Integer&quot;</span><span class=nt>&gt;</span>
<a id=__codelineno-25-7 name=__codelineno-25-7 href=#__codelineno-25-7></a><span class=w>            </span><span class=nt>&lt;column</span><span class=w> </span><span class=na>name=</span><span class=s>&quot;id&quot;</span><span class=nt>/&gt;</span>
<a id=__codelineno-25-8 name=__codelineno-25-8 href=#__codelineno-25-8></a><span class=w>            </span><span class=nt>&lt;generator</span><span class=w> </span><span class=na>class=</span><span class=s>&quot;identity&quot;</span><span class=nt>/&gt;</span>
<a id=__codelineno-25-9 name=__codelineno-25-9 href=#__codelineno-25-9></a><span class=w>        </span><span class=nt>&lt;/id&gt;</span>
<a id=__codelineno-25-10 name=__codelineno-25-10 href=#__codelineno-25-10></a><span class=w>        </span><span class=nt>&lt;property</span><span class=w> </span><span class=na>name=</span><span class=s>&quot;name&quot;</span><span class=w> </span><span class=na>type=</span><span class=s>&quot;string&quot;</span><span class=nt>&gt;</span>
<a id=__codelineno-25-11 name=__codelineno-25-11 href=#__codelineno-25-11></a><span class=w>            </span><span class=nt>&lt;column</span><span class=w> </span><span class=na>name=</span><span class=s>&quot;name&quot;</span><span class=w> </span><span class=nt>/&gt;</span>
<a id=__codelineno-25-12 name=__codelineno-25-12 href=#__codelineno-25-12></a><span class=w>        </span><span class=nt>&lt;/property&gt;</span>
<a id=__codelineno-25-13 name=__codelineno-25-13 href=#__codelineno-25-13></a><span class=w>        </span><span class=nt>&lt;property</span><span class=w> </span><span class=na>name=</span><span class=s>&quot;age&quot;</span><span class=w> </span><span class=na>type=</span><span class=s>&quot;int&quot;</span><span class=nt>&gt;</span>
<a id=__codelineno-25-14 name=__codelineno-25-14 href=#__codelineno-25-14></a><span class=w>            </span><span class=nt>&lt;column</span><span class=w> </span><span class=na>name=</span><span class=s>&quot;age&quot;</span><span class=nt>/&gt;</span>
<a id=__codelineno-25-15 name=__codelineno-25-15 href=#__codelineno-25-15></a><span class=w>        </span><span class=nt>&lt;/property&gt;</span>
<a id=__codelineno-25-16 name=__codelineno-25-16 href=#__codelineno-25-16></a><span class=w>    </span><span class=nt>&lt;/class&gt;</span>
<a id=__codelineno-25-17 name=__codelineno-25-17 href=#__codelineno-25-17></a><span class=nt>&lt;/hibernate-mapping&gt;</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><a id=__codelineno-26-1 name=__codelineno-26-1 href=#__codelineno-26-1></a><span class=cp>&lt;!DOCTYPE hibernate-mapping PUBLIC &quot;-//Hibernate/Hibernate Mapping DTD 3.0//EN&quot;</span>
<a id=__codelineno-26-2 name=__codelineno-26-2 href=#__codelineno-26-2></a><span class=cp>        &quot;http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd&quot;&gt;</span>
<a id=__codelineno-26-3 name=__codelineno-26-3 href=#__codelineno-26-3></a><span class=nt>&lt;hibernate-mapping&gt;</span>
<a id=__codelineno-26-4 name=__codelineno-26-4 href=#__codelineno-26-4></a><span class=w>    </span><span class=nt>&lt;class</span><span class=w> </span><span class=na>name=</span><span class=s>&quot;com.irudev.data.entity.Inscription&quot;</span><span class=w> </span><span class=na>table=</span><span class=s>&quot;inscription&quot;</span><span class=nt>&gt;</span>
<a id=__codelineno-26-5 name=__codelineno-26-5 href=#__codelineno-26-5></a><span class=w>        </span><span class=nt>&lt;id</span><span class=w> </span><span class=na>name=</span><span class=s>&quot;id&quot;</span><span class=w> </span><span class=na>type=</span><span class=s>&quot;java.lang.Long&quot;</span><span class=nt>&gt;</span>
<a id=__codelineno-26-6 name=__codelineno-26-6 href=#__codelineno-26-6></a><span class=w>            </span><span class=nt>&lt;column</span><span class=w> </span><span class=na>name=</span><span class=s>&quot;id&quot;</span><span class=nt>/&gt;</span>
<a id=__codelineno-26-7 name=__codelineno-26-7 href=#__codelineno-26-7></a><span class=w>            </span><span class=nt>&lt;generator</span><span class=w> </span><span class=na>class=</span><span class=s>&quot;identity&quot;</span><span class=nt>/&gt;</span>
<a id=__codelineno-26-8 name=__codelineno-26-8 href=#__codelineno-26-8></a><span class=w>        </span><span class=nt>&lt;/id&gt;</span>
<a id=__codelineno-26-9 name=__codelineno-26-9 href=#__codelineno-26-9></a><span class=w>        </span><span class=nt>&lt;many-to-one</span><span class=w> </span><span class=na>name=</span><span class=s>&quot;student&quot;</span><span class=w> </span><span class=na>class=</span><span class=s>&quot;com.irudev.data.entity.Student&quot;</span><span class=nt>&gt;</span>
<a id=__codelineno-26-10 name=__codelineno-26-10 href=#__codelineno-26-10></a><span class=w>            </span><span class=nt>&lt;column</span><span class=w> </span><span class=na>name=</span><span class=s>&quot;idStudent&quot;</span><span class=nt>/&gt;</span>
<a id=__codelineno-26-11 name=__codelineno-26-11 href=#__codelineno-26-11></a><span class=w>        </span><span class=nt>&lt;/many-to-one&gt;</span>
<a id=__codelineno-26-12 name=__codelineno-26-12 href=#__codelineno-26-12></a><span class=w>        </span><span class=nt>&lt;many-to-one</span><span class=w> </span><span class=na>name=</span><span class=s>&quot;course&quot;</span><span class=w> </span><span class=na>class=</span><span class=s>&quot;com.irudev.data.entity.Course&quot;</span><span class=nt>&gt;</span>
<a id=__codelineno-26-13 name=__codelineno-26-13 href=#__codelineno-26-13></a><span class=w>            </span><span class=nt>&lt;column</span><span class=w> </span><span class=na>name=</span><span class=s>&quot;idCourse&quot;</span><span class=nt>/&gt;</span>
<a id=__codelineno-26-14 name=__codelineno-26-14 href=#__codelineno-26-14></a><span class=w>        </span><span class=nt>&lt;/many-to-one&gt;</span>
<a id=__codelineno-26-15 name=__codelineno-26-15 href=#__codelineno-26-15></a><span class=w>    </span><span class=nt>&lt;/class&gt;</span>
<a id=__codelineno-26-16 name=__codelineno-26-16 href=#__codelineno-26-16></a><span class=nt>&lt;/hibernate-mapping&gt;</span>
</code></pre></div> </div> </div> </div> <p>Añadimos nuestro <em>Singleton</em> que controle nuestro acceso a las sesiones de Hibernate:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-27-1 name=__codelineno-27-1 href=#__codelineno-27-1></a><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>HibernateUtil</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-27-2 name=__codelineno-27-2 href=#__codelineno-27-2></a><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=n>HibernateUtil</span><span class=w> </span><span class=n>instance</span><span class=p>;</span>
<a id=__codelineno-27-3 name=__codelineno-27-3 href=#__codelineno-27-3></a><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=n>SessionFactory</span><span class=w> </span><span class=n>factory</span><span class=p>;</span>
<a id=__codelineno-27-4 name=__codelineno-27-4 href=#__codelineno-27-4></a><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=n>Session</span><span class=w> </span><span class=n>session</span><span class=p>;</span>
<a id=__codelineno-27-5 name=__codelineno-27-5 href=#__codelineno-27-5></a>
<a id=__codelineno-27-6 name=__codelineno-27-6 href=#__codelineno-27-6></a><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=nf>HibernateUtil</span><span class=p>(){}</span>
<a id=__codelineno-27-7 name=__codelineno-27-7 href=#__codelineno-27-7></a>
<a id=__codelineno-27-8 name=__codelineno-27-8 href=#__codelineno-27-8></a><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>buildSessionFactory</span><span class=p>(){</span>
<a id=__codelineno-27-9 name=__codelineno-27-9 href=#__codelineno-27-9></a><span class=w>        </span><span class=n>Configuration</span><span class=w> </span><span class=n>configuration</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>Configuration</span><span class=p>().</span><span class=na>configure</span><span class=p>();</span>
<a id=__codelineno-27-10 name=__codelineno-27-10 href=#__codelineno-27-10></a><span class=w>        </span><span class=n>StandardServiceRegistry</span><span class=w> </span><span class=n>registry</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>StandardServiceRegistryBuilder</span><span class=p>().</span><span class=na>configure</span><span class=p>().</span><span class=na>build</span><span class=p>();</span>
<a id=__codelineno-27-11 name=__codelineno-27-11 href=#__codelineno-27-11></a><span class=w>        </span><span class=n>factory</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>configuration</span><span class=p>.</span><span class=na>buildSessionFactory</span><span class=p>(</span><span class=n>registry</span><span class=p>);</span>
<a id=__codelineno-27-12 name=__codelineno-27-12 href=#__codelineno-27-12></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-27-13 name=__codelineno-27-13 href=#__codelineno-27-13></a>
<a id=__codelineno-27-14 name=__codelineno-27-14 href=#__codelineno-27-14></a><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>openSession</span><span class=p>(){</span>
<a id=__codelineno-27-15 name=__codelineno-27-15 href=#__codelineno-27-15></a><span class=w>        </span><span class=k>if</span><span class=p>(</span><span class=n>factory</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>null</span><span class=p>){</span>
<a id=__codelineno-27-16 name=__codelineno-27-16 href=#__codelineno-27-16></a><span class=w>            </span><span class=n>buildSessionFactory</span><span class=p>();</span>
<a id=__codelineno-27-17 name=__codelineno-27-17 href=#__codelineno-27-17></a><span class=w>        </span><span class=p>}</span>
<a id=__codelineno-27-18 name=__codelineno-27-18 href=#__codelineno-27-18></a>
<a id=__codelineno-27-19 name=__codelineno-27-19 href=#__codelineno-27-19></a><span class=w>        </span><span class=k>if</span><span class=p>(</span><span class=n>session</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>null</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=o>!</span><span class=n>session</span><span class=p>.</span><span class=na>isOpen</span><span class=p>()){</span>
<a id=__codelineno-27-20 name=__codelineno-27-20 href=#__codelineno-27-20></a><span class=w>            </span><span class=n>session</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>factory</span><span class=p>.</span><span class=na>openSession</span><span class=p>();</span>
<a id=__codelineno-27-21 name=__codelineno-27-21 href=#__codelineno-27-21></a><span class=w>        </span><span class=p>}</span>
<a id=__codelineno-27-22 name=__codelineno-27-22 href=#__codelineno-27-22></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-27-23 name=__codelineno-27-23 href=#__codelineno-27-23></a>
<a id=__codelineno-27-24 name=__codelineno-27-24 href=#__codelineno-27-24></a><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>closeSession</span><span class=p>(){</span>
<a id=__codelineno-27-25 name=__codelineno-27-25 href=#__codelineno-27-25></a><span class=w>        </span><span class=k>if</span><span class=p>(</span><span class=n>session</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=kc>null</span><span class=p>){</span>
<a id=__codelineno-27-26 name=__codelineno-27-26 href=#__codelineno-27-26></a><span class=w>            </span><span class=n>session</span><span class=p>.</span><span class=na>close</span><span class=p>();</span>
<a id=__codelineno-27-27 name=__codelineno-27-27 href=#__codelineno-27-27></a><span class=w>        </span><span class=p>}</span>
<a id=__codelineno-27-28 name=__codelineno-27-28 href=#__codelineno-27-28></a>
<a id=__codelineno-27-29 name=__codelineno-27-29 href=#__codelineno-27-29></a><span class=w>        </span><span class=k>if</span><span class=p>(</span><span class=n>factory</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=kc>null</span><span class=p>){</span>
<a id=__codelineno-27-30 name=__codelineno-27-30 href=#__codelineno-27-30></a><span class=w>            </span><span class=n>factory</span><span class=p>.</span><span class=na>close</span><span class=p>();</span>
<a id=__codelineno-27-31 name=__codelineno-27-31 href=#__codelineno-27-31></a><span class=w>        </span><span class=p>}</span>
<a id=__codelineno-27-32 name=__codelineno-27-32 href=#__codelineno-27-32></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-27-33 name=__codelineno-27-33 href=#__codelineno-27-33></a>
<a id=__codelineno-27-34 name=__codelineno-27-34 href=#__codelineno-27-34></a><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>Session</span><span class=w> </span><span class=nf>getCurrentSession</span><span class=p>(){</span>
<a id=__codelineno-27-35 name=__codelineno-27-35 href=#__codelineno-27-35></a><span class=w>        </span><span class=k>if</span><span class=p>(</span><span class=n>session</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>null</span><span class=p>){</span>
<a id=__codelineno-27-36 name=__codelineno-27-36 href=#__codelineno-27-36></a><span class=w>            </span><span class=n>openSession</span><span class=p>();</span>
<a id=__codelineno-27-37 name=__codelineno-27-37 href=#__codelineno-27-37></a><span class=w>        </span><span class=p>}</span>
<a id=__codelineno-27-38 name=__codelineno-27-38 href=#__codelineno-27-38></a>
<a id=__codelineno-27-39 name=__codelineno-27-39 href=#__codelineno-27-39></a><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>session</span><span class=p>;</span>
<a id=__codelineno-27-40 name=__codelineno-27-40 href=#__codelineno-27-40></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-27-41 name=__codelineno-27-41 href=#__codelineno-27-41></a>
<a id=__codelineno-27-42 name=__codelineno-27-42 href=#__codelineno-27-42></a><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=n>HibernateUtil</span><span class=w> </span><span class=nf>getInstance</span><span class=p>(){</span>
<a id=__codelineno-27-43 name=__codelineno-27-43 href=#__codelineno-27-43></a><span class=w>        </span><span class=k>if</span><span class=p>(</span><span class=n>instance</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>null</span><span class=p>){</span>
<a id=__codelineno-27-44 name=__codelineno-27-44 href=#__codelineno-27-44></a><span class=w>            </span><span class=n>instance</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>HibernateUtil</span><span class=p>();</span>
<a id=__codelineno-27-45 name=__codelineno-27-45 href=#__codelineno-27-45></a><span class=w>        </span><span class=p>}</span>
<a id=__codelineno-27-46 name=__codelineno-27-46 href=#__codelineno-27-46></a>
<a id=__codelineno-27-47 name=__codelineno-27-47 href=#__codelineno-27-47></a><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>instance</span><span class=p>;</span>
<a id=__codelineno-27-48 name=__codelineno-27-48 href=#__codelineno-27-48></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-27-49 name=__codelineno-27-49 href=#__codelineno-27-49></a><span class=p>}</span>
</code></pre></div> <p>Por último, modificamos nuestros modelos:</p> <div class="tabbed-set tabbed-alternate" data-tabs=5:3><input checked=checked id=__tabbed_5_1 name=__tabbed_5 type=radio><input id=__tabbed_5_2 name=__tabbed_5 type=radio><input id=__tabbed_5_3 name=__tabbed_5 type=radio><div class=tabbed-labels><label for=__tabbed_5_1>COURSE</label><label for=__tabbed_5_2>STUDENT</label><label for=__tabbed_5_3>INSCRIPTION</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code><a id=__codelineno-28-1 name=__codelineno-28-1 href=#__codelineno-28-1></a><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>JDBCCourseRepository</span><span class=w> </span><span class=kd>implements</span><span class=w> </span><span class=n>CourseRepository</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-28-2 name=__codelineno-28-2 href=#__codelineno-28-2></a><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kd>final</span><span class=w> </span><span class=n>HibernateUtil</span><span class=w> </span><span class=n>manager</span><span class=p>;</span>
<a id=__codelineno-28-3 name=__codelineno-28-3 href=#__codelineno-28-3></a>
<a id=__codelineno-28-4 name=__codelineno-28-4 href=#__codelineno-28-4></a><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=nf>JDBCCourseRepository</span><span class=p>(</span><span class=n>HibernateUtil</span><span class=w> </span><span class=n>manager</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-28-5 name=__codelineno-28-5 href=#__codelineno-28-5></a><span class=w>        </span><span class=k>this</span><span class=p>.</span><span class=na>manager</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>manager</span><span class=p>;</span>
<a id=__codelineno-28-6 name=__codelineno-28-6 href=#__codelineno-28-6></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-28-7 name=__codelineno-28-7 href=#__codelineno-28-7></a>
<a id=__codelineno-28-8 name=__codelineno-28-8 href=#__codelineno-28-8></a><span class=w>    </span><span class=nd>@Override</span>
<a id=__codelineno-28-9 name=__codelineno-28-9 href=#__codelineno-28-9></a><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>Course</span><span class=w> </span><span class=nf>getById</span><span class=p>(</span><span class=n>Integer</span><span class=w> </span><span class=n>id</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-28-10 name=__codelineno-28-10 href=#__codelineno-28-10></a><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>manager</span><span class=p>.</span><span class=na>getCurrentSession</span><span class=p>().</span><span class=na>get</span><span class=p>(</span><span class=n>Course</span><span class=p>.</span><span class=na>class</span><span class=p>,</span><span class=w> </span><span class=n>id</span><span class=p>);</span>
<a id=__codelineno-28-11 name=__codelineno-28-11 href=#__codelineno-28-11></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-28-12 name=__codelineno-28-12 href=#__codelineno-28-12></a>
<a id=__codelineno-28-13 name=__codelineno-28-13 href=#__codelineno-28-13></a><span class=w>    </span><span class=nd>@Override</span>
<a id=__codelineno-28-14 name=__codelineno-28-14 href=#__codelineno-28-14></a><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>List</span><span class=o>&lt;</span><span class=n>Course</span><span class=o>&gt;</span><span class=w> </span><span class=nf>getAll</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-28-15 name=__codelineno-28-15 href=#__codelineno-28-15></a><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>manager</span><span class=p>.</span><span class=na>getCurrentSession</span><span class=p>().</span><span class=na>createQuery</span><span class=p>(</span><span class=s>&quot;from Course c&quot;</span><span class=p>,</span><span class=w> </span><span class=n>Course</span><span class=p>.</span><span class=na>class</span><span class=p>).</span><span class=na>list</span><span class=p>();</span>
<a id=__codelineno-28-16 name=__codelineno-28-16 href=#__codelineno-28-16></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-28-17 name=__codelineno-28-17 href=#__codelineno-28-17></a>
<a id=__codelineno-28-18 name=__codelineno-28-18 href=#__codelineno-28-18></a>
<a id=__codelineno-28-19 name=__codelineno-28-19 href=#__codelineno-28-19></a><span class=w>    </span><span class=nd>@Override</span>
<a id=__codelineno-28-20 name=__codelineno-28-20 href=#__codelineno-28-20></a><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kt>boolean</span><span class=w> </span><span class=nf>save</span><span class=p>(</span><span class=n>Course</span><span class=w> </span><span class=n>course</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-28-21 name=__codelineno-28-21 href=#__codelineno-28-21></a><span class=w>        </span><span class=k>try</span><span class=p>{</span>
<a id=__codelineno-28-22 name=__codelineno-28-22 href=#__codelineno-28-22></a><span class=w>            </span><span class=n>Transaction</span><span class=w> </span><span class=n>tx</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>manager</span><span class=p>.</span><span class=na>getCurrentSession</span><span class=p>().</span><span class=na>beginTransaction</span><span class=p>();</span>
<a id=__codelineno-28-23 name=__codelineno-28-23 href=#__codelineno-28-23></a><span class=w>            </span><span class=n>manager</span><span class=p>.</span><span class=na>getCurrentSession</span><span class=p>().</span><span class=na>persist</span><span class=p>(</span><span class=n>course</span><span class=p>);</span>
<a id=__codelineno-28-24 name=__codelineno-28-24 href=#__codelineno-28-24></a><span class=w>            </span><span class=n>tx</span><span class=p>.</span><span class=na>commit</span><span class=p>();</span>
<a id=__codelineno-28-25 name=__codelineno-28-25 href=#__codelineno-28-25></a><span class=w>            </span><span class=k>return</span><span class=w> </span><span class=kc>true</span><span class=p>;</span>
<a id=__codelineno-28-26 name=__codelineno-28-26 href=#__codelineno-28-26></a><span class=w>        </span><span class=p>}</span><span class=k>catch</span><span class=w> </span><span class=p>(</span><span class=n>Exception</span><span class=w> </span><span class=n>e</span><span class=p>){</span>
<a id=__codelineno-28-27 name=__codelineno-28-27 href=#__codelineno-28-27></a><span class=w>            </span><span class=k>return</span><span class=w> </span><span class=kc>false</span><span class=p>;</span>
<a id=__codelineno-28-28 name=__codelineno-28-28 href=#__codelineno-28-28></a><span class=w>        </span><span class=p>}</span>
<a id=__codelineno-28-29 name=__codelineno-28-29 href=#__codelineno-28-29></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-28-30 name=__codelineno-28-30 href=#__codelineno-28-30></a>
<a id=__codelineno-28-31 name=__codelineno-28-31 href=#__codelineno-28-31></a><span class=w>    </span><span class=nd>@Override</span>
<a id=__codelineno-28-32 name=__codelineno-28-32 href=#__codelineno-28-32></a><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kt>boolean</span><span class=w> </span><span class=nf>update</span><span class=p>(</span><span class=n>Course</span><span class=w> </span><span class=n>course</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-28-33 name=__codelineno-28-33 href=#__codelineno-28-33></a><span class=w>        </span><span class=k>try</span><span class=p>{</span>
<a id=__codelineno-28-34 name=__codelineno-28-34 href=#__codelineno-28-34></a><span class=w>            </span><span class=n>Transaction</span><span class=w> </span><span class=n>tx</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>manager</span><span class=p>.</span><span class=na>getCurrentSession</span><span class=p>().</span><span class=na>beginTransaction</span><span class=p>();</span>
<a id=__codelineno-28-35 name=__codelineno-28-35 href=#__codelineno-28-35></a><span class=w>            </span><span class=n>manager</span><span class=p>.</span><span class=na>getCurrentSession</span><span class=p>().</span><span class=na>merge</span><span class=p>(</span><span class=n>course</span><span class=p>);</span>
<a id=__codelineno-28-36 name=__codelineno-28-36 href=#__codelineno-28-36></a><span class=w>            </span><span class=n>tx</span><span class=p>.</span><span class=na>commit</span><span class=p>();</span>
<a id=__codelineno-28-37 name=__codelineno-28-37 href=#__codelineno-28-37></a><span class=w>            </span><span class=k>return</span><span class=w> </span><span class=kc>true</span><span class=p>;</span>
<a id=__codelineno-28-38 name=__codelineno-28-38 href=#__codelineno-28-38></a><span class=w>        </span><span class=p>}</span><span class=k>catch</span><span class=w> </span><span class=p>(</span><span class=n>Exception</span><span class=w> </span><span class=n>e</span><span class=p>){</span>
<a id=__codelineno-28-39 name=__codelineno-28-39 href=#__codelineno-28-39></a><span class=w>            </span><span class=k>return</span><span class=w> </span><span class=kc>false</span><span class=p>;</span>
<a id=__codelineno-28-40 name=__codelineno-28-40 href=#__codelineno-28-40></a><span class=w>        </span><span class=p>}</span>
<a id=__codelineno-28-41 name=__codelineno-28-41 href=#__codelineno-28-41></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-28-42 name=__codelineno-28-42 href=#__codelineno-28-42></a>
<a id=__codelineno-28-43 name=__codelineno-28-43 href=#__codelineno-28-43></a><span class=w>    </span><span class=nd>@Override</span>
<a id=__codelineno-28-44 name=__codelineno-28-44 href=#__codelineno-28-44></a><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kt>boolean</span><span class=w> </span><span class=nf>delete</span><span class=p>(</span><span class=n>Course</span><span class=w> </span><span class=n>course</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-28-45 name=__codelineno-28-45 href=#__codelineno-28-45></a><span class=w>        </span><span class=k>try</span><span class=p>{</span>
<a id=__codelineno-28-46 name=__codelineno-28-46 href=#__codelineno-28-46></a><span class=w>            </span><span class=n>Transaction</span><span class=w> </span><span class=n>tx</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>manager</span><span class=p>.</span><span class=na>getCurrentSession</span><span class=p>().</span><span class=na>beginTransaction</span><span class=p>();</span>
<a id=__codelineno-28-47 name=__codelineno-28-47 href=#__codelineno-28-47></a><span class=w>            </span><span class=n>manager</span><span class=p>.</span><span class=na>getCurrentSession</span><span class=p>().</span><span class=na>remove</span><span class=p>(</span><span class=n>course</span><span class=p>);</span>
<a id=__codelineno-28-48 name=__codelineno-28-48 href=#__codelineno-28-48></a><span class=w>            </span><span class=n>tx</span><span class=p>.</span><span class=na>commit</span><span class=p>();</span>
<a id=__codelineno-28-49 name=__codelineno-28-49 href=#__codelineno-28-49></a><span class=w>            </span><span class=k>return</span><span class=w> </span><span class=kc>true</span><span class=p>;</span>
<a id=__codelineno-28-50 name=__codelineno-28-50 href=#__codelineno-28-50></a><span class=w>        </span><span class=p>}</span><span class=k>catch</span><span class=w> </span><span class=p>(</span><span class=n>Exception</span><span class=w> </span><span class=n>e</span><span class=p>){</span>
<a id=__codelineno-28-51 name=__codelineno-28-51 href=#__codelineno-28-51></a><span class=w>            </span><span class=k>return</span><span class=w> </span><span class=kc>false</span><span class=p>;</span>
<a id=__codelineno-28-52 name=__codelineno-28-52 href=#__codelineno-28-52></a><span class=w>        </span><span class=p>}</span>
<a id=__codelineno-28-53 name=__codelineno-28-53 href=#__codelineno-28-53></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-28-54 name=__codelineno-28-54 href=#__codelineno-28-54></a><span class=p>}</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><a id=__codelineno-29-1 name=__codelineno-29-1 href=#__codelineno-29-1></a><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>JDBCStudentRepository</span><span class=w> </span><span class=kd>implements</span><span class=w> </span><span class=n>StudentRepository</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-29-2 name=__codelineno-29-2 href=#__codelineno-29-2></a>
<a id=__codelineno-29-3 name=__codelineno-29-3 href=#__codelineno-29-3></a><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kd>final</span><span class=w> </span><span class=n>HibernateUtil</span><span class=w> </span><span class=n>manager</span><span class=p>;</span>
<a id=__codelineno-29-4 name=__codelineno-29-4 href=#__codelineno-29-4></a>
<a id=__codelineno-29-5 name=__codelineno-29-5 href=#__codelineno-29-5></a><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=nf>JDBCStudentRepository</span><span class=p>(</span><span class=n>HibernateUtil</span><span class=w> </span><span class=n>manager</span><span class=p>){</span>
<a id=__codelineno-29-6 name=__codelineno-29-6 href=#__codelineno-29-6></a><span class=w>        </span><span class=k>this</span><span class=p>.</span><span class=na>manager</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>manager</span><span class=p>;</span>
<a id=__codelineno-29-7 name=__codelineno-29-7 href=#__codelineno-29-7></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-29-8 name=__codelineno-29-8 href=#__codelineno-29-8></a>
<a id=__codelineno-29-9 name=__codelineno-29-9 href=#__codelineno-29-9></a><span class=w>    </span><span class=nd>@Override</span>
<a id=__codelineno-29-10 name=__codelineno-29-10 href=#__codelineno-29-10></a><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>Student</span><span class=w> </span><span class=nf>getById</span><span class=p>(</span><span class=n>Integer</span><span class=w> </span><span class=n>id</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-29-11 name=__codelineno-29-11 href=#__codelineno-29-11></a><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>manager</span><span class=p>.</span><span class=na>getCurrentSession</span><span class=p>().</span><span class=na>get</span><span class=p>(</span><span class=n>Student</span><span class=p>.</span><span class=na>class</span><span class=p>,</span><span class=w> </span><span class=n>id</span><span class=p>);</span>
<a id=__codelineno-29-12 name=__codelineno-29-12 href=#__codelineno-29-12></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-29-13 name=__codelineno-29-13 href=#__codelineno-29-13></a>
<a id=__codelineno-29-14 name=__codelineno-29-14 href=#__codelineno-29-14></a><span class=w>    </span><span class=nd>@Override</span>
<a id=__codelineno-29-15 name=__codelineno-29-15 href=#__codelineno-29-15></a><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>List</span><span class=o>&lt;</span><span class=n>Student</span><span class=o>&gt;</span><span class=w> </span><span class=nf>getAll</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-29-16 name=__codelineno-29-16 href=#__codelineno-29-16></a><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>manager</span><span class=p>.</span><span class=na>getCurrentSession</span><span class=p>().</span><span class=na>createQuery</span><span class=p>(</span><span class=s>&quot;from Student s&quot;</span><span class=p>,</span><span class=w> </span><span class=n>Student</span><span class=p>.</span><span class=na>class</span><span class=p>).</span><span class=na>list</span><span class=p>();</span>
<a id=__codelineno-29-17 name=__codelineno-29-17 href=#__codelineno-29-17></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-29-18 name=__codelineno-29-18 href=#__codelineno-29-18></a>
<a id=__codelineno-29-19 name=__codelineno-29-19 href=#__codelineno-29-19></a><span class=w>    </span><span class=nd>@Override</span>
<a id=__codelineno-29-20 name=__codelineno-29-20 href=#__codelineno-29-20></a><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kt>boolean</span><span class=w> </span><span class=nf>save</span><span class=p>(</span><span class=n>Student</span><span class=w> </span><span class=n>student</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-29-21 name=__codelineno-29-21 href=#__codelineno-29-21></a><span class=w>        </span><span class=k>try</span><span class=p>{</span>
<a id=__codelineno-29-22 name=__codelineno-29-22 href=#__codelineno-29-22></a><span class=w>            </span><span class=n>Transaction</span><span class=w> </span><span class=n>tx</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>manager</span><span class=p>.</span><span class=na>getCurrentSession</span><span class=p>().</span><span class=na>beginTransaction</span><span class=p>();</span>
<a id=__codelineno-29-23 name=__codelineno-29-23 href=#__codelineno-29-23></a><span class=w>            </span><span class=n>manager</span><span class=p>.</span><span class=na>getCurrentSession</span><span class=p>().</span><span class=na>persist</span><span class=p>(</span><span class=n>student</span><span class=p>);</span>
<a id=__codelineno-29-24 name=__codelineno-29-24 href=#__codelineno-29-24></a><span class=w>            </span><span class=n>tx</span><span class=p>.</span><span class=na>commit</span><span class=p>();</span>
<a id=__codelineno-29-25 name=__codelineno-29-25 href=#__codelineno-29-25></a><span class=w>            </span><span class=k>return</span><span class=w> </span><span class=kc>true</span><span class=p>;</span>
<a id=__codelineno-29-26 name=__codelineno-29-26 href=#__codelineno-29-26></a><span class=w>        </span><span class=p>}</span><span class=k>catch</span><span class=w> </span><span class=p>(</span><span class=n>Exception</span><span class=w> </span><span class=n>e</span><span class=p>){</span>
<a id=__codelineno-29-27 name=__codelineno-29-27 href=#__codelineno-29-27></a><span class=w>            </span><span class=k>return</span><span class=w> </span><span class=kc>false</span><span class=p>;</span>
<a id=__codelineno-29-28 name=__codelineno-29-28 href=#__codelineno-29-28></a><span class=w>        </span><span class=p>}</span>
<a id=__codelineno-29-29 name=__codelineno-29-29 href=#__codelineno-29-29></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-29-30 name=__codelineno-29-30 href=#__codelineno-29-30></a>
<a id=__codelineno-29-31 name=__codelineno-29-31 href=#__codelineno-29-31></a><span class=w>    </span><span class=nd>@Override</span>
<a id=__codelineno-29-32 name=__codelineno-29-32 href=#__codelineno-29-32></a><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kt>boolean</span><span class=w> </span><span class=nf>update</span><span class=p>(</span><span class=n>Student</span><span class=w> </span><span class=n>student</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-29-33 name=__codelineno-29-33 href=#__codelineno-29-33></a><span class=w>        </span><span class=k>try</span><span class=p>{</span>
<a id=__codelineno-29-34 name=__codelineno-29-34 href=#__codelineno-29-34></a><span class=w>            </span><span class=n>Transaction</span><span class=w> </span><span class=n>tx</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>manager</span><span class=p>.</span><span class=na>getCurrentSession</span><span class=p>().</span><span class=na>beginTransaction</span><span class=p>();</span>
<a id=__codelineno-29-35 name=__codelineno-29-35 href=#__codelineno-29-35></a><span class=w>            </span><span class=n>manager</span><span class=p>.</span><span class=na>getCurrentSession</span><span class=p>().</span><span class=na>merge</span><span class=p>(</span><span class=n>student</span><span class=p>);</span>
<a id=__codelineno-29-36 name=__codelineno-29-36 href=#__codelineno-29-36></a><span class=w>            </span><span class=n>tx</span><span class=p>.</span><span class=na>commit</span><span class=p>();</span>
<a id=__codelineno-29-37 name=__codelineno-29-37 href=#__codelineno-29-37></a><span class=w>            </span><span class=k>return</span><span class=w> </span><span class=kc>true</span><span class=p>;</span>
<a id=__codelineno-29-38 name=__codelineno-29-38 href=#__codelineno-29-38></a><span class=w>        </span><span class=p>}</span><span class=k>catch</span><span class=w> </span><span class=p>(</span><span class=n>Exception</span><span class=w> </span><span class=n>e</span><span class=p>){</span>
<a id=__codelineno-29-39 name=__codelineno-29-39 href=#__codelineno-29-39></a><span class=w>            </span><span class=k>return</span><span class=w> </span><span class=kc>false</span><span class=p>;</span>
<a id=__codelineno-29-40 name=__codelineno-29-40 href=#__codelineno-29-40></a><span class=w>        </span><span class=p>}</span>
<a id=__codelineno-29-41 name=__codelineno-29-41 href=#__codelineno-29-41></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-29-42 name=__codelineno-29-42 href=#__codelineno-29-42></a>
<a id=__codelineno-29-43 name=__codelineno-29-43 href=#__codelineno-29-43></a><span class=w>    </span><span class=nd>@Override</span>
<a id=__codelineno-29-44 name=__codelineno-29-44 href=#__codelineno-29-44></a><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kt>boolean</span><span class=w> </span><span class=nf>delete</span><span class=p>(</span><span class=n>Student</span><span class=w> </span><span class=n>student</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-29-45 name=__codelineno-29-45 href=#__codelineno-29-45></a><span class=w>        </span><span class=k>try</span><span class=p>{</span>
<a id=__codelineno-29-46 name=__codelineno-29-46 href=#__codelineno-29-46></a><span class=w>            </span><span class=n>Transaction</span><span class=w> </span><span class=n>tx</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>manager</span><span class=p>.</span><span class=na>getCurrentSession</span><span class=p>().</span><span class=na>beginTransaction</span><span class=p>();</span>
<a id=__codelineno-29-47 name=__codelineno-29-47 href=#__codelineno-29-47></a><span class=w>            </span><span class=n>manager</span><span class=p>.</span><span class=na>getCurrentSession</span><span class=p>().</span><span class=na>remove</span><span class=p>(</span><span class=n>student</span><span class=p>);</span>
<a id=__codelineno-29-48 name=__codelineno-29-48 href=#__codelineno-29-48></a><span class=w>            </span><span class=n>tx</span><span class=p>.</span><span class=na>commit</span><span class=p>();</span>
<a id=__codelineno-29-49 name=__codelineno-29-49 href=#__codelineno-29-49></a><span class=w>            </span><span class=k>return</span><span class=w> </span><span class=kc>true</span><span class=p>;</span>
<a id=__codelineno-29-50 name=__codelineno-29-50 href=#__codelineno-29-50></a><span class=w>        </span><span class=p>}</span><span class=k>catch</span><span class=w> </span><span class=p>(</span><span class=n>Exception</span><span class=w> </span><span class=n>e</span><span class=p>){</span>
<a id=__codelineno-29-51 name=__codelineno-29-51 href=#__codelineno-29-51></a><span class=w>            </span><span class=k>return</span><span class=w> </span><span class=kc>false</span><span class=p>;</span>
<a id=__codelineno-29-52 name=__codelineno-29-52 href=#__codelineno-29-52></a><span class=w>        </span><span class=p>}</span>
<a id=__codelineno-29-53 name=__codelineno-29-53 href=#__codelineno-29-53></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-29-54 name=__codelineno-29-54 href=#__codelineno-29-54></a><span class=p>}</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><a id=__codelineno-30-1 name=__codelineno-30-1 href=#__codelineno-30-1></a><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>JDBCInscriptionRepository</span><span class=w> </span><span class=kd>implements</span><span class=w> </span><span class=n>InscriptionRepository</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-30-2 name=__codelineno-30-2 href=#__codelineno-30-2></a><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kd>final</span><span class=w> </span><span class=n>HibernateUtil</span><span class=w> </span><span class=n>manager</span><span class=p>;</span>
<a id=__codelineno-30-3 name=__codelineno-30-3 href=#__codelineno-30-3></a>
<a id=__codelineno-30-4 name=__codelineno-30-4 href=#__codelineno-30-4></a><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=nf>JDBCInscriptionRepository</span><span class=p>(</span><span class=n>HibernateUtil</span><span class=w> </span><span class=n>manager</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-30-5 name=__codelineno-30-5 href=#__codelineno-30-5></a><span class=w>        </span><span class=k>this</span><span class=p>.</span><span class=na>manager</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>manager</span><span class=p>;</span>
<a id=__codelineno-30-6 name=__codelineno-30-6 href=#__codelineno-30-6></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-30-7 name=__codelineno-30-7 href=#__codelineno-30-7></a>
<a id=__codelineno-30-8 name=__codelineno-30-8 href=#__codelineno-30-8></a><span class=w>    </span><span class=nd>@Override</span>
<a id=__codelineno-30-9 name=__codelineno-30-9 href=#__codelineno-30-9></a><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>Inscription</span><span class=w> </span><span class=nf>getById</span><span class=p>(</span><span class=n>Integer</span><span class=w> </span><span class=n>id</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-30-10 name=__codelineno-30-10 href=#__codelineno-30-10></a><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>manager</span><span class=p>.</span><span class=na>getCurrentSession</span><span class=p>().</span><span class=na>get</span><span class=p>(</span><span class=n>Inscription</span><span class=p>.</span><span class=na>class</span><span class=p>,</span><span class=w> </span><span class=n>id</span><span class=p>);</span>
<a id=__codelineno-30-11 name=__codelineno-30-11 href=#__codelineno-30-11></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-30-12 name=__codelineno-30-12 href=#__codelineno-30-12></a>
<a id=__codelineno-30-13 name=__codelineno-30-13 href=#__codelineno-30-13></a><span class=w>    </span><span class=nd>@Override</span>
<a id=__codelineno-30-14 name=__codelineno-30-14 href=#__codelineno-30-14></a><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>List</span><span class=o>&lt;</span><span class=n>Inscription</span><span class=o>&gt;</span><span class=w> </span><span class=nf>getAll</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-30-15 name=__codelineno-30-15 href=#__codelineno-30-15></a><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>manager</span><span class=p>.</span><span class=na>getCurrentSession</span><span class=p>().</span><span class=na>createQuery</span><span class=p>(</span><span class=s>&quot;from Inscription i&quot;</span><span class=p>,</span><span class=w> </span><span class=n>Inscription</span><span class=p>.</span><span class=na>class</span><span class=p>).</span><span class=na>list</span><span class=p>();</span>
<a id=__codelineno-30-16 name=__codelineno-30-16 href=#__codelineno-30-16></a>
<a id=__codelineno-30-17 name=__codelineno-30-17 href=#__codelineno-30-17></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-30-18 name=__codelineno-30-18 href=#__codelineno-30-18></a>
<a id=__codelineno-30-19 name=__codelineno-30-19 href=#__codelineno-30-19></a><span class=w>    </span><span class=nd>@Override</span>
<a id=__codelineno-30-20 name=__codelineno-30-20 href=#__codelineno-30-20></a><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kt>boolean</span><span class=w> </span><span class=nf>save</span><span class=p>(</span><span class=n>Inscription</span><span class=w> </span><span class=n>inscription</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-30-21 name=__codelineno-30-21 href=#__codelineno-30-21></a><span class=w>        </span><span class=k>try</span><span class=p>{</span>
<a id=__codelineno-30-22 name=__codelineno-30-22 href=#__codelineno-30-22></a><span class=w>            </span><span class=n>Transaction</span><span class=w> </span><span class=n>tx</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>manager</span><span class=p>.</span><span class=na>getCurrentSession</span><span class=p>().</span><span class=na>beginTransaction</span><span class=p>();</span>
<a id=__codelineno-30-23 name=__codelineno-30-23 href=#__codelineno-30-23></a><span class=w>            </span><span class=n>manager</span><span class=p>.</span><span class=na>getCurrentSession</span><span class=p>().</span><span class=na>persist</span><span class=p>(</span><span class=n>inscription</span><span class=p>);</span>
<a id=__codelineno-30-24 name=__codelineno-30-24 href=#__codelineno-30-24></a><span class=w>            </span><span class=n>tx</span><span class=p>.</span><span class=na>commit</span><span class=p>();</span>
<a id=__codelineno-30-25 name=__codelineno-30-25 href=#__codelineno-30-25></a><span class=w>            </span><span class=k>return</span><span class=w> </span><span class=kc>true</span><span class=p>;</span>
<a id=__codelineno-30-26 name=__codelineno-30-26 href=#__codelineno-30-26></a><span class=w>        </span><span class=p>}</span><span class=k>catch</span><span class=w> </span><span class=p>(</span><span class=n>Exception</span><span class=w> </span><span class=n>e</span><span class=p>){</span>
<a id=__codelineno-30-27 name=__codelineno-30-27 href=#__codelineno-30-27></a><span class=w>            </span><span class=k>return</span><span class=w> </span><span class=kc>false</span><span class=p>;</span>
<a id=__codelineno-30-28 name=__codelineno-30-28 href=#__codelineno-30-28></a><span class=w>        </span><span class=p>}</span>
<a id=__codelineno-30-29 name=__codelineno-30-29 href=#__codelineno-30-29></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-30-30 name=__codelineno-30-30 href=#__codelineno-30-30></a>
<a id=__codelineno-30-31 name=__codelineno-30-31 href=#__codelineno-30-31></a>
<a id=__codelineno-30-32 name=__codelineno-30-32 href=#__codelineno-30-32></a><span class=w>    </span><span class=nd>@Override</span>
<a id=__codelineno-30-33 name=__codelineno-30-33 href=#__codelineno-30-33></a><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kt>boolean</span><span class=w> </span><span class=nf>delete</span><span class=p>(</span><span class=n>Inscription</span><span class=w> </span><span class=n>inscription</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-30-34 name=__codelineno-30-34 href=#__codelineno-30-34></a><span class=w>        </span><span class=k>try</span><span class=p>{</span>
<a id=__codelineno-30-35 name=__codelineno-30-35 href=#__codelineno-30-35></a><span class=w>            </span><span class=n>Transaction</span><span class=w> </span><span class=n>tx</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>manager</span><span class=p>.</span><span class=na>getCurrentSession</span><span class=p>().</span><span class=na>beginTransaction</span><span class=p>();</span>
<a id=__codelineno-30-36 name=__codelineno-30-36 href=#__codelineno-30-36></a><span class=w>            </span><span class=n>manager</span><span class=p>.</span><span class=na>getCurrentSession</span><span class=p>().</span><span class=na>remove</span><span class=p>(</span><span class=n>inscription</span><span class=p>);</span>
<a id=__codelineno-30-37 name=__codelineno-30-37 href=#__codelineno-30-37></a><span class=w>            </span><span class=n>tx</span><span class=p>.</span><span class=na>commit</span><span class=p>();</span>
<a id=__codelineno-30-38 name=__codelineno-30-38 href=#__codelineno-30-38></a><span class=w>            </span><span class=k>return</span><span class=w> </span><span class=kc>true</span><span class=p>;</span>
<a id=__codelineno-30-39 name=__codelineno-30-39 href=#__codelineno-30-39></a><span class=w>        </span><span class=p>}</span><span class=k>catch</span><span class=w> </span><span class=p>(</span><span class=n>Exception</span><span class=w> </span><span class=n>e</span><span class=p>){</span>
<a id=__codelineno-30-40 name=__codelineno-30-40 href=#__codelineno-30-40></a><span class=w>            </span><span class=k>return</span><span class=w> </span><span class=kc>false</span><span class=p>;</span>
<a id=__codelineno-30-41 name=__codelineno-30-41 href=#__codelineno-30-41></a><span class=w>        </span><span class=p>}</span>
<a id=__codelineno-30-42 name=__codelineno-30-42 href=#__codelineno-30-42></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-30-43 name=__codelineno-30-43 href=#__codelineno-30-43></a><span class=p>}</span>
</code></pre></div> </div> </div> </div> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> Back to top </button> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../page-7/ class="md-footer__link md-footer__link--prev" aria-label="Previous: 7 Proyecto Students con JPA"> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </div> <div class=md-footer__title> <span class=md-footer__direction> Previous </span> <div class=md-ellipsis> 7 Proyecto Students con JPA </div> </div> </a> <a href=../page-9/ class="md-footer__link md-footer__link--next" aria-label="Next: Ejercicios"> <div class=md-footer__title> <span class=md-footer__direction> Next </span> <div class=md-ellipsis> Ejercicios </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2022 - 2023 irubenboy </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://github.com/squidfunk target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </a> <a href=https://gitter.im/squidfunk/mkdocs-material target=_blank rel=noopener title=gitter.im class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 384 512"><!-- Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M66.4 322.5H16V0h50.4zM166.9 76.1h-50.4V512h50.4zm100.6 0h-50.4V512h50.4zM368 76h-50.4v247H368z"/></svg> </a> <a href=https://hub.docker.com/r/squidfunk/mkdocs-material/ target=_blank rel=noopener title=hub.docker.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 640 512"><!-- Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M349.9 236.3h-66.1v-59.4h66.1zm0-204.3h-66.1v60.7h66.1zm78.2 144.8H362v59.4h66.1zm-156.3-72.1h-66.1v60.1h66.1zm78.1 0h-66.1v60.1h66.1zm276.8 100c-14.4-9.7-47.6-13.2-73.1-8.4-3.3-24-16.7-44.9-41.1-63.7l-14-9.3-9.3 14c-18.4 27.8-23.4 73.6-3.7 103.8-8.7 4.7-25.8 11.1-48.4 10.7H2.4c-8.7 50.8 5.8 116.8 44 162.1 37.1 43.9 92.7 66.2 165.4 66.2 157.4 0 273.9-72.5 328.4-204.2 21.4.4 67.6.1 91.3-45.2 1.5-2.5 6.6-13.2 8.5-17.1zm-511.1-27.9h-66v59.4h66.1v-59.4zm78.1 0h-66.1v59.4h66.1zm78.1 0h-66.1v59.4h66.1zm-78.1-72.1h-66.1v60.1h66.1z"/></svg> </a> <a href=https://pypi.org/project/mkdocs-material/ target=_blank rel=noopener title=pypi.org class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.8 200.5c-7.7-30.9-22.3-54.2-53.4-54.2h-40.1v47.4c0 36.8-31.2 67.8-66.8 67.8H172.7c-29.2 0-53.4 25-53.4 54.3v101.8c0 29 25.2 46 53.4 54.3 33.8 9.9 66.3 11.7 106.8 0 26.9-7.8 53.4-23.5 53.4-54.3v-40.7H226.2v-13.6h160.2c31.1 0 42.6-21.7 53.4-54.2 11.2-33.5 10.7-65.7 0-108.6M286.2 404c11.1 0 20.1 9.1 20.1 20.3 0 11.3-9 20.4-20.1 20.4-11 0-20.1-9.2-20.1-20.4.1-11.3 9.1-20.3 20.1-20.3M167.8 248.1h106.8c29.7 0 53.4-24.5 53.4-54.3V91.9c0-29-24.4-50.7-53.4-55.6-35.8-5.9-74.7-5.6-106.8.1-45.2 8-53.4 24.7-53.4 55.6v40.7h106.9v13.6h-147c-31.1 0-58.3 18.7-66.8 54.2-9.8 40.7-10.2 66.1 0 108.6 7.6 31.6 25.7 54.2 56.8 54.2H101v-48.8c0-35.3 30.5-66.4 66.8-66.4m-6.7-142.6c-11.1 0-20.1-9.1-20.1-20.3.1-11.3 9-20.4 20.1-20.4 11 0 20.1 9.2 20.1 20.4s-9 20.3-20.1 20.3"/></svg> </a> <a href=https://twitter.com/squidfunk target=_blank rel=noopener title=twitter.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../../..", "features": ["content.code.annotate", "content.code.copy", "content.tooltips", "navigation.footer", "navigation.tabs", "navigation.top", "navigation.tracking", "search.highlight", "search.share", "search.suggest", "toc.follow", "toc.integrate"], "search": "../../../assets/javascripts/workers/search.07f07601.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script> <script src=../../../assets/javascripts/bundle.56dfad97.min.js></script> </body> </html>