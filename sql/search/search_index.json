{"config":{"lang":["en"],"separator":"[\\s\\-,:!=\\[\\]()\"`/]+|\\.(?!\\d)|&[lg]t;|(?!\\b)(?=[A-Z][a-z])","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Bienvenidxs","text":""},{"location":"tema_1/page-1/","title":"1 Introducci\u00f3n a las bases de datos","text":""},{"location":"tema_1/page-1/#introduccion","title":"Introducci\u00f3n","text":"<p>En el entorno del mercado actual, la competitividad y la rapidez de maniobra de una empresa son imprescindibles para su \u00e9xito. Para conseguirlo existe cada vez una mayor demanda de datos y, por tanto, m\u00e1s necesidad de gestionarlos. Esta demanda siempre ha estado patente en empresas y sociedades, pero en estos a\u00f1os se ha disparado debido al acceso multitudinario a las redes integradas en Internet y a la aparici\u00f3n de los dispositivos m\u00f3viles que tambi\u00e9n requieren esa informaci\u00f3n.</p> <p>En inform\u00e1tica se conoce como dato a cualquier elemento informativo que tenga relevancia para un usuario. Desde su nacimiento, la inform\u00e1tica se ha encargado de proporcionar herramientas que faciliten la manipulaci\u00f3n de los datos. Antes de la aparici\u00f3n de las aplicaciones inform\u00e1ticas, las empresas ten\u00edan como \u00fanicas herramientas de gesti\u00f3n de datos los ficheros con cajones, carpetas y fichas de cart\u00f3n. En este proceso manual, el tiempo requerido para manipular estos datos era enorme. Pero la propia inform\u00e1tica ha adaptado sus herramientas para que los elementos que el usuario utiliza en cuanto a manejo de datos se parezcan a los manuales. Por eso se sigue hablado de ficheros, formularios, carpetas, directorios,\u2026.</p> <p>La clientela fundamental del profesional inform\u00e1tico es la empresa. La empresa se puede entender como un sistema de informaci\u00f3n formado por diversos objetos: el capital, los recursos humanos, los inmuebles, los servicios que presta, etc.</p> <p>Los sistemas de informaci\u00f3n actuales se basan en bases de datos (BD) y sistemas de bases de datos (SGBD) que se han convertido en elementos imprescindibles de la vida cotidiana de la sociedad moderna.</p>"},{"location":"tema_1/page-1/#definicion-de-base-de-datos","title":"Definici\u00f3n de base de datos","text":"<p>Cada d\u00eda, la mayor\u00eda de nosotros nos encontramos con actividades que requieren alg\u00fan tipo de interacci\u00f3n con una base de datos (ingreso en un banco, reserva de una entrada para el teatro, solicitud de una suscripci\u00f3n a una revista, compra de productos, \u2026). Estas interacciones son ejemplos de lo que se llama aplicaciones tradicionales de bases de datos (b\u00e1sicamente informaci\u00f3n num\u00e9rica o de texto), aunque los avances tecnol\u00f3gicos han permitido que tambi\u00e9n existan: bases de datos multimedia, sistemas de informaci\u00f3n geogr\u00e1fica (GIS), almacenes de datos, sistemas de proceso anal\u00edtico on-line, \u2026</p> <ul> <li>Una base de datos se entender\u00e1 como una colecci\u00f3n de datos relacionados entre s\u00ed y que tiene un significado impl\u00edcito.</li> <li>Por datos se refiere a decir hechos que pueden registrarse y que tienen un significado.</li> </ul> <p>Ejemplo</p> <p>Una agenda con los nombres y tel\u00e9fonos de un conjunto de personas conocidas es una base de datos, puesto que es una colecci\u00f3n de datos relacionados con un significado impl\u00edcito.</p> <p>La definici\u00f3n presentada anteriormente hace referencia a dos elementos para que un conjunto de datos constituya una Base de Datos:</p> <ol> <li>Relaciones entre datos, tema que se tratar\u00e1 en las secciones siguientes.</li> <li>Significado impl\u00edcito de los datos que se atribuye dependiendo del contexto en que se utilizan los mismos. Por ejemplo, el dato fecha en una base de datos de VENTAS puede referirse a la fecha de emisi\u00f3n de las facturas, mientras que si la base de datos es de M\u00daSICA quiz\u00e1s corresponda a la fecha en que se grab\u00f3 un tema musical. Es decir, el significado de un dato, depende de la BD que lo contenga.</li> </ol> <p>Para manipular y gestionar las bases de datos surgieron herramientas software denominadas: sistemas gestores de bases de datos (SGBD en lo sucesivo) sobre los que se profundizar\u00e1 en las siguientes secciones.</p>"},{"location":"tema_1/page-2/","title":"2 Evoluci\u00f3n hist\u00f3rica y tipos de BD","text":""},{"location":"tema_1/page-2/#introduccion","title":"Introducci\u00f3n","text":"<p>Los predecesores de los sistemas gestores de bases de datos fueron los sistemas gestores de ficheros o sistemas de archivos tradicionales.</p> <ol> <li>Archivos tradicionales. Consiste en almacenar los datos en archivos individuales, exclusivos para cada aplicaci\u00f3n particular. En este sistema los datos pueden ser redundantes (repetidos innecesariamente) y la actualizaci\u00f3n de los archivos es m\u00e1s lenta que en una base de datos.</li> <li>Base de datos. Es un almacenamiento de datos formalmente definido, controlado centralmente para intentar servir a m\u00faltiples y diferentes aplicaciones. La base de datos es una fuente de datos que son compartidos por numerosos usuarios para diversas aplicaciones.</li> </ol> <p>As\u00ed, en un Sistema de archivos tradicional la informaci\u00f3n est\u00e1 dispersa en varios ficheros de datos y existe un cierto n\u00famero de programas que los recuperan y agrupan. Aunque los sistemas de ficheros o archivos supusieron un gran avance sobre los sistemas manuales, tienen inconvenientes bastante importantes que se solventaron, en gran medida, con la aparici\u00f3n de los sistemas de bases de datos.</p>"},{"location":"tema_1/page-2/#evolucion-y-tipos-de-base-de-datos","title":"Evoluci\u00f3n y tipos de base de datos","text":"<p>Coincidiendo con la evoluci\u00f3n hist\u00f3rica de las bases de datos, \u00e9stas han utilizados distintos modelos:</p> <ul> <li>Jer\u00e1rquicos</li> <li>En red</li> <li>Relacionales</li> <li>Multidimensionales</li> <li>De objetos</li> </ul>"},{"location":"tema_1/page-2/#base-de-datos-con-estructura-jerarquica","title":"Base de datos con estructura jer\u00e1rquica","text":"<p>La estructura jer\u00e1rquica fue usada en las primeras BD. Las relaciones entre registros forman una estructura en \u00e1rbol. Actualmente las bases de datos jer\u00e1rquicas m\u00e1s utilizadas son IMS de IBM y el Registro de Windows de Microsoft.</p> <p> Figura 1 - BD jer\u00e1rquicas</p>"},{"location":"tema_1/page-2/#base-de-datos-con-estructura-en-red","title":"Base de datos con estructura en red","text":"<p>Esta estructura contiene relaciones m\u00e1s complejas que las jer\u00e1rquicas. Admite relaciones de cada registro con varios que se pueden seguir por distintos caminos.</p> <p> [Figura 2 - BD con estructura en red</p> <p>El inventor de este modelo fue Charles Bachman, y el est\u00e1ndar fue publicado en 1969 por CODASYL.</p>"},{"location":"tema_1/page-2/#base-de-datos-con-estructura-relacional","title":"Base de datos con estructura relacional","text":"<p>La estructura relacional es la m\u00e1s extendida hoy en d\u00eda. Almacena los datos en filas o registros (tuplas) y columnas o campos (atributos). Estas tablas pueden estar conectadas entre s\u00ed por claves comunes.</p> <p> Figura 3 - BD relacionales</p>"},{"location":"tema_1/page-2/#base-de-datos-con-estructura-multidimensional","title":"Base de datos con estructura multidimensional","text":"<p>La estructura multidimensional tiene parecidos a la del modelo relacional, pero en vez de las dos dimensiones filas-columnas, tiene N dimensiones. Esta estructura ofrece el aspecto de una hoja de c\u00e1lculo.</p> <p> Figura 4 - BD Multidimensionales</p>"},{"location":"tema_1/page-2/#base-de-datos-con-estructura-orientada-a-objetos","title":"Base de datos con estructura orientada a objetos","text":"<p>La estructura orientada a objetos est\u00e1 dise\u00f1ada siguiendo el paradigma de los lenguajes orientados a objetos. De este modo soporta los tipos de datos gr\u00e1ficos, im\u00e1genes, voz y texto de manera natural. Esta estructura tiene gran difusi\u00f3n en aplicaciones web para aplicaciones multimedia.</p> <p> Figura 5 - BD orientada a objetos</p>"},{"location":"tema_1/page-2/#sistemas-de-ficheros-tradicionales","title":"Sistemas de ficheros tradicionales","text":"<p>En estos sistemas, cada programa almacenaba y utilizaba sus propios datos de forma un tanto ca\u00f3tica. La \u00fanica ventaja que conlleva esto es que los procesos son independientes, por lo que la modificaci\u00f3n de uno no afecta al resto.</p> <p>Pero tiene grandes inconvenientes:</p> <ul> <li>Datos redundantes. Ya que se repiten continuamente.</li> <li>Coste de almacenamiento elevado. Al almacenarse varias veces el mismo dato en distintas aplicaciones, se requiere m\u00e1s espacio en los discos.</li> <li>Tiempos de procesamiento elevados. Al no poder optimizar el espacio de almacenamiento.</li> <li>Probabilidad alta de inconsistencia en los datos. Ya que un proceso cambia sus datos y no el resto. Por lo que el mismo dato puede tener valores distintos seg\u00fan qu\u00e9 aplicaci\u00f3n acceda a \u00e9l.</li> <li>Dif\u00edcil modificaci\u00f3n en los datos. Debido a la probabilidad de inconsistencia, cada modificaci\u00f3n se debe repetir en todas las copias del dato (algo que normalmente es imposible).</li> </ul> <p>En la siguiente figura se muestra un sistema de informaci\u00f3n basado en ficheros. En ella se ve que la informaci\u00f3n aparece inconexa y redundante.</p> <p> Figura 6 - Sistemas ficheros</p>"},{"location":"tema_1/page-2/#sistemas-de-base-de-datos-relacional","title":"Sistemas de base de datos relacional","text":"<p>En este tipo de sistemas los datos se centralizan en una base de datos com\u00fan a todas las aplicaciones. Estos ser\u00e1n los sistemas que estudiaremos en este curso.</p> <p>Sus ventajas son las siguientes:</p> <ul> <li>Menor redundancia. No hace falta tanta repetici\u00f3n de datos. Aunque, s\u00f3lo los buenos dise\u00f1os de datos tienen poca redundancia.</li> <li>Menor espacio de almacenamiento. Gracias a una mejor estructuraci\u00f3n de los datos.</li> <li>Acceso a los datos m\u00e1s eficiente. La organizaci\u00f3n de los datos produce un resultado m\u00e1s \u00f3ptimo en rendimiento.</li> <li>Datos m\u00e1s documentados. Gracias a los metadatos que permiten describir la informaci\u00f3n de la base de datos.</li> <li>Independencia de los datos y los programas y procesos. Esto permite modificar los datos sin modificar el c\u00f3digo de las aplicaciones.</li> <li>Integridad de los datos. Mayor dificultad de perder los datos o de realizar incoherencias con ellos.</li> <li>Mayor seguridad en los datos. Al limitar el acceso a ciertos usuarios.</li> </ul> <p>Como contrapartida encontramos los siguientes inconvenientes:</p> <ul> <li>Instalaci\u00f3n costosa. El control y administraci\u00f3n de bases de datos requiere de un software y hardware potente.</li> <li>Requiere personal cualificado. Debido a la dificultad de manejo de este tipo de sistemas.</li> <li>Implantaci\u00f3n larga y dif\u00edcil. Debido a los puntos anteriores. La adaptaci\u00f3n del personal es mucho m\u00e1s complicada y lleva bastante tiempo.</li> </ul> <p>En la siguiente figura se muestra un sistema de informaci\u00f3n basado en bases de datos. La informaci\u00f3n est\u00e1 relacionada y no es redundante.</p> <p> Figura 7 - Sistema relacional</p>"},{"location":"tema_1/page-2/#ejemplo-de-archivos-tradicionales","title":"Ejemplo de archivos tradicionales","text":"<p>Se cuenta con dos archivos: CLIENTES y FACTURAS.</p> <p>El primer archivo tiene los datos b\u00e1sicos de los clientes, mientras que en el segundo se almacenan las ventas realizadas. Al emitir cada factura se ingresan nuevamente los datos num, nombre, domicilio.</p> CLIENTESFACTURAS Num Nombre Tel\u00e9fono email 1225 Juan Garc\u00eda 985674863 jgarcia@adinet.com 1226 Fernando Mart\u00ednez 984568643 fmar@gmail.com ... ... ... ... Num Nombre Producto Precio 1225 Joaqu\u00edn Garc\u00eda Azulejos 1250 1226 Fernando Mart\u00ednez Pintura 900 ... ... ... ..."},{"location":"tema_1/page-3/","title":"3 Conceptos b\u00e1sicos de una base de datos","text":"<p>Resulta fundamental para un T\u00e9cnico Superior en Inform\u00e1tica que conozca los siguientes conceptos b\u00e1sicos:</p>"},{"location":"tema_1/page-3/#datos","title":"Datos","text":"<p>Datos</p> <p>Datos son hechos conocidos que pueden registrarse y que tienen un significado impl\u00edcito. <p>\u2013 Ramez Elmasri y Shamkant B. Navathe</p></p> <p>Ejemplo</p> <p>Pueden constituir datos los nombres, n\u00fameros telef\u00f3nicos y direcciones de personas que conocemos.</p>"},{"location":"tema_1/page-3/#entidades","title":"Entidades","text":"<p>Una entidad es todo aquello de lo cual interesa guardar datos, por ejemplo:</p> <p> Figura 8 - Entidad</p>"},{"location":"tema_1/page-3/#claves-primarias-y-claves-foraneas","title":"Claves primarias y claves for\u00e1neas","text":"<p>Cada entidad tiene una clave primaria o campo clave o llave que identifica un\u00edvocamente al conjunto de datos. Cuando en una entidad figura la clave primaria de otra entidad, \u00e9sta se denomina clave for\u00e1nea o clave ajena. Las entidades se relacionan entre s\u00ed a trav\u00e9s de las claves for\u00e1neas.</p> <p> Figura 9 - Claves Primarias y For\u00e1neas</p> Claves PrimariasClaves For\u00e1neas <ul> <li>C\u00f3digo Cliente es la clave primaria de CLIENTES. A cada cliente se le asocia un c\u00f3digo y a cada c\u00f3digo le corresponde un cliente.</li> <li>N\u00famero Factura es clave primaria de FACTURAS.</li> <li>C\u00f3digo Producto es clave primaria de PRODUCTOS.</li> </ul> <ul> <li>En FACTURAS, son claves for\u00e1neas C\u00f3digo Cliente y C\u00f3digo Producto. CLIENTES se relaciona con FACTURAS a trav\u00e9s del C\u00f3digo Cliente que figura en ambas tablas y con PRODUCTOS mediante el C\u00f3digo Producto.</li> </ul>"},{"location":"tema_1/page-3/#restricciones-de-integridad-referencial","title":"Restricciones de integridad referencial","text":"<ul> <li>C\u00f3digo Cliente en Facturas debe cumplir que exista en Clientes y que sea clave primaria</li> <li>C\u00f3digo Producto en Facturas debe cumplir que exista en Productos y que sea clave primaria</li> </ul> <p>Retomando la Definici\u00f3n de Base de Datos, la cual se\u00f1ala que \u00e9sta \u201c\u2026es un conjunto de datos relacionados entre s\u00ed y que tienen un significado impl\u00edcito\u201d, se observa en la imagen que los datos de las tablas se relacionan a trav\u00e9s de las claves y que \u00e9stos tienen el significado impl\u00edcito que se les atribuye en dicho contexto. As\u00ed, por ejemplo, el significado del dato Nombre se refiere al del CLIENTE, el de Fecha emisi\u00f3n a la de la FACTURAS y el de Descripci\u00f3n a la del PRODUCTO.</p>"},{"location":"tema_1/page-3/#metadatos","title":"Metadatos","text":"<p>Metadatos son datos acerca de los datos presentes en la base de datos.</p> <p>Por ejemplo:</p> <ul> <li>qu\u00e9 tipo de datos se van a almacenar (si son texto o n\u00fameros o fechas \u2026)</li> <li>qu\u00e9 nombre se le da a cada dato (nombre, apellidos, fecha, precio, edad,\u2026)</li> <li>c\u00f3mo est\u00e1n agrupados los datos</li> <li>c\u00f3mo se relacionan,\u2026.</li> </ul> <p>Ejemplo de Metadatos:</p> <p> Figura 10 - Metadatos</p>"},{"location":"tema_1/page-3/#otros-conceptos-basicos","title":"Otros conceptos b\u00e1sicos","text":"<p>Adem\u00e1s de los conceptos b\u00e1sicos anteriores, a modo de aclarar algunos de los componentes que se pueden encontrar en una base de datos, y que se ver\u00e1n en las pr\u00f3ximas unidades, se definen los siguientes conceptos:</p> <ul> <li>Tabla: Es un conjunto de filas y columnas bajo un mismo nombre que representa el conjunto de valores almacenados para una serie de datos. Por ejemplo,la informaci\u00f3n de todos los clientes de una BD se almacenar\u00e1n en una tabla llamada CLIENTES.</li> <li>Campo: Cada una de las columnas de una tabla. Identifica una familia de datos. Por ejemplo, el campo fechaNacimiento representa las fechas de nacimiento de todos los clientes que contiene una tabla CLIENTES.</li> <li>Registro: Corresponde a cada una de las filas de la tabla. Tambi\u00e9n se llaman tuplas. Por ejemplo en la siguiente tabla CLIENTES, observamos dos registros, que corresponden a la informaci\u00f3n sobre los clientes Juan Garc\u00eda y Fernando Mart\u00ednez:</li> </ul> <p> Figura 11 - Tablas</p> <ul> <li>Tipo de Dato: El tipo de dato indica la naturaleza del campo. As\u00ed, se puede tener datos num\u00e9ricos, que son aquellos con los que se pueden realizar c\u00e1lculos aritm\u00e9ticos (sumas, restas, multiplicaciones\u2026), los datos alfanum\u00e9ricos, que son los que contienen caracteres alfab\u00e9ticos y n\u00fameros\u2026</li> <li>Consulta: Es una instrucci\u00f3n para hacer peticiones a una BD.</li> <li>\u00cdndice: Es una estructura que almacena los campos clave de una tabla, organiz\u00e1ndolos para hacer m\u00e1s f\u00e1cil encontrar y ordenar los registros.</li> <li>Vista: Se obtienen al guardar una consulta de una o varias tablas. De esta forma se obtiene una tabla virtual, es decir, no est\u00e1 almacenada en los dispositivos de almacenamiento del ordenador, aunque s\u00ed se almacena su definici\u00f3n.</li> <li>Informe: Es un listado ordenado de los campos y registros seleccionados en un formato f\u00e1cil de leer. Por ejemplo, un informe de las facturas impagadas del mes de enero ordenadas por nombre de cliente.</li> <li>Guiones o scripts: Son un conjunto de instrucciones, que ejecutadas de forma ordenada, realizan operaciones avanzadas o mantenimiento de los datos almacenados en la BD. Procedimientos: Son un tipo especial de script que est\u00e1n almacenados en la BD y forman parte de su esquema.</li> </ul>"},{"location":"tema_1/page-3/#sistema-de-gestion-de-base-de-datos","title":"Sistema de gesti\u00f3n de base de datos","text":"<p>Un sistema gestor de bases de datos (SGBD) es una aplicaci\u00f3n que permite a los usuarios definir, crear y mantener una base de datos, y proporciona acceso controlado a la misma.</p> <p>En general, un SGBD proporciona los siguientes servicios:</p> <ul> <li>Permite la definici\u00f3n de la base de datos mediante el lenguaje de definici\u00f3n de datos (DDL \u2013 Data Description Language). Este lenguaje permite especificar la estructura y el tipo de los datos, as\u00ed como las restricciones sobre los datos. Todo esto se almacenar\u00e1 en la base de datos.</li> <li>Permite la inserci\u00f3n, actualizaci\u00f3n, eliminaci\u00f3n y consulta de datos mediante el lenguaje de manejo o manipulaci\u00f3n de datos (DML - Data Manipulation Language).</li> <li>Proporciona un acceso controlado a la base de datos mediante:</li> <li>Un sistema de seguridad, de modo que los usuarios no autorizados no puedan acceder a la base de datos, mediante el lenguaje de control de datos (DCL - Data Control Language);</li> <li>Un sistema de integridad que mantiene la integridad y la consistencia de los datos;</li> <li>Un sistema de control de concurrencia que permite el acceso compartido a la base de datos;</li> <li>Un sistema de control de recuperaci\u00f3n que restablece la base de datos despu\u00e9s de que se produzca un fallo del hardware o del software;</li> <li>Un diccionario de datos o cat\u00e1logo accesible por el usuario que contiene la descripci\u00f3n de los datos de la base de datos.</li> </ul> <p>La principal herramienta de un SGBD es la interfaz de programaci\u00f3n con el usuario. Esta interfaz consiste en un lenguaje muy sencillo mediante el cual el usuario interact\u00faa con el servidor. Este lenguaje com\u00fanmente se denomina SQL, Structure Query Language, est\u00e1 estandarizado por la ISO 1, es decir, todas las BD que soporten SQL deben tener la misma sintaxis a la hora de aplicar el lenguaje.</p>"},{"location":"tema_1/page-3/#tipos-de-sgbd","title":"Tipos de SGBD","text":"<p>Los SGBD se pueden clasificar seg\u00fan las BD que gestionan (jer\u00e1rquicas, relacionales, orientadas a objetos,\u2026), pero como actualmente la mayor\u00eda de los SGBD integran m\u00faltiples filosof\u00edas, los clasificaremos seg\u00fan su capacidad y potencia del propio gestor, resultado los siguientes SGBD:</p> <ul> <li>SGBD ofim\u00e1ticos: manipulas BD peque\u00f1as orientadas a almacenar datos dom\u00e9sticos o de peque\u00f1as empresas. Ejemplos t\u00edpicos son Microsoft ACCESS y LibreOffice Base.</li> <li>SGBD corporativos: tienen la capacidad de gestionar BD enormes, de medianas o grandes empresas con una carga de datos y transacciones que requieren de un servidor de gran capacidad. Un ejemplo t\u00edpico de BD corporativas es ORACLE, actualmente junto de DB2 el servidor de BD m\u00e1s potente del mercado (tambi\u00e9n el m\u00e1s caro).</li> </ul> <p>Ejercicio</p> <p>Dada la siguiente facturas, intenta identificar las entidades que la conforman:</p> <p> Figura 12 - Factura </p>"},{"location":"tema_2/page-1/","title":"1 Dise\u00f1ar de base de datos","text":""},{"location":"tema_2/page-1/#introduccion","title":"Introducci\u00f3n","text":"<p>El dise\u00f1o de una base de datos consiste en extraer todos los datos relevantes de un problema, por ejemplo, saber que datos est\u00e1n implicados en el proceso de facturaci\u00f3n de una empresa que vende art\u00edculos de inform\u00e1tica, o, que datos son necesarios para llevar el control de pruebas diagn\u00f3sticas en un centro de radiol\u00f3gico. Para extraer estos datos, se debe realizar un an\u00e1lisis en profundidad del problema, para averiguar qu\u00e9 datos son esenciales para la base de datos y descartar los que no sean necesarios. Una vez extra\u00eddos los datos esenciales comenzamos a construir los modelos adecuados. Es decir, construimos, mediante una herramienta de dise\u00f1o de base de datos, un esquema que exprese con total exactitud todos los datos que el problema requiere almacenar. Ya dijimos en el tema anterior, que es algo equivalente al dibujo de un plano previo a la construcci\u00f3n de un edificio. Tambi\u00e9n introdujimos en el tema 1, las distintas fases por las que atraviesa el proceso de dise\u00f1o de una Base de Datos. Adem\u00e1s, previo al dise\u00f1o es necesario realizar una primera fase denominada de an\u00e1lisis.</p>"},{"location":"tema_2/page-1/#fase-de-analisis","title":"Fase de An\u00e1lisis","text":"<p>Antes de pasar a dise\u00f1ar una BD hay que tener claro que es lo que queremos hacer. Para ello, t\u00edpicamente los inform\u00e1ticos se re\u00fanen con los futuros usuarios del sistema para recopilar la informaci\u00f3n que necesitan para saber que desean dichos usuarios. Normalmente se hace una reuni\u00f3n inicial a y partir de ella se elabora una bater\u00eda de preguntas para entrevistar a los usuarios finales en una segunda reuni\u00f3n y obtener de ella una informaci\u00f3n detallada de lo que se espera de nuestra BD. De estas entrevistas, se extrae el documento m\u00e1s importante del an\u00e1lisis, el documento de Especificaci\u00f3n de Requisitos Software o E.R.S. A partir de dicha E.R.S. Se extrae toda la informaci\u00f3n necesaria para la modelizaci\u00f3n de datos.</p>"},{"location":"tema_2/page-1/#fase-1-del-diseno-diseno-conceptual-modelo-entidadrelacion-er","title":"Fase 1 del dise\u00f1o. Dise\u00f1o conceptual: Modelo Entidad/Relaci\u00f3n (E/R)","text":"<p>Habitualmente quien realiza la modelizaci\u00f3n es un analista inform\u00e1tico que no tiene porqu\u00e9 ser un experto en el problema que pretende resolver (Contabilidad, Gesti\u00f3n de Reservas hoteleras, medicina, econom\u00eda, etc.). Es por esto que es imprescindible contar con la experiencia de un futuro usuario de la BD que conozca a fondo todos los entresijos del negocio, y que, a su vez, no tienen porqu\u00e9 tener ning\u00fan conocimiento de inform\u00e1tica. El objetivo de esta fase del dise\u00f1o consiste es representar la informaci\u00f3n obtenida del usuario final y concretada en el E.R.S. mediante est\u00e1ndares para que el resto de la comunidad inform\u00e1tica pueda entender y comprender el modelo realizado. El modelo que se utiliza en esta primera fase del dise\u00f1o tiene un gran poder expresivo para poder comunicarse con el usuario que no es experto en inform\u00e1tica y se denomina Modelo Conceptual. El modelo conceptual que utilizaremos es el Modelo Entidad/Relaci\u00f3n e iremos profundizando en \u00e9l a lo largo de esta unidad.</p>"},{"location":"tema_2/page-1/#fase-2-del-diseno-diseno-logico-modelo-relacional","title":"Fase 2 del dise\u00f1o. Dise\u00f1o L\u00f3gico: Modelo Relacional","text":"<p>Este modelo es m\u00e1s t\u00e9cnico que el anterior porque est\u00e1 orientado al personal inform\u00e1tico y generalmente tiene traducci\u00f3n directa al al modelo f\u00edsico que entiende el SGBD. Se obtienen a partir del modelo conceptual y depender\u00e1 de la implementaci\u00f3n de la BD. As\u00ed, no es lo mismo implementar una base de datos jer\u00e1rquica u orientada a objetos que una BD relacional. El modelo que se usar\u00e1 en este m\u00f3dulo es el Modelo Relacional.</p>"},{"location":"tema_2/page-1/#fase-3-del-diseno-diseno-fisico-modelo-fisico","title":"Fase 3 del dise\u00f1o. Dise\u00f1o f\u00edsico: Modelo F\u00edsico","text":"<p>Es el resultado de aplicar el modelo l\u00f3gico a un SGBD concreto. Generalmente est\u00e1 expresado en un lenguaje de programaci\u00f3n de BBDD tipo SQL. En este m\u00f3dulo, transformaremos el Modelo Relacional en el modelo f\u00edsico mediante el sublenguaje DDL de SQL. Esto se estudiar\u00e1 en el pr\u00f3ximo tema.</p> <p> Figura 1 - Dise\u00f1o f\u00edsico</p>"},{"location":"tema_2/page-2/","title":"2 Modelo E/R: Introducci\u00f3n","text":""},{"location":"tema_2/page-2/#introduccion","title":"Introducci\u00f3n","text":"<p>El modelo Entidad-Relaci\u00f3n es el modelo m\u00e1s utilizado para el dise\u00f1o conceptual de bases de datos. Fue introducido por Peter Chen en 1976 y se basa en la existencia de objetos a los que se les da el nombre de entidades, y asociaciones entre ellos, llamadas relaciones. Sus s\u00edmbolos principales se representan en el cuadro siguiente.</p> <p> Figura 2 - Elementos del E/R</p>"},{"location":"tema_2/page-2/#entidades","title":"Entidades","text":"<p>Una entidad es cualquier objeto o elemento acerca del cual se pueda almacenar informaci\u00f3n en la BD. Las entidades pueden ser concretas como una persona o abstractas como una fecha. Las entidades se representan gr\u00e1ficamente mediante rect\u00e1ngulos y su nombre aparece en el interior. Un nombre de entidad s\u00f3lo puede aparecer una vez en el esquema conceptual.</p> <p>Tipo de entidades Hay dos tipos de entidades: fuertes y d\u00e9biles. Una entidad d\u00e9bil es una entidad cuya existencia depende de la existencia de otra entidad. Una entidad fuerte es una entidad que no es d\u00e9bil.</p> <p> Figura 3 - Entidades</p>"},{"location":"tema_2/page-2/#atributos","title":"Atributos","text":"<p>Una entidad se caracteriza y distingue de otra por los atributos, en ocasiones llamadas propiedades o campos, que representan las caracter\u00edsticas de una entidad. Los atributos de una entidad pueden tomar un conjunto de valores permitidos al que se le conoce como dominio del atributo. Dando valores a estos atributos, se obtienen las diferentes ocurrencias de una entidad.</p> <p>En esencia, existen dos tipos de atributos:</p> <ul> <li>Identificadores de entidad (tambi\u00e9n llamados clave primaria o clave principal): son atributos que identifican de manera un\u00edvoca cada ocurrencia de una entidad.</li> <li>Descriptores de entidad: son atributos que muestran unas caracter\u00edsticas de la entidad.</li> </ul> <p>Siempre debe existir, al menos, un atributo identificativo.</p> <p>Ejemplos de atributos:</p> <p> Figura 4 - Atributos</p>"},{"location":"tema_2/page-2/#tipos-de-atributos","title":"Tipos de atributos","text":"<p> Figura 5 - Tipos de atributos</p> <ul> <li>Atributos identificadores o identificativos: Son atributos cuyos valores no se repiten dentro de una misma entidad o relaci\u00f3n. Sirven para identificar de forma un\u00edvoca cada ocurrencia. Act\u00faan como clave principal o primaria. Por ejemplo CCC (C\u00f3digo Cuenta Corriente) que identifica cada cuenta bancaria. O ISBN (International Standard Book Number) que identifica cada libro que se publica. Un atributo identificativo puede ser un atributo compuesto. Por ejemplo CCC podr\u00eda descomponerse en 3 atributos: num_banco, num_sucursal y num_cuenta.</li> <li>Atributos discriminadores o discriminantes: Son atributos que discriminan distintas ocurrencias de una entidad d\u00e9bil en identificaci\u00f3n dentro de la entidad fuerte de la que dependen. Lo representaremos con un c\u00edrculo relleno de un color distinto a los atributos identificadores y descriptivos. Por ejemplo num_transacci\u00f3n dentro de una CCC o num_ejemplar dentro de un ISBN.</li> <li>Atributos descriptores o descriptivos: Son los atributos que describen diversas propiedades de una entidad o relaci\u00f3n (\u00a1la relaciones tambi\u00e9n pueden tener atributos!). Son los m\u00e1s frecuentes.</li> <li>Atributos derivados: Son atributos cuyos valores se calculan a partir de los valores de otros atributos. Por ejemplo podemos disponer de un atributo fecha_nac que ser\u00eda un atributo descriptivo normal y calcular el valor del atributo edad a partir de \u00e9l. El precio_total tambi\u00e9n podr\u00eda calcularse a partir del precio + %iva.</li> <li>Atributos multivaluados: Son atributos descriptores que poseen varios valores de un mismo dominio. Por ejemplo, si necesitamos almacenar varios e-mail de una misma persona entonces deberemos utilizar un atributo multivaluado. Igual sucede con el tel\u00e9fono. Si s\u00f3lo necesitamos almacenar un s\u00f3lo valor utilizaremos un atributo descriptivo normal.</li> <li>Atributos compuestos: Muchas veces se confunden con los anteriores, aunque no tienen nada que ver con ellos. Un atributo compuesto es un atributo que puede ser descompuesto en otros atributos pertenecientes a distintos dominios.</li> </ul>"},{"location":"tema_2/page-3/","title":"3 Modelo E/R: Relaciones","text":""},{"location":"tema_2/page-3/#introduccion","title":"Introducci\u00f3n","text":"<p>Una relaci\u00f3n es la asociaci\u00f3n que existe entre dos a m\u00e1s entidades. Cada relaci\u00f3n tiene un nombre que describe su funci\u00f3n. Las relaciones se representan gr\u00e1ficamente mediante rombos y su nombre aparece en el interior. Normalmente le pondremos de nombre la primera o primeras letras de las entidades que relaciona. Las entidades que est\u00e1n involucradas en una determinada relaci\u00f3n se denominan entidades participantes. El n\u00famero de participantes en una relaci\u00f3n es lo que se denomina grado de la relaci\u00f3n. Por ejemplo la relaci\u00f3n CLIENTE-COCHE es de grado 2 o binaria, ya que intervienen dos entidades.</p> <p> Figura 6 - Relaciones</p> <p>Observa que el nombre que ponemos a la relaci\u00f3n usa las primeras letras de cada entidad. En este caso como ambas empiezan por \u00abC\u00bb se a\u00f1ade algunas letras m\u00e1s para hacer referencia a CLIENTES. Tambi\u00e9n podr\u00edamos haber puesto como nombre de la relaci\u00f3n uno m\u00e1s descriptivo de la misma, por ejemplo \u00abCompra\u00bb (CLIENTE compra COCHE), pero esta nomenclatura puede conducir a confusi\u00f3n a la hora de determinar la cardinalidad de la relaci\u00f3n cuando estamos aprendiendo. La relaci\u00f3n PUBLICAR, es de grado 3, ya que involucra las entidades LIBRO, EDITORIAL y AUTOR.</p> <p> Figura 7 - Relaciones - Cardinalidad</p>"},{"location":"tema_2/page-3/#entidad-reflexiva","title":"Entidad Reflexiva","text":"<p>Cuando una entidad est\u00e1 relacionada consigo misma, hablamos de relaci\u00f3n reflexiva.</p> <p> Figura 8 - Relaciones reflexivas</p> <p>Aunque el modelo E-R permite relaciones de cualquier grado, la mayor\u00eda de las aplicaciones del modelo s\u00f3lo consideran relaciones del grado 2.</p>"},{"location":"tema_2/page-3/#rol-de-una-entidad-en-una-relacion","title":"Rol de una entidad en una relaci\u00f3n","text":"<p>Es la funci\u00f3n que tiene en una relaci\u00f3n. Se especifican los papeles o roles cuando se quiera aclarar el significado de una entidad en una relaci\u00f3n. A continuaci\u00f3n mostramos los mismos ejemplos del punto anterior pero incluyendo el papel o rol de cada entidad en las relaciones:</p> <p> Figura 9 - Rol de una entidad en una relaci\u00f3n</p>"},{"location":"tema_2/page-3/#cardinalidad-de-una-relacion","title":"Cardinalidad de una relaci\u00f3n","text":"<p>Cuando la relaci\u00f3n es binaria, cosa que ocurre en la mayor\u00eda de los casos, la cardinalidad es el n\u00famero de ocurrencias de una entidad asociadas a una ocurrencia de la otra entidad. Existen principalmente tres tipos de cardinalidades binarias:</p>"},{"location":"tema_2/page-3/#relacion-uno-a-uno-11","title":"Relaci\u00f3n uno a uno 1:1","text":"<p>A cada elemento de la primera entidad le corresponde no m\u00e1s de un elemento de la segunda entidad, y a la inversa.Es representado gr\u00e1ficamente de la siguiente manera:</p> <p> Figura 10 - Relaci\u00f3n 1:1</p> <p>Ejemplo cardinalidad 1:1</p> <p> Figura 11 - Ejemplo de Relaci\u00f3n 1:1</p>"},{"location":"tema_2/page-3/#relacion-uno-a-muchos-1n","title":"Relaci\u00f3n uno a muchos 1:N","text":"<p>Significa que cada elemento de una entidad del tipo A puede relacionarse con cualquier cantidad de elementos de una entidad del tipo B, y un elemento de una entidad del tipo B solo puede estar relacionado con un elemento de una entidad del tipo A. Su representaci\u00f3n gr\u00e1fica es la siguiente: N\u00f3tese en este caso que el extremo punteado de la flecha de la relaci\u00f3n de A y B, indica un elemento de A conectado a muchos de B.</p> <p> Figura 12 - Relaci\u00f3n 1:N</p> <p>Ejemplo cardinalidad 1:N</p> <p> Figura 12 - Ejemplo de Relaci\u00f3n 1:N</p>"},{"location":"tema_2/page-3/#muchos-a-muchos-nm","title":"Muchos a muchos N:M","text":"<p>Establece que cualquier cantidad de elementos de una entidad del tipo A pueden estar relacionados con cualquier cantidad de elementos de una entidad del tipo B. El extremo de la flecha que se encuentra punteada indica el \u00abvarios\u00bb de la relaci\u00f3n.</p> <p></p> Figura 13 - Relaci\u00f3n N:M <p>Ejemplo cardinalidad N:M:</p> <p> Figura 14 - Ejemplo de Relaci\u00f3n N:M</p>"},{"location":"tema_2/page-3/#la-participacion-de-una-entidad","title":"La Participaci\u00f3n de una entidad","text":"<p>La participaci\u00f3n de una entidad tambi\u00e9n se conoce como cardinalidad de la entidad dentro de una relaci\u00f3n. Una misma entidad puede tener distinta cardinalidad dentro de distintas relaciones. Para obtener la participaci\u00f3n, se debe fijar una ocurrencia concreta de una entidad y averiguar cu\u00e1ntas ocurrencias de la otra entidad le corresponden como m\u00ednimo y como m\u00e1ximo. Despu\u00e9s realizar lo mismo en el otro sentido. Estas ocurrencias m\u00ednimas y m\u00e1ximas (llamadas tambi\u00e9n participaci\u00f3n de una entidad) se representar\u00e1n entre par\u00e9ntesis y con letras min\u00fasculas en el lado de la relaci\u00f3n opuesto a la entidad cuyas ocurrencias se fijan. Para determinar la cardinalidad nos quedamos con las participaciones m\u00e1ximas de ambas y se representan con letras may\u00fasculas separadas por dos puntos junto al s\u00edmbolo de la relaci\u00f3n. Veamos algunos ejemplos:</p> <p>Ejemplo 1:</p> <p> Figura 15 - Participaci\u00f3n de una entidad Ejemplo 1</p> <p>Un conductor \u00abconduce\u00bb como m\u00ednimo 1 coche y como m\u00e1ximo 1 coche \u2192 Participaci\u00f3n (1,1) y se pone en el lado opuesto a CONDUCTOR, es decir, junto a COCHE. Un coche \u00abes conducido\u00bb como m\u00ednimo por 1 conductor y como m\u00e1ximo por 1 conductor \u2192 Participaci\u00f3n (1,1) y se pone en el lado opuesto a COCHE, es decir, junto a CONDUCTOR. Para determinar la cardinalidad nos quedamos con las dos participaciones m\u00e1ximas. Es decir \u2192 1:1.</p> <p>Ejemplo 2:</p> <p> Figura 16 - Participaci\u00f3n de una entidad Ejemplo 2</p> <p>Un cliente \u00abcompra\u00bb como m\u00ednimo 1 coche y como m\u00e1ximo puede comprar m\u00e1s de un coche, es decir, varios coches. Ese varios se representa con la letra \u00abn\u00bb \u2192 Participaci\u00f3n (1,n)) y se pone en el lado opuesto a CLIENTE, es decir, junto a COCHE. Un coche \u00abes comprado\u00bb como m\u00ednimo por 1 cliente y como m\u00e1ximo por 1 cliente \u2192 Participaci\u00f3n (1,1) y se pone en el lado opuesto a COCHE, es decir, junto a CLIENTE. Para determinar la cardinalidad nos quedamos con las dos participaciones m\u00e1ximas y la \u00abn\u00bb se pone en may\u00fasculas \u00abN\u00bb. Es decir \u2192 1:N.</p> <p>Ejemplo 3:</p> <p> Figura 17 - Participaci\u00f3n de una entidad Ejemplo 3</p> <p>Un empleado \u00abtrabaja\u00bb como m\u00ednimo 1 departamento y como m\u00e1ximo puede trabajar en varios. Ese varios se representa con la letra \u00abn\u00bb \u2192 Participaci\u00f3n(1,n)) y se pone en el lado opuesto a EMPLEADO, es decir, junto a DEPARTAMENTO. Un departamento \u00abtiene\u00bb como m\u00ednimo por 1 empleado y como m\u00e1ximo puede tener varios \u2192 Participaci\u00f3n (1,n) y se pone en el lado opuesto a DEPARTAMENTO, es decir, junto a EMPLEADO. Para determinar la cardinalidad nos quedamos con las dos participaciones m\u00e1ximas y la \u00abn\u00bb se pone en may\u00fasculas \u00abN\u00bb y para diferenciar el otro \u00abvarios\u00bb en lugar de \u00abN\u00bb ponemos \u00abM\u00bb (Igual que cuando en matem\u00e1ticas hab\u00eda dos variables no se pon\u00eda x e x sino x e y). Es decir \u2192 N:M.</p>"},{"location":"tema_2/page-3/#atributos-propios-de-una-relacion","title":"Atributos propios de una relaci\u00f3n","text":"<p>Las relaciones tambi\u00e9n pueden tener atributos, se les denominan atributos propios. Son aquellos atributos cuyo valor s\u00f3lo se puede obtener en la relaci\u00f3n, puesto que dependen de todas las entidades que participan en la relaci\u00f3n. Veamos un ejemplo.</p> <p>Ejemplo:</p> <p> Figura 18 - Atributos de una relaci\u00f3n</p> <p>Tenemos la relaci\u00f3n \u00abCompra\u00bb entre cliente y producto. As\u00ed un cliente puede comprar uno o varios productos, y un producto puede ser comprado por uno o varios clientes. Encontramos una serie de atributos propios de cada una de las entidades [CLIENTE (Cod_Cliente, Nombre, Direcci\u00f3n, edad, tel\u00e9fono) y PRODUCTO (Cod_Producto, Nombre, Descripci\u00f3n, Precio_Unidad)], pero tambi\u00e9n podemos observar como el atributo \u00abCantidad\u00bb es un atributo de la relaci\u00f3n. \u00bfPor qu\u00e9? Pues porque un mismo cliente puede comprar distintas cantidades de distintos productos y un mismo producto puede ser comprado en distintas cantidades por distintos clientes. Es decir el atributo cantidad depende del cliente y del producto de que se traten.</p>"},{"location":"tema_2/page-3/#relaciones-de-dependencia-entidades-fuertes-y-entidades-debiles","title":"Relaciones de dependencia: Entidades Fuertes y Entidades D\u00e9biles","text":"<p>Al definir las entidades hablamos de dos tipos de ellas: fuertes y d\u00e9biles. Una entidad d\u00e9bil est\u00e1 unida a una entidad fuerte a trav\u00e9s de una relaci\u00f3n de dependencia. Hay dos tipos de relaciones de dependencia:</p> <p>Dependencia en existencia Se produce cuando una entidad d\u00e9bil necesita de la presencia de una fuerte para existir. Si desaparece la existencia de la entidad fuerte, la de la d\u00e9bil carece de sentido. Se representa con una barra atravesando el rombo y la letra E en su interior. Son relaciones poco frecuentes.</p> <p>Ejemplo:</p> <p> Figura 19 - Dependencia en existencia</p> <p>En la figura se muestra el caso de que un empleado puede tener ninguno, uno o varios hijos, por lo que los datos de los hijos deben sacarse en una entidad aparte, aunque siguen siendo datos propios de un empleado. Si se eliminase un registro de un empleado, no tendr\u00eda sentido seguir manteniendo en la base datos la informaci\u00f3n sobre sus hijos.</p> <p>Dependencia en identificaci\u00f3n Se produce cuando una entidad d\u00e9bil necesita de la fuerte para identificarse. Por s\u00ed sola la d\u00e9bil no es capaz de identificar de manera un\u00edvoca sus ocurrencias. La clave de la entidad d\u00e9bil se forma al unir la clave de la entidad fuerte con los atributos identificadores de la entidad d\u00e9bil.</p> <p>Ejemplo:</p> <p> Figura 20 - Dependencia en identificaci\u00f3n</p> <p>En la figura se observa que la provincia tiene uno o varios municipio y que un municipio pertenece a una sola provincia. Ahora bien si lo que identifica a los municipios es el c\u00f3digo que aparece en el c\u00f3digo postal, se tiene que las dos primeras cifras corresponden al c\u00f3digo de la provincia y las tres \u00faltimas al del municipio. Por ejemplo, el C.P de \u00c9cija es 41400, d\u00f3nde 41 es el c\u00f3digo de la provincia y 400 el del municipio. De esta forma, habr\u00e1 distintos municipios con c\u00f3digo 400 en distintas provincias. Uno de estos municipios se distinguir\u00e1 del resto al anteponerle las dos primeras cifras correspondientes al c\u00f3digo de la provincial.</p>"},{"location":"tema_2/page-3/#simbolos-de-exclusividad-o-inclusividad-entre-relaciones","title":"S\u00edmbolos de exclusividad o inclusividad entre relaciones","text":"<p>Otros s\u00edmbolos usados en el modelo E/R son los siguientes:</p> <p>Restricci\u00f3n de exclusividad entre dos tipos de relaciones R1 y R2 respecto a la entidad E1. Significa que E1 est\u00e1 relacionada, o bien con E2 o bien con E3, pero no pueden darse ambas relaciones simult\u00e1neamente.</p> <p> Figura 21 - Restricci\u00f3n de exclusividad</p> <p>Ejemplo: Un empleado puede estar en una empresa, o bien realizando pr\u00e1cticas, en cuyo caso est\u00e1 asignado a un grupo de pr\u00e1cticas y no pertenece a ning\u00fan departamento en concreto. O bien puede ser empleado en plantilla y en este caso pertenece a un departamento.</p> <p> Figura 22 - Ejemplo de Restricci\u00f3n de exclusividad</p> <p>Restricci\u00f3n de inclusividad entre dos tipos de relaciones R1 y R2 respecto a la entidad E1. Para que la entidad E1 participe en la relaci\u00f3n R2 debe participar previamente en la relaci\u00f3n R1.</p> <p> Figura 23 - Restricci\u00f3n de inclusividad</p> <p>Ejemplo: Para que un empleado pueda trabajar como dise\u00f1ador de productos debe haber asistido, al menos, a dos cursos.</p> <p> Figura 24 - Ejemplo de Restricci\u00f3n de inclusividad</p> <p>Restricci\u00f3n de exclusi\u00f3n entre dos tipos de relaciones R1 y R2. Significa que E1 est\u00e1 relacionada con E2 bien mediante R1, o bien mediante R2 pero que no pueden darse ambas relaciones simult\u00e1neamente.</p> <p> Figura 25 - Restricci\u00f3n de exclusi\u00f3n</p> <p>Ejemplo: Los empleados, en funci\u00f3n de sus capacidades, o son dise\u00f1adores de productos o son operarios y los fabrican, no es posible que ning\u00fan empleado sea dise\u00f1ador y fabricante a la misma vez.</p> <p> Figura 26 - Ejemplo de Restricci\u00f3n de exclusi\u00f3n</p> <p>Restricci\u00f3n de inclusi\u00f3n entre dos tipos de relaciones R1 y R2. Para que la entidad E1 participe en la relaci\u00f3n R2 con E2 debe participar previamente en la relaci\u00f3n R1.</p> <p> Figura 27 - Restricci\u00f3n de inclusi\u00f3n</p> <p>Ejemplo: Para que un hombre se divorcie de una mujer, previamente ha de haberse casado con ella.</p> <p> Figura 28 - Ejemplo de Restricci\u00f3n de inclusi\u00f3n</p>"},{"location":"tema_2/page-4/","title":"4 Modelo E/R Extendido","text":""},{"location":"tema_2/page-4/#introduccion","title":"Introducci\u00f3n","text":"<p>El modelo Entidad/Relaci\u00f3n extendido incluye todo lo visto en el modelo Entidad/Relaci\u00f3n pero adem\u00e1s las Relaciones de Jerarqu\u00eda. Una relaci\u00f3n de jerarqu\u00eda se produce cuando una entidad se puede relacionar con otras a trav\u00e9s de una relaci\u00f3n cuyo rol ser\u00eda \u00abEs un tipo de\u00bb.</p> <p>Por ejemplo, imaginemos la siguiente situaci\u00f3n.</p> <p>Queremos hacer una BD sobre los animales de un Zoo. Tenemos las entidades ANIMAL, FELINO, AVE, REPTIL, INSECTO. FELINO, AVE, REPTIL e INSECTO tendr\u00edan el mismo tipo de relaci\u00f3n con ANIMAL: \u00abson un tipo de\u00bb. Ahora bien, su representaci\u00f3n mediante el E/R cl\u00e1sico ser\u00eda bastante engorrosa:</p> <p> Figura 29 - Modelo E/R Sin Extensi\u00f3n</p> <p>Para evitar tener que repetir tantas veces el rombo de la misma relaci\u00f3n, se utilizan unos s\u00edmbolos especiales para estos casos y se sustituyen todos los rombos de relaci\u00f3n \u00abes un tipo de\u00bb por un tri\u00e1ngulo invertido, donde la entidades de abajo son siempre un tipo de la entidad de arriba y se llaman subtipo e entidades hijas. La de arriba se denominar\u00e1 supertipo o entidad padre. Las relaciones jer\u00e1rquicas siempre se hacen en funci\u00f3n de un atributo que se coloca al lado de la relaci\u00f3n \u00abes_un\u00bb. En la figura siguiente ser\u00eda \u00abtipo\u00bb. El ejemplo anterior quedar\u00eda del modo siguiente utilizando s\u00edmbolos del E/R extendido.</p> <p> Figura 30 - Modelo E/R Extendido</p> <p>Existen diferentes tipos de jerarqu\u00edas:</p> <ul> <li>Total: Subdividimos la entidad Empleado en: Ingeniero, Secretario y T\u00e9cnico y en nuestra BD no hay ning\u00fan otro empleado que no pertenezca a uno de estos tres tipos.</li> <li>Parcial: Subdividimos la entidad Empleado en: Ingeniero, Secretario y T\u00e9cnico pero en nuestra BD puede haber empleados que no pertenezcan a ninguno de estos tres tipos.</li> <li>Solapada: Subdividimos la entidad Empleado, en: Ingeniero, Secretario y T\u00e9cnico y en nuestra BD puede haber empleados que sean a la vez Ingenieros y secretarios, o secretarios y t\u00e9cnicos, etc.</li> <li>Exclusiva: Subdividimos la entidad Empleado en: Ingeniero, Secretario y T\u00e9cnico. En nuestra BD ning\u00fan empleado pertenece a m\u00e1s de una subentidad.</li> </ul> <p> Figura 31 - Tipos de extendido</p>"},{"location":"tema_2/page-4/#jerarquia-solapada-y-parcial","title":"Jerarqu\u00eda solapada y parcial","text":"<p>En esta BD un empleado podr\u00eda ser simult\u00e1neamente t\u00e9cnico, cient\u00edfico y astronauta o t\u00e9cnico y astronauta, etc. (solapada). Adem\u00e1s puede ser t\u00e9cnico, astronauta, cient\u00edfico o desempe\u00f1ar otro empleo diferente (parcial).</p> <p> Figura 32 - Extensi\u00f3n Solapada Parcial</p>"},{"location":"tema_2/page-4/#jerarquia-solapada-y-total","title":"Jerarqu\u00eda solapada y total","text":"<p>En esta BD un empleado podr\u00eda ser simult\u00e1neamente t\u00e9cnico, cient\u00edfico y astronauta o t\u00e9cnico y astronauta, etc. (solapada). Adem\u00e1s puede ser solamente t\u00e9cnico, astronauta o cient\u00edfico (total).</p> <p> Figura 33 - Extensi\u00f3n Solapada Total</p>"},{"location":"tema_2/page-4/#jerarquia-exclusiva-y-parcial","title":"Jerarqu\u00eda exclusiva y parcial","text":"<p>En esta BD un empleado s\u00f3lo puede desempe\u00f1ar una de las tres ocupaciones (exclusiva) . Adem\u00e1s puede ser t\u00e9cnico, o ser astronauta, o ser cient\u00edfico o tambi\u00e9n desempe\u00f1ar otro empleo diferente, por ejemplo, podr\u00eda ser F\u00cdSICO (parcial).</p> <p> Figura 34 - Extensi\u00f3n Exclusiva Parcial</p>"},{"location":"tema_2/page-4/#jerarquia-exclusiva-y-total","title":"Jerarqu\u00eda exclusiva y total","text":"<p>Un empleado puede ser solamente t\u00e9cnico, astronauta o cient\u00edfico (total) y no ocupar m\u00e1s de un puesto (exclusiva)</p> <p> Figura 35 - Extensi\u00f3n Exclusiva Total</p>"},{"location":"tema_2/page-5/","title":"5 Modelo Relacional","text":""},{"location":"tema_2/page-5/#introduccion","title":"Introducci\u00f3n","text":"<p>Los SGBD se pueden clasificar de acuerdo con el modelo l\u00f3gico que soportan, el n\u00famero de usuarios, el n\u00famero de puestos, el coste\u2026 La clasificaci\u00f3n m\u00e1s importante de los SGBD se basa en el modelo l\u00f3gico, siendo los principales modelos que se utilizan en el mercado los siguientes: Jer\u00e1rquico, en Red, Relacional y Orientado a Objetos.</p> <p>La mayor\u00eda de los SGBD comerciales actuales est\u00e1n basados en el modelo relacional, en el que nos vamos a centrar, mientras que los sistemas m\u00e1s antiguos estaban basados en el modelo de red o el modelo jer\u00e1rquico.</p> <p>Los motivos del \u00e9xito del modelo relacional son fundamentalmente dos:</p> <ul> <li>Se basan en el \u00e1lgebra relacional que es un modelo matem\u00e1tico con s\u00f3lidos fundamentos. En esta secci\u00f3n se presenta el modelo relacional. Realizaremos la descripci\u00f3n de los principios b\u00e1sicos del modelo relacional: la estructura de datos relacional y las reglas de integridad. Ofrecen sistemas simples y eficaces para representar y manipular los datos.</li> <li>La estructura fundamental del modelo relacional es precisamente esa, la \u00abrelaci\u00f3n\u00bb, es decir una tabla bidimensional constituida por filas (registros o tuplas) y columnas (atributos o campos). Las relaciones o tablas representan las entidades del modelo E/R, mientras que los atributos de la relaci\u00f3n representar\u00e1n las propiedades o atributos de dichas entidades. Por ejemplo, si en la base de datos se tienen que representar la entidad PERSONA, est\u00e1 pasar\u00e1 a ser una relaci\u00f3n o tabla llamada \u00abPERSONAS\u00bb, cuyos atributos describen las caracter\u00edsticas de las personas (tabla siguiente). Cada tupla o registro de la relaci\u00f3n \u00abPERSONAS\u00bb representar\u00e1 una persona concreta.</li> </ul>"},{"location":"tema_2/page-5/#estructura-de-una-base-de-datos-relacional","title":"Estructura de una base de datos relacional","text":"Personas DNI Nombre Apellido Nacimiento Sexo Estado Civil 52768987 Juan Loza 15/06/1976 H Soltero 06876983 Isabel G\u00e1lvez 23/12/1969 M Casada 34678987 Micaela Ruiz 02/10/1985 M Soltera <p>En realidad, siendo rigurosos, una RELACI\u00d3N del MODELO RELACIONAL es s\u00f3lo la definici\u00f3n de la estructura de la tabla, es decir su nombre y la lista de los atributos que la componen. Una representaci\u00f3n de la definici\u00f3n de esa relaci\u00f3n podr\u00eda ser la siguiente:</p> <p> Figura 36 - Tabla del Modelo Relacional</p> <p>Para distinguir un registro de otro, se usa la clave primaria o clave principal.</p> <p>En una relaci\u00f3n puede haber m\u00e1s combinaciones de atributos que permitan identificar un\u00edvocamente una fila (estos se llamar\u00e1n \u00abllaves o claves candidatas\u00bb), pero entre \u00e9stas se elegir\u00e1 una sola para utilizar como llave primaria. Los atributos de la llave primaria no pueden asumir el valor nulo.</p>"},{"location":"tema_2/page-5/#elementos-y-propiedades","title":"Elementos y propiedades","text":"<ul> <li>Tabla: Representan las entidades de las que se quiere almacenar informaci\u00f3n en la BD. Esta formada por:<ul> <li>Filas (Registros o Tuplas): Corresponden a cada ocurrencia de la entidad.</li> <li>Columnas (Atributos o campos): Corresponden a las propiedades de la entidad. Siendo rigurosos una relaci\u00f3n est\u00e1 constituida s\u00f3lo por los atributos, sin las tuplas.</li> </ul> </li> </ul> <p>Las tablas tienen las siguientes propiedades:</p> <ul> <li>Cada tabla tiene un nombre y \u00e9ste es distinto del nombre de todas las dem\u00e1s tablas de la misma BD.</li> <li>No hay dos atributos que se llamen igual en la misma tabla.</li> <li>El orden de los atributos no importa: los atributos no est\u00e1n ordenados.</li> <li>Cada tupla es distinta de las dem\u00e1s: no hay tuplas duplicadas. (Como m\u00ednimo se diferenciar\u00e1n en la clave principal)</li> <li>El orden de las tuplas no importa: las tuplas no est\u00e1n ordenadas.</li> </ul> <p>Los tipos de claves que podemos encontrar en una tabla son:</p> <ul> <li>Clave candidata: atributo que identifica un\u00edvocamente una tupla. Cualquiera de las claves candidatas se podr\u00eda elegir como clave principal.</li> <li>Clave Principal: Clave candidata que elegimos como identificador de la tuplas.</li> <li>Clave Alternativa: Toda clave candidata que no es clave primaria (las que no hayamos elegido como clave principal)</li> </ul> <p>Los atributos pueden tener estas caracter\u00edsticas:</p> <ul> <li>Una clave principal no puede asumir el valor nulo (Integridad de la entidad).</li> <li>Dominio de un atributo: Conjunto de valores que pueden ser asumidos por dicho atributo.</li> <li>Clave Externa o for\u00e1nea o ajena: el atributo o conjunto de atributos que forman la clave principal de otra tabla. Que un atributo sea clave ajena en una tabla significa que para introducir datos en ese atributo, previamente han debido introducirse en la tabla de origen. Es decir, los valores presentes en la clave externa tienen que corresponder a valores presentes en la clave principal correspondiente (Integridad Referencial).</li> </ul>"},{"location":"tema_2/page-6/","title":"6 Transformaci\u00f3n del Modelo E/R a Relacional","text":""},{"location":"tema_2/page-6/#introduccion","title":"Introducci\u00f3n","text":"<p>Pasamos ya a enumerar las normas para traducir del Modelo E/R al modelo relacional, ayud\u00e1ndonos del siguiente ejemplo:</p> <p> Figura 37 - Modelo E/R a pasar a relacional</p> <p>Importante</p> <p>Se deben elaborar los diagramas relacionales de tal forma que, posteriormente al introducir datos, no quede ninguna clave for\u00e1nea a valor nulo (NULL). Para ello se siguen las reglas que se muestran a continuaci\u00f3n.</p>"},{"location":"tema_2/page-6/#entidades","title":"Entidades","text":"<p>Cada entidad se transforma en una tabla. El identificador (o identificadores) de la entidad pasa a ser la clave principal de la relaci\u00f3n y aparece subrayada o con la indicaci\u00f3n: PK (Primary Key). Si hay clave alternativa esta se pone en negrita.</p> <p>Ejemplo: Todas las entidades del ejemplo anterior generan tabla. En concreto, la entidad AULA genera la siguiente tabla:</p> <p> Figura 38 - Transformar entidad</p>"},{"location":"tema_2/page-6/#relaciones-binarias-nm","title":"Relaciones binarias N:M","text":"<p>Es el caso m\u00e1s sencillo. Siempre generan tabla. Se crea una tabla que incorpora como claves ajenas o for\u00e1neas FK (Foreign Key) cada una de las claves de las entidades que participan en la relaci\u00f3n. La clave principal de esta nueva tabla est\u00e1 compuesta por dichos campos.</p> <p>Importante</p> <p>No se trata de 2 claves primarias, sino de una clave primaria compuesta por 2 campos.</p> <p>Si hay atributos propios, pasan a la tabla de la relaci\u00f3n. Se har\u00eda exactamente igual si hubiera participaciones m\u00ednimas 0. Orden de los atributos en las claves compuestas: Se deben poner a la izquierda todos los atributos que forman la clave. El orden de los atributos que forman la clave vendr\u00e1 determinado por las consultas que se vayan a realizar. Las tuplas de la tabla suelen estar ordenadas siguiendo como \u00edndice la clave. Por tanto, conviene poner primero aquel/los atributos por los que se va a realizar la consulta.</p> <p>Ejemplo: Realicemos el paso a tablas de la relaci\u00f3n N:M entre M\u00d3DULO (1,n) y ALUMNO (1,n). Este tipo de relaci\u00f3n siempre genera tabla y los atributos de la relaci\u00f3n, pasan a la tabla que \u00e9sta genera.</p> <p> Figura 39 - Transformar Relaci\u00f3n N:M</p>"},{"location":"tema_2/page-6/#relaciones-binarias-1n","title":"Relaciones binarias 1:N","text":"<p>No suelen generar otras tablas, si no que la entidad del lado N recibe como clave ajena la clave de la entidad 1. Los atributos propios de la relaci\u00f3n pasan a la tabla donde se ha incorporado la clave ajena.</p> <p> Figura 40 - Transformar Relaci\u00f3n 1:N</p> <p>Importante</p> <p>Si la entidad del lado 1 presenta participaci\u00f3n (0,1), entonces se crea una nueva tabla para la relaci\u00f3n que incorpora como claves ajenas las claves de ambas entidades. La clave principal de la relaci\u00f3n ser\u00e1 s\u00f3lo la clave de la entidad del lado N.</p> <p> Figura 41 - Transformar Relaci\u00f3n 1:N </p>"},{"location":"tema_2/page-6/#relaciones-binarias-11","title":"Relaciones binarias 1:1","text":"<p>Si tenemos una relaci\u00f3n 1:1 y ninguna tiene participaci\u00f3n m\u00ednima 0, elegimos la clave principal de una de ellas y la introducimos como clave clave ajena en la otra tabla. Se elegir\u00e1 una u otra forma en funci\u00f3n de como se quiera organizar la informaci\u00f3n para facilitar las consultas. Los atributos propios de la relaci\u00f3n pasan a la tabla donde se introduce la clave ajena.</p> <p> Figura 42 - Transformar Relaci\u00f3n 1:1</p> <p>Importante</p> <p>Si alguna contiene una participaci\u00f3n m\u00ednima 0, la clave primaria se coloca la clave ajena en dicha entidad para as\u00ed evitar en lo posible, los valores nulos.</p> <p>Importante</p> <p>Si las dos entidades participan con participaci\u00f3n (0,1), entonces se crea una nueva tabla para la relaci\u00f3n.</p> <p> Figura 43 - Transformar Relaci\u00f3n 1:1 </p>"},{"location":"tema_2/page-6/#relaciones-de-dependencias","title":"Relaciones de dependencias","text":"<p>Como en toda relaci\u00f3n 1:N, La clave de la entidad fuerte debe introducirse en la tabla de la entidad d\u00e9bil como for\u00e1nea y, adem\u00e1s en este caso, formar parte de la clave de \u00e9sta. En las entidades d\u00e9biles, la clave de la entidad fuerte debe ir la primera y, a continuaci\u00f3n, los discriminadores de la d\u00e9bil. Ejemplo: Realicemos el paso a tablas de la relaci\u00f3n d\u00e9bil en identificaci\u00f3n entre CURSO Y GRUPO.</p> <p> Figura 44 - Transformar entidad d\u00e9bil</p>"},{"location":"tema_2/page-6/#relaciones-de-grado-mayor-que-2","title":"Relaciones de grado mayor que 2","text":"<p>Siempre generan tabla. Las claves principales de las entidades que participan en la relaci\u00f3n pasan a la nueva tabla como claves for\u00e1neas. Y solo las de los lados N forman la principal. Si hay atributos propios de la relaci\u00f3n, estos se incluyen en esa tabla.</p>"},{"location":"tema_2/page-6/#relaciones-reflexivas","title":"Relaciones reflexivas","text":"<p>Generan tabla o no en funci\u00f3n de la cardinalidad. Si es 1:1, no genera tabla. En la entidad se introduce dos veces la clave, una como clave principal y otra como clave ajena. Se suele introducir una modificaci\u00f3n en el nombre por diferenciarlas. Si es 1:N, se puede generar tabla o no. Si hubiese participaci\u00f3n 0 en el lado 1, obligatoriamente se generar\u00eda tabla. Si es N:N, la relaci\u00f3n genera tabla.</p> <p> Figura 45 - Transformaci\u00f3n de relaci\u00f3n reflexiva</p>"},{"location":"tema_2/page-6/#jerarquias","title":"Jerarqu\u00edas","text":"<p>Las relaciones jer\u00e1rquicas son un caso especial. Se pueden dar algunas gu\u00edas que sirvan de referencia, pero en la mayor\u00eda de los casos, va a depender del problema concreto. Estas gu\u00edas son: Se crear\u00e1 una tabla para la entidad supertipo. A no ser que tenga tan pocos atributos que dejarla sea una complicaci\u00f3n. Si la entidad subtipo no tiene atributos y no est\u00e1 relacionada con ninguna otra entidad, desaparece. Si la entidad subtipo tiene alg\u00fan atributo, se crea una tabla. Si no tiene clave propia, hereda la de la entidad supertipo. Si la relaci\u00f3n es exclusiva, el atributo que genera la jerarqu\u00eda se incorpora en la tabla de la entidad supertipo. Si se ha creado una tabla por cada una de las entidades subtipo, no es necesario incorporar dicho atributo a la entidad supertipo. Ejemplo: No encontramos ning\u00fan ejemplo de relaci\u00f3n de jerarqu\u00eda 2 en el supuesto anterior. Su paso a tablas, se ver\u00e1n en cuando aparezcan en los ejemplos concretos.</p>"},{"location":"tema_2/page-7/","title":"7 Normalizaci\u00f3n","text":""},{"location":"tema_2/page-7/#introduccion","title":"Introducci\u00f3n","text":"<p>El dise\u00f1o de una BD relacional se puede realizar aplicando al mundo real, en una primera fase, un modelo como el modelo E/R, a fin de obtener un esquema conceptual; en una segunda fase, se transforma dicho esquema al modelo relacional mediante las correspondientes reglas de transformaci\u00f3n.</p> <p>Tambi\u00e9n es posible, aunque quiz\u00e1s menos recomendable, obtener el esquema relacional sin realizar ese paso intermedio que es el esquema conceptual. En ambos casos, es conveniente (obligatorio en el modelo relacional directo) aplicar un conjunto de reglas, conocidas como Teor\u00eda de normalizaci\u00f3n, que nos permiten asegurar que un esquema relacional cumple unas ciertas propiedades, evitando:</p> <ul> <li>La redundancia de los datos: repetici\u00f3n de datos en un sistema.</li> <li>Anomal\u00edas de actualizaci\u00f3n: inconsistencias de los datos como resultado de datos redundantes y actualizaciones parciales.</li> <li>Anomal\u00edas de borrado: p\u00e9rdidas no intencionadas de datos debido a que se han borrado otros datos.</li> <li>Anomal\u00edas de inserci\u00f3n: imposibilidad de adicionar datos en la base de datos debido a la ausencia de otros datos.</li> </ul> <p>En la pr\u00e1ctica, si la BD se ha dise\u00f1ado haciendo uso de modelos sem\u00e1nticos como el modelo E/R no suele ser necesaria la normalizaci\u00f3n. Por otro lado si nos proporcionan una base de datos creada sin realizar un dise\u00f1o previo, es muy probable que necesitemos normalizar.</p> <p>En la teor\u00eda de bases de datos relacionales, las formas normales (FN) proporcionan los criterios para determinar el grado de vulnerabilidad de una tabla a inconsistencias y anomal\u00edas l\u00f3gicas. Cuanto m\u00e1s alta sea la forma normal aplicable a una tabla, menos vulnerable ser\u00e1 a inconsistencias y anomal\u00edas. Edgar F. Codd originalmente defini\u00f3 las tres primeras formas normales (1FN, 2FN, y 3FN) en 1970. Estas formas normales se han resumido como requiriendo que todos los atributos sean at\u00f3micos, dependan de la clave completa y en forma direct a (no transitiva). La forma normal de Boyce-Codd (FNBC) fue introducida en 1974 por los dos autores que aparecen en su denominaci\u00f3n. Las cuarta y quinta formas normales (4FN y 5FN) se ocupan espec\u00edficamente de la representaci\u00f3n de las relaciones muchos a muchos y uno a muchos entre los atributos y fueron introducidas por Fagin en 1977 y 1979 respectivamente.Cada forma normal incluye a las anteriores.</p> <p> Figura 46 - Normalizaci\u00f3n</p> <p>Antes de dar los conceptos de formas normales veamos unas definiciones previas:</p> <ul> <li>Dependencia funcional: A \u2192 B, representa que B es funcionalmente dependiente de A. Para un valor de A siempre aparece un valor de B. Ejemplo: Si A es el D.N.I., y B el Nombre, est\u00e1 claro que para un n\u00famero de D.N.I, siempre aparece el mismo nombre de titular.</li> <li>Dependencia funcional completa: A \u2192 B, si B depende de A en su totalidad. Ejemplo: Tiene sentido plantearse este tipo de dependencia cuando A est\u00e1 compuesto por m\u00e1s de un atributo. Por ejemplo, supongamos que A corresponde al atributo compuesto: D.N.I._Empleado + Cod._Dpto. y B es Nombre_Dpto. En este caso B depende del Cod_Dpto., pero no del D.N.I._Empleado. Por tanto no habr\u00eda dependencia funcional completa.</li> <li>Dependencia transitiva: A\u2192B\u2192C. Si A\u2192B y B\u2192C, Entonces decimos que C depende de forma transitiva de A. Ejemplo: Sea A el D.N.I. de un alumno, B la localidad en la que vive y C la provincia. Es un caso de dependencia transitiva A\u2192 B \u2192 C.</li> <li>Determinante funcional: todo atributo, o conjunto de ellos, de los que depende alg\u00fan otro atributo. Ejemplo: El D.N.I. es un determinante funcional pues atributos como nombre, direcci\u00f3n, localidad, etc, dependen de \u00e9l.</li> <li>Dependencia multivaluada: A\u2192\u2192B. Son un tipo de dependencias en las que un determinante funcional no implica un \u00fanico valor, sino un conjunto de ellos. Un valor de A siempre implica varios valores de B. Ejemplo: CursoBachillerato \u2192\u2192 Modalidad. Para primer curso siempre va a aparecer en el campo Modalidad uno de los siguientes valores: Ciencias, Humanidades/Ciencias Sociales o Artes. Igual para segundo curso.</li> </ul>"},{"location":"tema_2/page-7/#primera-forma-normal-1fn","title":"Primera Forma Normal (1FN)","text":"<p>Una Relaci\u00f3n est\u00e1 en 1FN si y s\u00f3lo si cada atributo es at\u00f3mico.</p> Sin formalizar1FN DNI Nombre Curso FechaMatricula Tutor LocalidadAlumno ProvinciaAlumno Tel\u00e9fonos 1111111A Eva 1\u00ba ESO-A 01-julio-17 Isabel \u00c9cija Sevilla 6601234321 2222222B Ana 1\u00ba ESO-A 09-julio-17 Isabel \u00c9cija Sevilla 660345678660333222660234567 3333333C Susana 1\u00ba ESO-B 11-julio-17 Roberto \u00c9cija Sevilla 4444444D Juan 2\u00ba ESO-A 05-julio-17 Federico El Villar C\u00f3rdoba 5555555E Jos\u00e9 2\u00ba ESO-A 02-julio-17 Federico El Villar C\u00f3rdoba 660111222660111333 <p>Esta tabla no est\u00e1 en 1FN puesto que el campo Tel\u00e9fonos contiene varios datos dentro de una misma celda y por tanto no es un campo cuyos valores sean at\u00f3micos.</p> DNI Nombre Curso FechaMatricula Tutor LocalidadAlumno ProvinciaAlumno 1111111A Eva 1\u00ba ESO-A 01-julio-17 Isabel \u00c9cija Sevilla 2222222B Ana 1\u00ba ESO-A 09-julio-17 Isabel \u00c9cija Sevilla 3333333C Susana 1\u00ba ESO-B 11-julio-17 Roberto \u00c9cija Sevilla 4444444D Juan 2\u00ba ESO-A 05-julio-17 Federico El Villar C\u00f3rdoba 5555555E Jos\u00e9 2\u00ba ESO-A 02-julio-17 Federico El Villar C\u00f3rdoba DNI Tel\u00e9fonos 1111111A 6601234321 2222222B 660345678 2222222C 660333222 2222222C 660333222 5555555E 660111222 5555555E 660111333"},{"location":"tema_2/page-7/#segunda-forma-normal-2fn","title":"Segunda Forma Normal (2FN)","text":"<p>Una Relaci\u00f3n esta en 2FN si y s\u00f3lo si est\u00e1 en 1FN y todos los atributos que no forman parte de la Clave Principal tienen dependencia funcional completa de ella.</p> DNI Nombre Curso FechaMatricula Tutor LocalidadAlumno ProvinciaAlumno 1111111A Eva 1\u00ba ESO-A 01-julio-17 Isabel \u00c9cija Sevilla 2222222B Ana 1\u00ba ESO-A 09-julio-17 Isabel \u00c9cija Sevilla 3333333C Susana 1\u00ba ESO-B 11-julio-17 Roberto \u00c9cija Sevilla 4444444D Juan 2\u00ba ESO-A 05-julio-17 Federico El Villar C\u00f3rdoba 5555555E Jos\u00e9 2\u00ba ESO-A 02-julio-17 Federico El Villar C\u00f3rdoba <p>Vamos a examinar las dependencias funcionales. El gr\u00e1fico que las representa es el siguiente:</p> <p> Figura 47 - Dependencias funcionales</p> <ul> <li>Siempre que aparece un DNI aparecer\u00e1 el Nombre correspondiente y la LocalidadAlumno correspondiente. Por tanto DNI \u2192 Nombre y DNI \u2192 LocalidadAlumno. Por otro lado siempre que aparece un Curso aparecer\u00e1 el Tutor correspondiente. Por tanto Curso \u2192 Tutor. Los atributos Nombre y LocalidadAlumno no dependen funcionalmente de Curso, y el atributo Tutor no depende funcionalmente de DNI.</li> <li>El \u00fanico atributo que s\u00ed depende de forma completa de la clave compuesta DNI y Curso es FechaMatr\u00edcula: (DNI,Curso) \u2192 FechaMatr\u00edcula.</li> </ul> <p>A la hora de establecer la Clave Primaria de una tabla debemos escoger un atributo o conjunto de ellos de los que dependan funcionalmente el resto de atributos. Adem\u00e1s debe ser una dependencia funcional completa. Si escogemos DNI como clave primaria, tenemos un atributo (Tutor) que no depende funcionalmente de \u00e9l. Si escogemos Curso como clave primaria, tenemos otros atributos que no dependen de \u00e9l.</p> <p>Si escogemos la combinaci\u00f3n (DNI, Curso) como clave primaria, entonces s\u00ed tenemos todo el resto de atributos con dependencia funcional respecto a esta clave. Pero es una dependencia parcial, no total (salvo FechaMatr\u00edcula, donde s\u00ed existe dependencia completa). Por tanto esta tabla no est\u00e1 en 2FN. La soluci\u00f3n ser\u00eda la siguiente:</p> AlumnosCursosMatr\u00edculas DNI Nombre Localidad Provincia 1111111A Eva \u00c9cija Sevilla 2222222B Ana \u00c9cija Sevilla 3333333C Susana \u00c9cija Sevilla 4444444D Juan El Villar C\u00f3rdoba 5555555E Jos\u00e9 El Villar C\u00f3rdoba Curso Tutor 1\u00ba ESO A Isabel 1\u00ba ESO B Roberto 2\u00ba ESO A Federico DNI Curso FechaMatricula 1111111A 1\u00ba ESO A 01-julio-2017 2222222B 1\u00ba ESO A 09-julio-2017 3333333C 1\u00ba ESO B 11-julio-2017 4444444D 2\u00ba ESO A 05-julio-2017 5555555E 2\u00ba ESO A 02-julio-2017"},{"location":"tema_2/page-7/#tercera-forma-normal-3fn","title":"Tercera Forma Normal (3FN)","text":"<p>Una Relaci\u00f3n esta en 3FN si y s\u00f3lo si est\u00e1 en 2FN y no existen dependencias transitivas. Todas las dependencias funcionales deben ser respecto a la clave principal.</p> <p>Ejemplo: Seguimos con el ejemplo anterior. Trabajaremos con la siguiente tabla:</p> DNI Nombre Localidad Provincia 1111111A Eva \u00c9cija Sevilla 2222222B Ana \u00c9cija Sevilla 3333333C Susana \u00c9cija Sevilla 4444444D Juan El Villar C\u00f3rdoba 5555555E Jos\u00e9 El Villar C\u00f3rdoba <p>Las dependencias funcionales existentes son las siguientes. Como podemos observar existe una dependencia funcional transitiva: DNI \u2192 Localidad \u2192 Provincia</p> <p> Figura 48 - Dependencias Transitivas</p> <p>Para que la tabla est\u00e9 en 3FN, no pueden existir dependencias funcionales transitivas. Para solucionar el problema deberemos crear una nueva tabla. El resultado es:</p> AlumnosLocalidades DNI Nombre Localidad 1111111A Eva \u00c9cija 2222222B Ana \u00c9cija 3333333C Susana \u00c9cija 4444444D Juan El Villar 5555555E Jos\u00e9 El Villar Localidad Provincia \u00c9cija Sevilla \u00c9cija Sevilla \u00c9cija Sevilla El Villar C\u00f3rdoba El Villar C\u00f3rdoba Resultado final Sin formalizarAlumnosLocalidadesTel\u00e9fonosCursosMatriculas DNI Nombre Curso FechaMatricula Tutor LocalidadAlumno ProvinciaAlumno Tel\u00e9fonos 1111111A Eva 1\u00ba ESO-A 01-julio-17 Isabel \u00c9cija Sevilla 6601234321 2222222B Ana 1\u00ba ESO-A 09-julio-17 Isabel \u00c9cija Sevilla 660345678660333222660234567 3333333C Susana 1\u00ba ESO-B 11-julio-17 Roberto \u00c9cija Sevilla 4444444D Juan 2\u00ba ESO-A 05-julio-17 Federico El Villar C\u00f3rdoba 5555555E Jos\u00e9 2\u00ba ESO-A 02-julio-17 Federico El Villar C\u00f3rdoba 660111222660111333 DNI Nombre Localidad 1111111A Eva \u00c9cija 2222222B Ana \u00c9cija 3333333C Susana \u00c9cija 4444444D Juan El Villar 5555555E Jos\u00e9 El Villar Localidad Provincia \u00c9cija Sevilla \u00c9cija Sevilla \u00c9cija Sevilla El Villar C\u00f3rdoba El Villar C\u00f3rdoba DNI Tel\u00e9fonos 1111111A 6601234321 2222222B 660345678 2222222C 660333222 2222222C 660333222 5555555E 660111222 5555555E 660111333 Curso Tutor 1\u00ba ESO A Isabel 1\u00ba ESO B Roberto 2\u00ba ESO A Federico DNI Curso FechaMatricula 1111111A 1\u00ba ESO A 01-julio-2017 2222222B 1\u00ba ESO A 09-julio-2017 3333333C 1\u00ba ESO B 11-julio-2017 4444444D 2\u00ba ESO A 05-julio-2017 5555555E 2\u00ba ESO A 02-julio-2017"},{"location":"tema_2/page-8/","title":"Ejercicios Propuestos","text":"Ejercicio 1 <p>Dado el siguiente esquema:</p> <p> Figura 49 - Ejercicio 1 </p> <p>a. Indica cu\u00e1les son las entidades del modelo, diferenciado entre entidades fuertes y d\u00e9biles, si las hubiera.</p> <p>b. Se\u00f1ala las relaciones e indica cual es la cardinalidad de cada una. Trata de indicar tambi\u00e9n la participaci\u00f3n de cada entidad en las relaciones as\u00ed como su rol.</p> <p>c. Se\u00f1ala si hay alguna relaci\u00f3n de dependencia o reflexiva.</p> <p>d. Trata de escribir atributos l\u00f3gicos para cada una de las entidades e indica en cada caso cual podr\u00eda ser el identificador.</p> <p>e. \u00bfQu\u00e9 significado tiene el atributo \u201cN\u00ba Goles\u201d?\u00bfPor qu\u00e9 est\u00e1 en la relaci\u00f3n en lugar de estar en JUGADOR o en PARTIDO?</p> Soluci\u00f3n <p>a. En este ejemplo, solo hay entidades fuertes: Equipo, Jugador, Partido</p> <p>b. Hay una relaci\u00f3n entre Equipo y jugador, llamada tiene y otra entre jugador y partido, llamada juega. </p> <p>En la relaci\u00f3n tiene, un equipo tiene como M\u00cdNIMO 1 jugador y como M\u00c1XIMO varios jugadores (N), mientras que un jugador pertenece como M\u00cdNIMO a un equipo, y como M\u00c1XIMO tambi\u00e9n (aunque haya casos que un jugador puede pertenecer a m\u00e1s de un equipo). Estamos, entonces, entre una relaci\u00f3n N:N</p> <p>En la relaci\u00f3n juega, un jugador puede jugar c\u00f3mo M\u00cdNIMO un partido (puede darse el caso de que un jugador no juegue ning\u00fan partido, eso depender\u00e1 del tipo de BBDD a construir), y como M\u00c1XIMO varios partidos. Mientras que, un partido debe ser jugado como M\u00cdNIMO por un jugador y como M\u00c1XIMO por varios. Estamos, entonces, entre una relaci\u00f3n N:N</p> <p>c. No hay relaci\u00f3n reflexiva.</p> <p>d. EQUIPO = NOMBRE, descripci\u00f3n, escudo, a\u00f1o_fundaci\u00f3n, etc.</p> <p>JUGADOR = N\u00daMERO, nombre, apellidos, localidad, etc</p> <p>PARTIDO = FECHA, lugar, etc.</p> <p>e. El atributo N\u00ba Goles indica el n\u00famero de goles que ha marcado un jugador en un partido. Pertenece a la relaci\u00f3n ya que no es un atributo propio de la entidad jugador, ni tampoco de la entidad partido, si no que, es un atributo de la acci\u00f3n que realiza un jugador en un partido.</p> Ejercicio 2 <p>Obt\u00e9n el diagrama E/R de las siguientes entidades:</p> <ul> <li>ALUMNO (N\u00fam_Matr\u00edcula, Nombre, FechaNacimiento, Tel\u00e9fono)</li> <li>ASIGNATURA (C\u00f3digo_asignatura, Nombre)</li> <li>PROFESOR (Id_P, NIF_P, Nombre, Especialidad, Tel\u00e9fono)</li> </ul> <p>Teniendo en cuenta:</p> <ul> <li>Un alumno puede estar matriculado de una o varias asignaturas.</li> <li>Adem\u00e1s puede estar matriculado en la misma asignatura m\u00e1s de un curso escolar (si repite).</li> <li>Se quiere saber el curso escolar en el que cada alumno est\u00e1 matriculado de cada asignatura.</li> <li>En una asignatura habr\u00e1 como m\u00ednimo 10 y como m\u00e1ximo 25 alumnos.</li> <li>Una asignatura es impartida por un \u00fanico profesor.</li> <li>Un profesor podr\u00e1 impartir varias asignaturas.</li> </ul> Ejercicio 3 <p>Obt\u00e9n el diagrama E/R de las siguientes entidades:</p> <ul> <li>REGI\u00d3N ( Nombre_Regi\u00f3n)</li> <li>PROVINCIA (C\u00f3digoProvincia, Nombre_provincia)</li> <li>LOCALIDAD (C\u00f3digo_localidad, Nombre)</li> <li>EMPLEADO (Id_E, DNI_E, Nombre, Tel\u00e9fono, Salario)</li> </ul> <p>Se quiere guardar informaci\u00f3n de la localidad donde ha nacido cada uno de los empleados teniendo en cuenta que:</p> <ul> <li>Un empleado ha nacido en una sola localidad.</li> <li>Cada localidad pertenece a una \u00fanica provincia.</li> <li>Cada provincia pertenece a una \u00fanica regi\u00f3n del pa\u00eds.</li> </ul>"},{"location":"tema_3/page-1/","title":"1 Consultas","text":""},{"location":"tema_3/page-1/#introduccion","title":"Introducci\u00f3n","text":"<p>Una consulta es la realizaci\u00f3n de la b\u00fasqueda de datos en una base datos. Puede ser de forma sencilla, buscar todos los campos de una tabla, de forma condicional, buscar los campos que cumplen una cierta condici\u00f3n de una tabla, o de forma relacional, buscar los campos de dos tablas relacionadas que cumplan ciertas condiciones.</p>"},{"location":"tema_3/page-1/#consultas-simples","title":"Consultas simples","text":"<p>Para realizar consultas a una base de datos relacional hacemos uso de la sentencia SELECT. La sintaxis b\u00e1sica del comando SELECT es la siguiente:</p> <pre><code>SELECT * | {[ DISTINCT ] columna | expresi\u00f3n [[AS] alias ], ...}\nFROM nombre_tabla;\n</code></pre> <p>Donde:</p> <ul> <li>***.** El asterisco significa que se seleccionan todas las columnas.</li> <li>DISTINCT. Hace que no se muestren los valores duplicados.</li> <li>columna. Es el nombre de una columna de la tabla que se desea mostrar.</li> <li>expresi\u00f3n. Una expresi\u00f3n v\u00e1lida SQL.</li> <li>alias. Es un nombre que se le da a la cabecera de la columna en el resultado de esta instrucci\u00f3n.</li> </ul> <p>Ejemplo:</p> <pre><code>-- Selecci\u00f3n de todos los registros de la tabla CLIENTES\nSELECT * FROM CLIENTES;\n-- Selecci\u00f3n de algunos campos de la tabla CLIENTES\nSELECT nombre, apellido1, apellido2 FROM CLIENTES;\n</code></pre>"},{"location":"tema_3/page-1/#calculos","title":"C\u00e1lculos","text":"<p>Los operadores + (suma), - (resta), * (multiplicaci\u00f3n) y / (divisi\u00f3n), se pueden utilizar para hacer c\u00e1lculos en las consultas. Cuando se utilizan como expresi\u00f3n en una consulta SELECT, no modifican los datos originales.</p> <pre><code>-- Consulta con 3 columnas\nSELECT nombre, precio, precio*1.16 FROM ARTICULOS;\n-- Ponemos un alias a la tercera columna.\n-- Las comillas dobles en el alias hacen que se respeten may\u00fasculas y min\u00fasculas,\n-- de otro modo siempre aparece en may\u00fasculas\nSELECT nombre, precio, precio*1.16 AS \"Precio + IVA\" FROM ARTICULOS;\n</code></pre> <p>La prioridad de esos operadores es: tienen m\u00e1s prioridad la multiplicaci\u00f3n y divisi\u00f3n, despu\u00e9s la suma y la resta. En caso de igualdad de prioridad, se realiza primero la operaci\u00f3n que est\u00e9 m\u00e1s a la izquierda. Como es l\u00f3gico se puede evitar cumplir esa prioridad usando par\u00e9ntesis; el interior de los par\u00e9ntesis es lo que se ejecuta primero.</p> <p>OJO</p> <p>Cuando una expresi\u00f3n aritm\u00e9tica se calcula sobre valores <code>NULL</code>, el resultado de la expresi\u00f3n es siempre <code>NULL</code>.</p>"},{"location":"tema_3/page-2/","title":"2 Consultas Condicionales","text":""},{"location":"tema_3/page-2/#clausula-where","title":"Clausula WHERE","text":"<p>Se puede realizar consultas que restrinjan los datos de salida de las tablas. Para ello se utiliza la cl\u00e1usula <code>WHERE</code>. Esta cl\u00e1usula permite colocar una condici\u00f3n que han de cumplir todos los registros que queremos que se muestren. Las filas que no la cumplan no aparecer\u00e1n en la ejecuci\u00f3n de la consulta.</p> <p>Ejemplo:</p> <pre><code>-- Tipo y modelo de las piezas cuyo precio es mayor que 3\nSELECT tipo, modelo\nFROM PIEZAS\nWHERE precio &gt; 3;\n</code></pre>"},{"location":"tema_3/page-2/#operadores-de-comparacion","title":"Operadores de comparaci\u00f3n","text":"<p>Los operadores de comparaci\u00f3n que se pueden utilizar en la cl\u00e1usula WHERE son:</p> Operador Significado &lt; Menor que &gt; Mayor que &lt;= Menor o igual que &gt;= Mayor o igual que = Igual != Distinto <p>Se pueden utilizar tanto para comparar n\u00fameros como para comparar textos y fechas. En el caso de los textos, las comparaciones se hacen en orden alfab\u00e9tico. S\u00f3lo que es un orden alfab\u00e9tico estricto. Es decir el orden de los caracteres en la tabla de c\u00f3digos. As\u00ed la letra \u00d1 y las vocales acentuadas nunca quedan bien ordenadas ya que figuran con c\u00f3digos m\u00e1s altos. Las may\u00fasculas figuran antes que las min\u00fasculas (la letra \u201cZ\u201d es menor que la \u201ca\u201d).</p>"},{"location":"tema_3/page-2/#operadores-logicos","title":"Operadores l\u00f3gicos","text":"Operador Significado AND Devuelve verdadero si las expresiones a su izquierda y derecha son verdaderas OR Devuelve verdadero si cualquiera de las dos expresiones a su izquierda y derecha son verdaderas AND Invierta la l\u00f3gica de la expresi\u00f3n que est\u00e1 a su derecha. Si era verdadera, mediante a NOT pasa a ser falso <p>Ejemplos:</p> <pre><code>-- Personas entre 25 y 50 a\u00f1os\nSELECT nombre, apellidos\nFROM PERSONAS\nWHERE edad &gt;= 25 AND edad &lt;= 50;\n-- Personas de m\u00e1s de 60 y menos de 20\nSELECT nombre, apellidos\nFROM PERSONAS\nWHERE edad &gt; 60 OR edad &lt; 20;\n</code></pre>"},{"location":"tema_3/page-2/#between","title":"Between","text":"<p>El operador <code>BETWEEN</code> nos permite obtener datos que se encuentren entre dos valores determinados (incluyendo los dos extremos).</p> <p>Ejemplo:</p> <pre><code>-- Selecci\u00f3n de las piezas cuyo precio est\u00e1 entre 3 y 8\n-- (ambos valores incluidos)\nSELECT tipo, modelo, precio\nFROM PIEZAS\nWHERE precio BETWEEN 3 AND 8;\n</code></pre> <p>El operador <code>NOT BETWEEN</code> nos permite obtener los los valores que son menores (estrictamente) que el m\u00e1s peque\u00f1o y mayores (estrictamente) que el m\u00e1s grande. Es decir, no incluye los extremos.</p> <pre><code>-- Selecci\u00f3n de las piezas cuyo precio sea menor que 3 o mayor que 8\n-- (los de precio 3 y precio 8 no estar\u00e1n incluidos)\nSELECT tipo, modelo, precio\nFROM PIEZAS\nWHERE precio NOT BETWEEN 3 AND 8;\n</code></pre>"},{"location":"tema_3/page-2/#in","title":"IN","text":"<p>El operador <code>IN</code> nos permite obtener registros cuyos valores est\u00e9n en una lista:</p> <pre><code>-- Selecci\u00f3n de las piezas cuyo precio sea igual a 3, 5 u 8\nSELECT tipo, modelo, precio\nFROM PIEZAS\nWHERE precio IN ( 3,5,8 );\n-- Selecci\u00f3n de las piezas cuyo precio no sea igual a 3, 5 u 8\nSELECT tipo, modelo, precio\nFROM PIEZAS\nWHERE precio NOT IN ( 3,5,8 );\n</code></pre>"},{"location":"tema_3/page-2/#like","title":"LIKE","text":"<p>El operador <code>LIKE</code> se usa sobre todo con textos, permite obtener registros cuyo valor en un campo cumpla una condici\u00f3n textual. LIKE utiliza una cadena que puede contener estos s\u00edmbolos:</p> Operador Significado % Una serie cualquiera de caracteres. _ Un car\u00e1cter cualquiera. <pre><code>-- Selecci\u00f3n el nombre de las personas que empiezan por A\nSELECT nombre\nFROM PERSONAS\nWHERE nombre LIKE 'A%';\n-- Selecci\u00f3n el nombre y los apellidos de las personas\ncuyo primer apellido sea Jim\u00e9nez, Gim\u00e9nez, Xim\u00e9nez\nSELECT nombre, apellido1, apellido2\nFROM PERSONAS\nWHERE apellido1 LIKE '_im\u00e9nez';\n</code></pre> <p>Si queremos que en la cadena de caracteres se busquen los caracteres % o _ le anteponemos el s\u00edmbolo escape:</p> <pre><code>-- Seleccionamos el tipo, el modelo y el precio de las piezas\n-- cuyo porcentaje de descuento sea 3%\nSELECT tipo, modelo, precio\nFROM PIEZAS\nWHERE descuento LIKE '3\\%' ESCAPE '\\';\n</code></pre>"},{"location":"tema_3/page-2/#is-null","title":"IS NULL","text":"<p>La cl\u00e1usula <code>IS NULL</code> devuelve verdadero si una expresi\u00f3n contiene un nulo, y Falso en caso contrario. La cl\u00e1usula <code>IS NOT NULL</code> devuelve verdadero si una expresi\u00f3n NO contiene un nulo, y Falso en caso contrario.</p> <pre><code>-- Devuelve el nombre y los apellidos de las personas que NO tienen tel\u00e9fono\nSELECT nombre, apellido1, apellido2\nFROM PERSONAS\nWHERE telefono IS NULL;\n-- Devuelve el nombre y los apellidos de las personas que S\u00cd tienen tel\u00e9fono\nSELECT nombre, apellido1, apellido2\nFROM PERSONAS\nWHERE telefono IS NOT NULL;\n</code></pre>"},{"location":"tema_3/page-2/#procedencias-de-operadores","title":"Procedencias de operadores","text":"<p>A veces las expresiones que se producen en los SELECT son muy extensas y es dif\u00edcil saber que parte de la expresi\u00f3n se eval\u00faa primero, por ello se indica la siguiente tabla de precedencia:</p> Orden de procedencia Operador 1 * / 2 + - 3 Comparaciones 4 IS NULL, LIKE, IN, BETWEEN... 5 NOT 6 AND 7 OR"},{"location":"tema_3/page-2/#ordenacion","title":"Ordenaci\u00f3n","text":"<p>El orden inicial de los registros obtenidos por un SELECT guarda una relaci\u00f3n con al orden en el que fueron introducidos. Para ordenar en base a criterios m\u00e1s interesantes, se utiliza la cl\u00e1usula <code>ORDER BY</code>. En esa cl\u00e1usula se coloca una lista de campos que indica la forma de ordenar.</p> <p>Se ordena primero por el primer campo de la lista, si hay coincidencias por el segundo, si ah\u00ed tambi\u00e9n las hay por el tercero, y as\u00ed sucesivamente. Se puede colocar las palabras <code>ASC</code> O <code>DESC</code> (por defecto se toma ASC). Esas palabras significan en ascendente (de la A a la Z, de los n\u00fameros peque\u00f1os a los grandes) o en descendente (de la Z a la a, de los n\u00fameros grandes a los peque\u00f1os) respectivamente.</p> <p>Sintaxis completa de SELECT:</p> <pre><code>SELECT * | {[DISTINCT] columna | expresi\u00f3n [[AS] alias], ... }\nFROM nombre_tabla\n[WHERE condici\u00f3n]\n[ORDER BY columna1[{ASC|DESC}]][,columna2[{ASC|DESC}]]...;\n</code></pre> <p>Ejemplo:</p> <pre><code>-- Devuelve el nombre y los apellidos\n-- de las personas que tienen tel\u00e9fono, ordenados por\n-- apellido1, luego por apellido2 y finalmente por nombre\nSELECT nombre, apellido1, apellido2\nFROM PERSONAS\nWHERE telefono IS NOT NULL\nORDER BY apellido1, apellido2, nombre;\n</code></pre>"},{"location":"tema_3/page-2/#limitacion","title":"Limitaci\u00f3n","text":"<p>Si se desea limitar una consulta, existe la cl\u00e1usula <code>LIMIT</code> seguida del rango o n\u00famero que se desea limitar la consulta.</p> <p>Sintaxis completa de SELECT:</p> <pre><code>SELECT * | {[DISTINCT] columna | expresi\u00f3n [[AS] alias], ... }\nFROM nombre_tabla\n[WHERE condici\u00f3n]\n[ORDER BY columna1[{ASC|DESC}]][,columna2[{ASC|DESC}]]...\n[LIMIT number|range];\n</code></pre> <p>Ejemplo:</p> <pre><code>-- Devuelve los tres primeros clientes, cuya ciudad es Alemania\nSELECT * FROM clientes\nWHERE ciudad='Alemania'\nLIMIT 3;\n-- Devuelve el segundo y tercer cliente, cuya ciudad es Alemania\nSELECT * FROM clientes\nWHERE ciudad='Alemania'\nLIMIT 2,3;\n</code></pre>"},{"location":"tema_3/page-3/","title":"3 Consultas relacionadas","text":""},{"location":"tema_3/page-3/#introduccion","title":"Introducci\u00f3n","text":"<p>Supongamos que queremos obtener todos los clientes que han realizado un pedido en una fecha determinada. Como se puede observar, en este caso se esta realizando un consulta que requiere informaci\u00f3n de dos tablas.</p> <p>Cuando se require informaci\u00f3n de dos o m\u00e1s tablas, es necesario realizar una consulta relacional.</p> <p>Existen tres formas de realizar consultas relacionas:</p> <ul> <li>Subconsultas</li> <li>Asociaciones de tablas</li> <li>Combinaciones de tablas</li> </ul> <p>En cada una de ellas, se tendr\u00e1 que validar si las tablas est\u00e1n o no relacionadas.</p>"},{"location":"tema_3/page-3/#subconsultas","title":"Subconsultas","text":"<p>Se trata de una t\u00e9cnica que permite utilizar el resultado de una tabla SELECT en otra consulta SELECT. Permite solucionar problemas en los que el mismo dato aparece dos veces. La sintaxis es:</p> <pre><code>SELECT lista_expresiones\nFROM tablas\nWHERE expresi\u00f3n OPERADOR\n( SELECT lista_expresiones\nFROM tablas );\n</code></pre> <p>El operador puede ser &gt;,&lt;,&gt;=,&lt;=,!=, = o IN.</p> <pre><code>-- Obtiene los empleados cuyas pagas sean inferiores a lo que gana Martina.\nSELECT nombre_empleado, paga\nFROM EMPLEADOS\nWHERE paga &lt; ( SELECT paga\nFROM EMPLEADOS\nWHERE nombre_empleado='Martina');\n</code></pre> <p>L\u00f3gicamente el resultado de la subconsulta debe incluir el campo que estamos analizando.</p> <p>Se pueden realizar esas subconsultas las veces que haga falta:</p> <pre><code>SELECT nombre_empleado, paga\nFROM EMPLEADOS\nWHERE paga &lt; ( SELECT paga\nFROM EMPLEADOS\nWHERE nombre_empleado='Martina')\nAND   paga &gt; ( SELECT paga\nFROM EMPLEADOS\nWHERE nombre_empleado='Luis');\n</code></pre> <p>La \u00faltima consulta obtiene los empleados cuyas pagas est\u00e9n entre lo que gana Luis y lo que gana Martina. Una subconsulta que utilice los valores &gt;,&lt;,&gt;=,\u2026 tiene que devolver un \u00fanico valor, de otro modo ocurre un error. Pero a veces se utilizan consultas del tipo: mostrar el sueldo y nombre de los empleados cuyo sueldo supera al de cualquier empleado del departamento de ventas.</p> <p>La subconsulta necesaria para ese resultado mostrar\u00eda los sueldos del departamento de ventas. Pero no podremos utilizar un operador de comparaci\u00f3n directamente ya que comparar\u00edamos un valor con muchos valores. La soluci\u00f3n a esto es utilizar instrucciones especiales entre el operador y la consulta. Esas instrucciones son:</p> Instrucci\u00f3n Significado ANY Compara con cualquier registro de la consulta.La instrucci\u00f3n es v\u00e1lida si hay un registro en la subconsulta que permite que la comparaci\u00f3n sea cierta. ALL Compara con todos los registros de la consulta.La instrucci\u00f3n resulta cierta si es cierta toda la comparaci\u00f3n con los registros de la subconsulta. IN NO usa comparador, ya que sirve para comprobar si un valor se encuentra en el resultado de la subconsulta NOT IN Comprueba si un valor no se encuentra en una subconsulta EXISTS Comprueba si los valores de la consulta 1 existen en la consulta 2 NOT EXISTS Comprueba si los valores de la consulta 1 no existen en la consulta 2 <pre><code>-- Obtiene el empleado que m\u00e1s cobra.\nSELECT nombre, sueldo\nFROM EMPLEADOS\nWHERE sueldo &gt;= ALL ( SELECT sueldo\nFROM EMPLEADOS );\n-- Obtiene los nombres de los empleados cuyos DNI est\u00e1n en la tabla de directivos.\n-- Es decir, obtendr\u00e1 el nombre de los empleados que son directivos.\nSELECT nombre, sueldo\nFROM EMPLEADOS\nWHERE DNI IN ( SELECT DNI\nFROM DIRECTIVOS );\n--- Obtiene el tipo de tiendas que existen en las ciudades\nSELECT DISTINCT tipo FROM tiendas\nWHERE EXISTS (SELECT * FROM ciudades\nWHERE ciudades.tipo_tienda = tiendas.tipo);\n</code></pre>"},{"location":"tema_3/page-8/","title":"Ejercicios propuestos","text":"Ejercicios sobre la base de datos VENTAS <ol> <li>Devuelve todos los comercial cuya comisi\u00f3n sea mayor que 0.11</li> <li>Devuelve todos los comercial, mostrando todos sus datos. Adem\u00e1s muestra tambi\u00e9n su salario total (salario base * (1+comisi\u00f3n)) sabiendo que el salario base es de 1000\u20ac. En la columna debe aparecer Salario Total</li> <li>Muestra la misma consulta anterior pero mostrando el nombre completo del comercial en una sola columna.</li> <li>Muestra todos los clientes que sean de Granada y cuya categor\u00eda sea la 200</li> <li>Muestra todos los pedidos realizados por el cliente 3 o realizados en la fecha \u20182017-10-05\u2019</li> <li>Devuelve todos los pedidos realizados en Octubre</li> <li>Devuelve todos los nombres de comerciales cuya tercera letra sea una N</li> <li>Devuelve todos los clientes  que no tengan categor\u00eda y su nombre empieza por A</li> <li>Devuelve todos los comerciales cuyo nombre termine en A o cuyo apellidos contengan una E</li> <li>Devuelve los pedidos comprendidos entre la fecha 10/09/2017 y 10/05/2017 o los haya realizado los clientes 1,2 o 3</li> </ol> Ejercicios sobre la base de datos VENTAS II <ol> <li>Devuelve un listado con todos los pedidos que se han realizado. Los pedidos deben estar ordenados por la fecha de realizaci\u00f3n, mostrando en primer lugar los pedidos m\u00e1s recientes.</li> <li>Devuelve todos los datos de los dos pedidos de mayor valor.</li> <li>Devuelve un listado con los identificadores de los clientes que han realizado alg\u00fan pedido. Tenga en cuenta que no debe mostrar identificadores que est\u00e9n repetidos.</li> <li>Devuelve un listado de todos los pedidos que se realizaron durante el a\u00f1o 2017, cuya cantidad total sea superior a 500\u20ac.</li> <li>Devuelve un listado con el nombre y los apellidos de los comerciales que tienen una comisi\u00f3n entre 0.05 y 0.11.</li> <li>Devuelve el valor de la comisi\u00f3n de mayor valor que existe en la tabla comercial.</li> <li>Devuelve el identificador, nombre y primer apellido de aquellos clientes cuyo segundo apellido no es NULL. El listado deber\u00e1 estar ordenado alfab\u00e9ticamente por apellidos y nombre.</li> <li>Devuelve un listado de los nombres de los clientes que empiezan por A y terminan por n y tambi\u00e9n los nombres que empiezan por P. El listado deber\u00e1 estar ordenado alfab\u00e9ticamente.</li> <li>Devuelve un listado de los nombres de los clientes que no empiezan por A. El listado deber\u00e1 estar ordenado alfab\u00e9ticamente.</li> <li>Devuelve un listado con los nombres de los comerciales que terminan por el o o. Tenga en cuenta que se deber\u00e1n eliminar los nombres repetidos.</li> </ol> Ejercicios sobre la base de datos VENTAS III <ol> <li>Devuelve un listado con todos los pedidos que ha realizado Adela Salas D\u00edaz. </li> <li>Devuelve el n\u00famero de pedidos en los que ha participado el comercial Daniel S\u00e1ez Vega. </li> <li>Devuelve los datos del cliente que realiz\u00f3 el pedido m\u00e1s caro en el a\u00f1o 2019. </li> <li>Devuelve la fecha y la cantidad del pedido de menor valor realizado por el cliente Pepe Ruiz Santana.</li> <li>Devuelve un listado con los datos de los clientes y los pedidos, de todos los clientes que han realizado un pedido durante el a\u00f1o 2017 con un valor mayor o igual al valor medio de los pedidos realizados durante ese mismo a\u00f1o.</li> <li>Devuelve el pedido m\u00e1s caro que existe en la tabla pedido si hacer uso de MAX, ORDER BY ni LIMIT.</li> <li>Devuelve un listado de los clientes que no han realizado ning\u00fan pedido.</li> <li>Devuelve un listado de los comerciales que no han realizado ning\u00fan pedido.</li> <li>Devuelve un listado de los clientes que no han realizado ning\u00fan pedido.</li> <li>Devuelve un listado de los comerciales que no han realizado ning\u00fan pedido.</li> <li>Devuelve un listado de los clientes que no han realizado ning\u00fan pedido.</li> <li>Devuelve un listado de los comerciales que no han realizado ning\u00fan pedido.</li> </ol> Ejercicios sobre la base de datos VENTAS IV <ol> <li>Devuelve un listado con el identificador, nombre y los apellidos de todos los clientes que han realizado alg\u00fan pedido. El listado debe estar ordenado alfab\u00e9ticamente y se deben eliminar los elementos repetidos.</li> <li>Devuelve un listado que muestre todos los pedidos que ha realizado cada cliente. El resultado debe mostrar todos los datos de los pedidos y del cliente. El listado debe mostrar los datos de los clientes ordenados alfab\u00e9ticamente.</li> <li>Devuelve un listado que muestre todos los pedidos en los que ha participado un comercial. El resultado debe mostrar todos los datos de los pedidos y de los comerciales. El listado debe mostrar los datos de los comerciales ordenados alfab\u00e9ticamente.</li> <li>Devuelve un listado que muestre todos los clientes, con todos los pedidos que han realizado y con los datos de los comerciales asociados a cada pedido.</li> <li>Devuelve un listado de todos los clientes que realizaron un pedido durante el a\u00f1o 2017, cuya cantidad est\u00e9 entre 300 \u20ac y 1000 \u20ac.</li> <li>Devuelve el nombre y los apellidos de todos los comerciales que ha participado en alg\u00fan pedido realizado por Mar\u00eda Santana Moreno.</li> <li>Devuelve el nombre de todos los clientes que han realizado alg\u00fan pedido con el comercial Daniel S\u00e1ez Vega.</li> </ol> Ejercicios sobre la base de datos VENTAS V <ol> <li>Devuelve un listado con todos los clientes junto con los datos de los pedidos que han realizado. Este listado tambi\u00e9n debe incluir los clientes que no han realizado ning\u00fan pedido. El listado debe estar ordenado alfab\u00e9ticamente por el primer apellido, segundo apellido y nombre de los clientes.</li> <li>Devuelve un listado con todos los comerciales junto con los datos de los pedidos que han realizado. Este listado tambi\u00e9n debe incluir los comerciales que no han realizado ning\u00fan pedido. El listado debe estar ordenado alfab\u00e9ticamente por el primer apellido, segundo apellido y nombre de los comerciales.</li> <li>Devuelve un listado que solamente muestre los clientes que no han realizado ning\u00fan pedido.</li> <li>Devuelve un listado que solamente muestre los comerciales que no han realizado ning\u00fan pedido.</li> <li>Devuelve un listado con los clientes que no han realizado ning\u00fan pedido y de los comerciales que no han participado en ning\u00fan pedido. Ordene el listado alfab\u00e9ticamente por los apellidos y el nombre. En en listado deber\u00e1 diferenciar de alg\u00fan modo los clientes y los comerciales.</li> <li>\u00bfSe podr\u00edan realizar las consultas anteriores con NATURAL LEFT JOIN o NATURAL RIGHT JOIN? Justifique su respuesta.</li> </ol> Ejercicios sobre la base de datos VENTAS VI <ol> <li>Calcula la cantidad total que suman todos los pedidos que aparecen en la tabla pedido.</li> <li>Calcula la cantidad media de todos los pedidos que aparecen en la tabla pedido.</li> <li>Calcula el n\u00famero total de comerciales distintos que aparecen en la tabla pedido.</li> <li>Calcula el n\u00famero total de clientes que aparecen en la tabla cliente.</li> <li>Calcula cu\u00e1l es la mayor cantidad que aparece en la tabla pedido.</li> <li>Calcula cu\u00e1l es la menor cantidad que aparece en la tabla pedido.</li> <li>Calcula cu\u00e1l es el valor m\u00e1ximo de categor\u00eda para cada una de las ciudades que aparece en la tabla cliente.</li> <li>Calcula cu\u00e1l es el m\u00e1ximo valor de los pedidos realizados durante el mismo d\u00eda para cada uno de los clientes. Es decir, el mismo cliente puede haber realizado varios pedidos de diferentes cantidades el mismo d\u00eda. Se pide que se calcule cu\u00e1l es el pedido de m\u00e1ximo valor para cada uno de los d\u00edas en los que un cliente ha realizado un pedido. Muestra el identificador del cliente, nombre, apellidos, la fecha y el valor de la cantidad.</li> <li>Calcula cu\u00e1l es el m\u00e1ximo valor de los pedidos realizados durante el mismo d\u00eda para cada uno de los clientes, teniendo en cuenta que s\u00f3lo queremos mostrar aquellos pedidos que superen la cantidad de 2000 \u20ac.</li> <li>Calcula el m\u00e1ximo valor de los pedidos realizados para cada uno de los comerciales durante la fecha 2016-08-17. Muestra el identificador del comercial, nombre, apellidos y total.</li> <li>Devuelve un listado con el identificador de cliente, nombre y apellidos y el n\u00famero total de pedidos que ha realizado cada uno de clientes. Tenga en cuenta que pueden existir clientes que no han realizado ning\u00fan pedido. Estos clientes tambi\u00e9n deben aparecer en el listado indicando que el n\u00famero de pedidos realizados es 0.</li> <li>Devuelve un listado con el identificador de cliente, nombre y apellidos y el n\u00famero total de pedidos que ha realizado cada uno de clientes durante el a\u00f1o 2017.</li> <li>Devuelve un listado que muestre el identificador de cliente, nombre, primer apellido y el valor de la m\u00e1xima cantidad del pedido realizado por cada uno de los clientes. El resultado debe mostrar aquellos clientes que no han realizado ning\u00fan pedido indicando que la m\u00e1xima cantidad de sus pedidos realizados es 0. Puede hacer uso de la funci\u00f3n IFNULL.</li> <li>Devuelve cu\u00e1l ha sido el pedido de m\u00e1ximo valor que se ha realizado cada a\u00f1o.</li> <li>Devuelve el n\u00famero total de pedidos que se han realizado cada a\u00f1o.</li> </ol>"}]}