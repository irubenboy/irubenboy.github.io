<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="A page with notes about Java"><meta name=author content=irubenboy><link href=https://irubenboy.github.io/sql/tema_3/page-4/ rel=canonical><link href=../page-3/ rel=prev><link href=../page-8/ rel=next><link rel=icon href=../../assets/images/favicon.png><meta name=generator content="mkdocs-1.4.2, mkdocs-material-9.0.6"><title>4 Combinaciones de tablas (JOIN) - SQL</title><link rel=stylesheet href=../../assets/stylesheets/main.558e4712.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.2505c338.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../extra/extra.css><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script>"undefined"!=typeof __md_analytics&&__md_analytics()</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary data-md-color-accent> <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#4-combinaciones-de-tablas-join class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../.. title=SQL class="md-header__button md-logo" aria-label=SQL data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 89 89"> <path d=M3.136,17.387l0,42.932l42.932,21.467l-42.932,-64.399Z /> <path d=M21.91,8l42.933,64.398l-18.775,9.388l-42.932,-64.399l18.774,-9.387Z style="fill-opacity: 0.5"/> <path d=M67.535,17.387l-27.262,18.156l21.878,32.818l5.384,2.691l0,-53.665Z /> <path d=M67.535,17.387l0,53.666l18.774,-9.388l0,-53.665l-18.774,9.387Z style="fill-opacity: 0.25"/> </svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> SQL </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> 4 Combinaciones de tablas (JOIN) </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media data-md-color-scheme=default data-md-color-primary data-md-color-accent aria-label="Switch to dark mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_2 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg> </label> <input class=md-option data-md-color-media data-md-color-scheme=slate data-md-color-primary data-md-color-accent aria-label="Switch to light mode" type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg> </label> </form> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/irubenboy/sql title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> irubenboy/sql </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class="md-tabs__inner md-grid"> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../.. class="md-tabs__link md-tabs__link--active"> SGBD </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title=SQL class="md-nav__button md-logo" aria-label=SQL data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 89 89"> <path d=M3.136,17.387l0,42.932l42.932,21.467l-42.932,-64.399Z /> <path d=M21.91,8l42.933,64.398l-18.775,9.388l-42.932,-64.399l18.774,-9.387Z style="fill-opacity: 0.5"/> <path d=M67.535,17.387l-27.262,18.156l21.878,32.818l5.384,2.691l0,-53.665Z /> <path d=M67.535,17.387l0,53.666l18.774,-9.388l0,-53.665l-18.774,9.387Z style="fill-opacity: 0.25"/> </svg> </a> SQL </label> <div class=md-nav__source> <a href=https://github.com/irubenboy/sql title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> irubenboy/sql </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " data-md-toggle=__nav_1 type=checkbox id=__nav_1 checked> <label class=md-nav__link for=__nav_1 tabindex=0 aria-expanded=true> SGBD <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=SGBD data-md-level=1> <label class=md-nav__title for=__nav_1> <span class="md-nav__icon md-icon"></span> SGBD </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. class=md-nav__link> Bienvenidxs </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " data-md-toggle=__nav_1_2 type=checkbox id=__nav_1_2> <label class=md-nav__link for=__nav_1_2 tabindex=0 aria-expanded=false> Tema 1 - Elementos de una base de datos <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Tema 1 - Elementos de una base de datos" data-md-level=2> <label class=md-nav__title for=__nav_1_2> <span class="md-nav__icon md-icon"></span> Tema 1 - Elementos de una base de datos </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../tema_1/page-1/ class=md-nav__link> 1 Introducción a las bases de datos </a> </li> <li class=md-nav__item> <a href=../../tema_1/page-2/ class=md-nav__link> 2 Evolución histórica y tipos de BD </a> </li> <li class=md-nav__item> <a href=../../tema_1/page-3/ class=md-nav__link> 3 Conceptos básicos de una base de datos </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " data-md-toggle=__nav_1_3 type=checkbox id=__nav_1_3> <label class=md-nav__link for=__nav_1_3 tabindex=0 aria-expanded=false> Tema 2 - Diseño de modelos lógicos normalizados <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Tema 2 - Diseño de modelos lógicos normalizados" data-md-level=2> <label class=md-nav__title for=__nav_1_3> <span class="md-nav__icon md-icon"></span> Tema 2 - Diseño de modelos lógicos normalizados </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../tema_2/page-1/ class=md-nav__link> 1 Diseñar de base de datos </a> </li> <li class=md-nav__item> <a href=../../tema_2/page-2/ class=md-nav__link> 2 Modelo E/R: Introducción </a> </li> <li class=md-nav__item> <a href=../../tema_2/page-3/ class=md-nav__link> 3 Modelo E/R: Relaciones </a> </li> <li class=md-nav__item> <a href=../../tema_2/page-4/ class=md-nav__link> 4 Modelo E/R Extendido </a> </li> <li class=md-nav__item> <a href=../../tema_2/page-5/ class=md-nav__link> 5 Modelo Relacional </a> </li> <li class=md-nav__item> <a href=../../tema_2/page-6/ class=md-nav__link> 6 Transformación del Modelo E/R a Relacional </a> </li> <li class=md-nav__item> <a href=../../tema_2/page-7/ class=md-nav__link> 7 Normalización </a> </li> <li class=md-nav__item> <a href=../../tema_2/page-8/ class=md-nav__link> Ejercicios Propuestos </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " data-md-toggle=__nav_1_4 type=checkbox id=__nav_1_4 checked> <label class=md-nav__link for=__nav_1_4 tabindex=0 aria-expanded=true> Tema 3 - Lenguaje de Manipulación de datos <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Tema 3 - Lenguaje de Manipulación de datos" data-md-level=2> <label class=md-nav__title for=__nav_1_4> <span class="md-nav__icon md-icon"></span> Tema 3 - Lenguaje de Manipulación de datos </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../page-1/ class=md-nav__link> 1 Consultas </a> </li> <li class=md-nav__item> <a href=../page-2/ class=md-nav__link> 2 Consultas Condicionales </a> </li> <li class=md-nav__item> <a href=../page-3/ class=md-nav__link> 3 Consultas relacionadas </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> 4 Combinaciones de tablas (JOIN) <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> 4 Combinaciones de tablas (JOIN) </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#introduccion class=md-nav__link> Introducción </a> </li> <li class=md-nav__item> <a href=#inner-join class=md-nav__link> Inner Join </a> <nav class=md-nav aria-label="Inner Join"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#join class=md-nav__link> Join </a> </li> <li class=md-nav__item> <a href=#self-join class=md-nav__link> Self Join </a> </li> <li class=md-nav__item> <a href=#natural-join class=md-nav__link> Natural Join </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#outer-join class=md-nav__link> Outer Join </a> <nav class=md-nav aria-label="Outer Join"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#left-join class=md-nav__link> Left Join </a> </li> <li class=md-nav__item> <a href=#right-join class=md-nav__link> Right Join </a> </li> <li class=md-nav__item> <a href=#full-join class=md-nav__link> Full Join </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#cross-join class=md-nav__link> Cross Join </a> </li> <li class=md-nav__item> <a href=#combinaciones-especiales class=md-nav__link> Combinaciones especiales </a> <nav class=md-nav aria-label="Combinaciones especiales"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#uniones class=md-nav__link> Uniones </a> </li> <li class=md-nav__item> <a href=#intersecciones class=md-nav__link> Intersecciones </a> </li> <li class=md-nav__item> <a href=#diferencia class=md-nav__link> Diferencia </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#resumen class=md-nav__link> Resumen </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../page-8/ class=md-nav__link> Ejercicios propuestos </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=4-combinaciones-de-tablas-join>4 Combinaciones de tablas (JOIN)<a class=headerlink href=#4-combinaciones-de-tablas-join title="Permanent link">&para;</a></h1> <h2 id=introduccion>Introducción<a class=headerlink href=#introduccion title="Permanent link">&para;</a></h2> <p>Existe otra forma más moderna e intuitiva de trabajar con varias tablas. Para ello se utiliza la clausula JOIN. Supongamos que tenemos una base de datos de una entidad bancaria. Disponemos de una tabla con sus empleados y otra tabla con sus sucursales. En una sucursal trabajan varios empleados. Los empleados viven en una localidad y trabajan en una sucursal situada en la misma localidad o en otra localidad. El esquema E-R es el siguiente:</p> <figure> <p><img alt="Figura 1 - ER Empleados" src=../res/empleados_er.webp> <figcaption>Figura 1 - ER Empleados</figcaption></p> </figure> <p>Los datos de las tablas son:</p> <div class="tabbed-set tabbed-alternate" data-tabs=1:2><input checked=checked id=__tabbed_1_1 name=__tabbed_1 type=radio><input id=__tabbed_1_2 name=__tabbed_1 type=radio><div class=tabbed-labels><label for=__tabbed_1_1>Empleados</label><label for=__tabbed_1_2>Sucursales</label></div> <div class=tabbed-content> <div class=tabbed-block> <table> <thead> <tr> <th>DNI</th> <th>Nombre</th> <th>Localidad</th> <th>Cod_Sucursal</th> </tr> </thead> <tbody> <tr> <td>11111111A</td> <td>Ana</td> <td>Almería</td> <td>0001</td> </tr> <tr> <td>22222222B</td> <td>Bernardo</td> <td>Granada</td> <td>0001</td> </tr> <tr> <td>33333333C</td> <td>Carlos</td> <td>Granada</td> <td></td> </tr> <tr> <td>44444444D</td> <td>David</td> <td>Jerez</td> <td>0003</td> </tr> </tbody> </table> </div> <div class=tabbed-block> <table> <thead> <tr> <th>Cod_Sucursal</th> <th>Dirección</th> <th>Localidad</th> </tr> </thead> <tbody> <tr> <td>0001</td> <td>C/Ancha, 1</td> <td>Almería</td> </tr> <tr> <td>0002</td> <td>C/Nueva, 1</td> <td>Granada</td> </tr> <tr> <td>0003</td> <td>C/Cortés, 33</td> <td>Cádiz</td> </tr> </tbody> </table> </div> </div> </div> <p>Se observa que Ana vive en Almería y trabaja en la sucursal 0001 situada en Almería. Bernardo vive en Granada pero trabaja en la sucursal 0001 de Almería. Carlos es un empleado del que no disponemos el dato acerca de la sucursal en la que trabaja. David es un empleado que vive en Jerez de la Frontera y trabaja en la sucursal 0003 en Cádiz. Existe otra sucursal 0002 en Granada donde no aparece registrado ningún empleado.</p> <p>Existen diversas formas de combinar (JOIN) las tablas según la información que deseemos obtener. Los tipos de JOIN se clasifican en:</p> <ul> <li>INNER JOIN ( o simplemente JOIN): Combinación interna.</li> <li>JOIN</li> <li>SELF JOIN</li> <li>NATURAL JOIN</li> <li>OUTER JOIN: Combinación externa.</li> <li>LEFT OUTER JOIN (o simplemente LEFT JOIN)</li> <li>RIGHT OUTER JOIN (o simplemente RIGHT JOIN)</li> <li>FULL OUTER JOIN (o simplemente FULL JOIN)</li> <li>CROSS JOIN: Combinación cruzada.</li> </ul> <h2 id=inner-join>Inner Join<a class=headerlink href=#inner-join title="Permanent link">&para;</a></h2> <p>También se conoce como EQUI JOIN o combinación de igualdad. Esta combinación devuelve todas las filas de ambas tablas donde hay una coincidencia. Este tipo de unión se puede utilizar en la situación en la que sólo debemos seleccionar las filas que tienen valores comunes en las columnas que se especifican en la cláusula ON.</p> <h3 id=join>Join<a class=headerlink href=#join title="Permanent link">&para;</a></h3> <p>Se puede usar la palabra reservada <code>INNER JOIN</code> o simplemente <code>JOIN</code>, su sintaxis es:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=k>SELECT</span><span class=w> </span><span class=n>TABLA1</span><span class=p>.</span><span class=n>columna1</span><span class=p>,</span><span class=w> </span><span class=n>TABLA1</span><span class=p>.</span><span class=n>columna2</span><span class=p>,</span><span class=w> </span><span class=p>...</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=w>       </span><span class=n>TABLA2</span><span class=p>.</span><span class=n>columna1</span><span class=p>,</span><span class=w> </span><span class=n>TABLA2</span><span class=p>.</span><span class=n>columna2</span><span class=p>,</span><span class=w> </span><span class=p>...</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=k>FROM</span><span class=w> </span><span class=n>TABLA1</span><span class=w> </span><span class=k>join</span><span class=w> </span><span class=n>TABLA2</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=k>ON</span><span class=w> </span><span class=n>TABLA1</span><span class=p>.</span><span class=n>columnaX</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>TABLA2</span><span class=p>.</span><span class=n>columnaY</span>
</code></pre></div> <p>En la sentencia <code>ON</code> se indica la relación de claves.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a><span class=k>SELECT</span><span class=w> </span><span class=n>E</span><span class=p>.</span><span class=o>*</span><span class=p>,</span><span class=w> </span><span class=n>S</span><span class=p>.</span><span class=n>Localidad</span>
<a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a><span class=k>FROM</span><span class=w> </span><span class=n>EMPLEADOS</span><span class=w> </span><span class=n>E</span><span class=w> </span><span class=k>JOIN</span><span class=w> </span><span class=n>SUCURSALES</span><span class=w> </span><span class=n>S</span>
<a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a><span class=k>ON</span><span class=w> </span><span class=n>E</span><span class=p>.</span><span class=n>COD_SUCURSAL</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>S</span><span class=p>.</span><span class=n>COD_SUCURSAL</span>
</code></pre></div> <table> <thead> <tr> <th>DNI</th> <th>NOMBRE</th> <th>LOCALIDAD</th> <th>COD_SUCURSAL</th> <th>LOCALIDAD</th> </tr> </thead> <tbody> <tr> <td>2222222B</td> <td>Bernardo</td> <td>Granada</td> <td>0001</td> <td>Almería</td> </tr> <tr> <td>1111111A</td> <td>Ana</td> <td>Almería</td> <td>0001</td> <td>Almería</td> </tr> <tr> <td>4444444D</td> <td>David</td> <td>Jerez</td> <td>0003</td> <td>Cádiz</td> </tr> </tbody> </table> <p>En esta consulta, utilizamos la combinación interna basada en la columna <strong>COD_SUCURSAL</strong> que es común en las tablas <strong>EMPLEADOS</strong> y <strong>SUCURSALES</strong>. Esta consulta dará todas las filas de ambas tablas que tienen valores comunes en la columna <strong>COD_SUCURSAL</strong></p> <h3 id=self-join>Self Join<a class=headerlink href=#self-join title="Permanent link">&para;</a></h3> <p>En algún momento podemos necesitar unir una tabla consigo mísma. Este tipo de combinación se denomina SELF JOIN. En este JOIN, necesitamos abrir dos copias de una misma tabla en la memoria. Dado que el nombre de tabla es el mismo para ambas instancias, usamos los alias de tabla para hacer copias idénticas de la misma tabla que se abran en diferentes ubicaciones de memoria.</p> <p>Sintaxis:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a><span class=k>SELECT</span><span class=w> </span><span class=n>ALIAS1</span><span class=p>.</span><span class=n>columna1</span><span class=p>,</span><span class=w> </span><span class=n>ALIAS1</span><span class=p>.</span><span class=n>columna2</span><span class=p>,</span><span class=w> </span><span class=p>...,</span><span class=w> </span><span class=n>ALIAS2</span><span class=p>.</span><span class=n>columna1</span><span class=p>,...</span>
<a id=__codelineno-2-2 name=__codelineno-2-2 href=#__codelineno-2-2></a><span class=k>FROM</span><span class=w> </span><span class=n>TABLA</span><span class=w> </span><span class=n>ALIAS1</span><span class=w> </span><span class=k>JOIN</span><span class=w> </span><span class=n>TABLA</span><span class=w> </span><span class=n>ALIAS2</span>
<a id=__codelineno-2-3 name=__codelineno-2-3 href=#__codelineno-2-3></a><span class=k>ON</span><span class=w> </span><span class=n>ALIAS1</span><span class=p>.</span><span class=n>columnaX</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>ALIAS2</span><span class=p>.</span><span class=n>columnaY</span>
</code></pre></div> <p>Por ejemplo:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a><span class=k>SELECT</span><span class=w> </span><span class=n>e1</span><span class=p>.</span><span class=n>nombre</span><span class=p>,</span><span class=w> </span><span class=n>e2</span><span class=p>.</span><span class=n>nombre</span><span class=p>,</span><span class=w> </span><span class=n>e1</span><span class=p>.</span><span class=n>localidad</span>
<a id=__codelineno-3-2 name=__codelineno-3-2 href=#__codelineno-3-2></a><span class=k>FROM</span><span class=w> </span><span class=n>empleados</span><span class=w> </span><span class=n>e1</span><span class=w> </span><span class=k>JOIN</span><span class=w> </span><span class=n>empleados</span><span class=w> </span><span class=n>e2</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=n>e1</span><span class=p>.</span><span class=n>localidad</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>e2</span><span class=p>.</span><span class=n>localidad</span>
</code></pre></div> <table> <thead> <tr> <th>Nombre</th> <th>Nombre</th> <th>Localidad</th> </tr> </thead> <tbody> <tr> <td>Ana</td> <td>Ana</td> <td>Almería</td> </tr> <tr> <td>Carlos</td> <td>Bernardo</td> <td>Granada</td> </tr> <tr> <td>Bernardo</td> <td>Bernardo</td> <td>Granada</td> </tr> <tr> <td>Carlos</td> <td>Carlos</td> <td>Granada</td> </tr> <tr> <td>Bernardo</td> <td>Carlos</td> <td>Granada</td> </tr> <tr> <td>David</td> <td>David</td> <td>Jerez</td> </tr> </tbody> </table> <p>Esto muestra las combinaciones de los empleados que viven en la misma localidad. En este caso no es de mucha utilidad, pero el <code>SELF JOIN</code> puede ser muy útil en relaciones reflexivas.</p> <h3 id=natural-join>Natural Join<a class=headerlink href=#natural-join title="Permanent link">&para;</a></h3> <p><code>NATURAL JOIN</code> establece una relación de igualdad entre las tablas a través de los campos que tengan el mismo nombre en ambas tablas. Su sintaxis es:</p> <p>Sintaxis:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a><span class=k>SELECT</span><span class=w> </span><span class=n>TABLA1</span><span class=p>.</span><span class=n>columna1</span><span class=p>,</span><span class=w> </span><span class=n>TABLA1</span><span class=p>.</span><span class=n>columna2</span><span class=p>,</span><span class=w> </span><span class=p>...</span>
<a id=__codelineno-4-2 name=__codelineno-4-2 href=#__codelineno-4-2></a><span class=w>       </span><span class=n>TABLA2</span><span class=p>.</span><span class=n>columna1</span><span class=p>,</span><span class=w> </span><span class=n>TABLA2</span><span class=p>.</span><span class=n>columna2</span><span class=p>,</span><span class=w> </span><span class=p>...</span>
<a id=__codelineno-4-3 name=__codelineno-4-3 href=#__codelineno-4-3></a><span class=k>FROM</span><span class=w> </span><span class=n>TABLA1</span><span class=w> </span><span class=k>NATURAL</span><span class=w> </span><span class=k>JOIN</span><span class=w> </span><span class=n>TABLA2</span>
</code></pre></div> <p>En este caso no existe clausula ON puesto que se realiza la combinación teniendo en cuenta las columnas del mismo nombre. Por ejemplo:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-5-1 name=__codelineno-5-1 href=#__codelineno-5-1></a><span class=k>SELECT</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>EMPLEADOS</span><span class=w> </span><span class=n>E</span><span class=w> </span><span class=k>NATURAL</span><span class=w> </span><span class=k>JOIN</span><span class=w> </span><span class=n>SUCURSALES</span><span class=w> </span><span class=n>S</span>
</code></pre></div> <table> <thead> <tr> <th>LOCALIDAD</th> <th>COD_SUCURSAL</th> <th>DNI</th> <th>NOMBRE</th> <th>DIRECCIÓN</th> </tr> </thead> <tbody> <tr> <td>Almería</td> <td>0001</td> <td>11111111A</td> <td>Ana</td> <td>C/ Ancha, 1</td> </tr> </tbody> </table> <p>En el resultado de la consulta nos aparece la combinación donde la (LOCALIDAD, COD_SUCURSAL) de EMPLEADOS es igual a (LOCALIDAD, COD_SUCURSAL) de SUCURSALES. Es decir estamos mostrando todos los empleados que tienen asignada una sucursal y dicha sucursal está en la localidad donde vive el empleado. El NATURAL JOIN elimina columnas duplicadas, por eso no aparecen los campos LOCALIDAD ni SUCURSAL duplicados. Este tipo de consulta no permite indicar estos campos en la cláusula SELECT. Por ejemplo: SELECT E.LOCALIDAD o SELECT E.COD_SUCURSAL sería incorrecto.</p> <h2 id=outer-join>Outer Join<a class=headerlink href=#outer-join title="Permanent link">&para;</a></h2> <p>La combinación externa o OUTER JOIN es muy útil cuando deseamos averiguar que campos están a NULL en un lado de la combinación. En nuestro ejemplo, podemos ver qué empleados no tienen sucursal asignada; también podemos ver que sucursales no tienen empleados asignados.</p> <h3 id=left-join>Left Join<a class=headerlink href=#left-join title="Permanent link">&para;</a></h3> <p>También conocido como <code>LEFT OUTER JOIN</code>, nos permite obtener todas las filas de la primera tabla asociadas a filas de la segunda tabla. Si no existe correspondencia en la segunda tabla, dichos valores aparecen como NULL. Su sintaxis es:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-6-1 name=__codelineno-6-1 href=#__codelineno-6-1></a><span class=k>SELECT</span><span class=w> </span><span class=n>TABLA1</span><span class=p>.</span><span class=n>columna1</span><span class=p>,</span><span class=w> </span><span class=n>TABLA1</span><span class=p>.</span><span class=n>columna2</span><span class=p>,</span><span class=w> </span><span class=p>...</span>
<a id=__codelineno-6-2 name=__codelineno-6-2 href=#__codelineno-6-2></a><span class=w>       </span><span class=n>TABLA2</span><span class=p>.</span><span class=n>columna1</span><span class=p>,</span><span class=w> </span><span class=n>TABLA2</span><span class=p>.</span><span class=n>columna2</span><span class=p>,</span><span class=w> </span><span class=p>...</span>
<a id=__codelineno-6-3 name=__codelineno-6-3 href=#__codelineno-6-3></a><span class=k>FROM</span><span class=w> </span><span class=n>TABLA1</span><span class=w> </span><span class=k>LEFT</span><span class=w> </span><span class=k>JOIN</span><span class=w> </span><span class=n>TABLA2</span>
<a id=__codelineno-6-4 name=__codelineno-6-4 href=#__codelineno-6-4></a><span class=k>ON</span><span class=w> </span><span class=n>TABLA1</span><span class=p>.</span><span class=n>columnaX</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>TABLA2</span><span class=p>.</span><span class=n>columnaY</span><span class=p>;</span>
</code></pre></div> <p>Por ejemplo:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-7-1 name=__codelineno-7-1 href=#__codelineno-7-1></a><span class=k>SELECT</span><span class=w> </span><span class=n>E</span><span class=p>.</span><span class=o>*</span><span class=p>,</span><span class=w> </span><span class=n>S</span><span class=p>.</span><span class=n>LOCALIDAD</span>
<a id=__codelineno-7-2 name=__codelineno-7-2 href=#__codelineno-7-2></a><span class=k>FROM</span><span class=w> </span><span class=n>EMPLEADOS</span><span class=w> </span><span class=n>E</span><span class=w> </span><span class=k>LEFT</span><span class=w> </span><span class=k>JOIN</span><span class=w> </span><span class=n>SUCURSALES</span><span class=w> </span><span class=n>S</span>
<a id=__codelineno-7-3 name=__codelineno-7-3 href=#__codelineno-7-3></a><span class=k>ON</span><span class=w> </span><span class=n>E</span><span class=p>.</span><span class=n>COD_SUCURSAL</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>S</span><span class=p>.</span><span class=n>COD_SUCURSAL</span><span class=p>;</span>
</code></pre></div> <table> <thead> <tr> <th>DNI</th> <th>NOMBRE</th> <th>LOCALIDAD</th> <th>COD_SUCURSAL</th> <th>LOCALIDAD</th> </tr> </thead> <tbody> <tr> <td>1111111A</td> <td>ANA</td> <td>Almería</td> <td>0001</td> <td>Almería</td> </tr> <tr> <td>2222222B</td> <td>BERNARDO</td> <td>Granada</td> <td>0001</td> <td>Almería</td> </tr> <tr> <td>3333333C</td> <td>CARLOS</td> <td>Granada</td> <td></td> <td></td> </tr> <tr> <td>4444444D</td> <td>Jerez</td> <td>Jerez</td> <td>0003</td> <td>Cádiz</td> </tr> </tbody> </table> <p>Todos los empleados tienen una sucursal asignada salvo el empleado Carlos.</p> <h3 id=right-join>Right Join<a class=headerlink href=#right-join title="Permanent link">&para;</a></h3> <p>También conocido como RIGHT OUTER JOIN, nos permite obtener todas las filas de la segunda tabla asociadas a filas de la primera tabla. Si no existe correspondencia en la primera tabla, dichos valores aparecen como NULL. Su sintaxis es:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-8-1 name=__codelineno-8-1 href=#__codelineno-8-1></a><span class=k>SELECT</span><span class=w> </span><span class=n>TABLA1</span><span class=p>.</span><span class=n>columna1</span><span class=p>,</span><span class=w> </span><span class=n>TABLA1</span><span class=p>.</span><span class=n>columna2</span><span class=p>,</span><span class=w> </span><span class=p>...</span>
<a id=__codelineno-8-2 name=__codelineno-8-2 href=#__codelineno-8-2></a><span class=w>       </span><span class=n>TABLA2</span><span class=p>.</span><span class=n>columna1</span><span class=p>,</span><span class=w> </span><span class=n>TABLA2</span><span class=p>.</span><span class=n>columna2</span><span class=p>,</span><span class=w> </span><span class=p>...</span>
<a id=__codelineno-8-3 name=__codelineno-8-3 href=#__codelineno-8-3></a><span class=k>FROM</span><span class=w> </span><span class=n>TABLA1</span><span class=w> </span><span class=k>RIGHT</span><span class=w> </span><span class=k>JOIN</span><span class=w> </span><span class=n>TABLA2</span>
<a id=__codelineno-8-4 name=__codelineno-8-4 href=#__codelineno-8-4></a><span class=k>ON</span><span class=w> </span><span class=n>TABLA1</span><span class=p>.</span><span class=n>columnaX</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>TABLA2</span><span class=p>.</span><span class=n>columnaY</span><span class=p>;</span>
</code></pre></div> <p>Por ejemplo:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-9-1 name=__codelineno-9-1 href=#__codelineno-9-1></a><span class=k>SELECT</span><span class=w> </span><span class=n>E</span><span class=p>.</span><span class=n>DNI</span><span class=p>,</span><span class=w> </span><span class=n>E</span><span class=p>.</span><span class=n>NOMBRE</span><span class=p>,</span><span class=w> </span><span class=n>S</span><span class=p>.</span><span class=o>*</span>
<a id=__codelineno-9-2 name=__codelineno-9-2 href=#__codelineno-9-2></a><span class=k>FROM</span><span class=w> </span><span class=n>EMPLEADOS</span><span class=w> </span><span class=n>E</span><span class=w> </span><span class=k>RIGHT</span><span class=w> </span><span class=k>JOIN</span><span class=w> </span><span class=n>SUCURSALES</span><span class=w> </span><span class=n>S</span>
<a id=__codelineno-9-3 name=__codelineno-9-3 href=#__codelineno-9-3></a><span class=k>ON</span><span class=w> </span><span class=n>E</span><span class=p>.</span><span class=n>COD_SUCURSAL</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>S</span><span class=p>.</span><span class=n>COD_SUCURSAL</span><span class=p>;</span>
</code></pre></div> <table> <thead> <tr> <th>DNI</th> <th>NOMBRE</th> <th>COD_SUCURSAL</th> <th>DIRECCIÓN</th> <th>LOCALIDAD</th> </tr> </thead> <tbody> <tr> <td>11111111A</td> <td>ANA</td> <td>0001</td> <td>C/ Ancha, 1</td> <td>Almería</td> </tr> <tr> <td>22222222B</td> <td>BERNARDO</td> <td>0001</td> <td>C/ Ancha, 1</td> <td>Almería</td> </tr> <tr> <td>44444444D</td> <td>DAVID</td> <td>0003</td> <td>C/ Cortés, 33</td> <td>Cádiz</td> </tr> <tr> <td></td> <td></td> <td>0002</td> <td>C/ Nueva, 1</td> <td>Granada</td> </tr> </tbody> </table> <p>Todas las sucursales tienen algún empleado asignado salvo la sucursal 0002.</p> <h3 id=full-join>Full Join<a class=headerlink href=#full-join title="Permanent link">&para;</a></h3> <p>También conocido como FULL OUTER JOIN, nos permite obtener todas las filas de la primera tabla asociadas a filas de la segunda tabla. Si no existe correspondencia en alguna de las tablas, dichos valores aparecen como NULL.</p> <p>Su sintaxis:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-10-1 name=__codelineno-10-1 href=#__codelineno-10-1></a><span class=k>SELECT</span><span class=w> </span><span class=n>TABLA1</span><span class=p>.</span><span class=n>columna1</span><span class=p>,</span><span class=w> </span><span class=n>TABLA1</span><span class=p>.</span><span class=n>columna2</span><span class=p>,</span><span class=w> </span><span class=p>...</span>
<a id=__codelineno-10-2 name=__codelineno-10-2 href=#__codelineno-10-2></a><span class=w>       </span><span class=n>TABLA2</span><span class=p>.</span><span class=n>columna1</span><span class=p>,</span><span class=w> </span><span class=n>TABLA2</span><span class=p>.</span><span class=n>columna2</span><span class=p>,</span><span class=w> </span><span class=p>...</span>
<a id=__codelineno-10-3 name=__codelineno-10-3 href=#__codelineno-10-3></a><span class=k>FROM</span><span class=w> </span><span class=n>TABLA1</span><span class=w> </span><span class=k>FULL</span><span class=w> </span><span class=k>JOIN</span><span class=w> </span><span class=n>TABLA2</span>
<a id=__codelineno-10-4 name=__codelineno-10-4 href=#__codelineno-10-4></a><span class=k>ON</span><span class=w> </span><span class=n>TABLA1</span><span class=p>.</span><span class=n>columnaX</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>TABLA2</span><span class=p>.</span><span class=n>columnaY</span><span class=p>;</span>
</code></pre></div> <p>Por ejemplo:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-11-1 name=__codelineno-11-1 href=#__codelineno-11-1></a><span class=k>SELECT</span><span class=w> </span><span class=n>E</span><span class=p>.</span><span class=n>DNI</span><span class=p>,</span><span class=w> </span><span class=n>E</span><span class=p>.</span><span class=n>NOMBRE</span><span class=p>,</span><span class=w> </span><span class=n>S</span><span class=p>.</span><span class=n>COD_SUCURSAL</span><span class=p>,</span><span class=w> </span><span class=n>S</span><span class=p>.</span><span class=n>LOCALIDAD</span>
<a id=__codelineno-11-2 name=__codelineno-11-2 href=#__codelineno-11-2></a><span class=k>FROM</span><span class=w> </span><span class=n>EMPLEADOS</span><span class=w> </span><span class=n>E</span><span class=w> </span><span class=k>FULL</span><span class=w> </span><span class=k>JOIN</span><span class=w> </span><span class=n>SUCURSALES</span><span class=w> </span><span class=n>S</span>
<a id=__codelineno-11-3 name=__codelineno-11-3 href=#__codelineno-11-3></a><span class=k>ON</span><span class=w> </span><span class=n>E</span><span class=p>.</span><span class=n>COD_SUCURSAL</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>S</span><span class=p>.</span><span class=n>COD_SUCURSAL</span><span class=p>;</span>
</code></pre></div> <table> <thead> <tr> <th>DNI</th> <th>NOMBRE</th> <th>COD_SUCURSAL</th> <th>LOCALIDAD</th> </tr> </thead> <tbody> <tr> <td>22222222B</td> <td>BERNARDO</td> <td>0001</td> <td>Almería</td> </tr> <tr> <td>11111111A</td> <td>ANA</td> <td>0001</td> <td>Almería</td> </tr> <tr> <td></td> <td></td> <td>0002</td> <td>Granada</td> </tr> <tr> <td>44444444D</td> <td>David</td> <td>0003</td> <td>Cádiz</td> </tr> <tr> <td>33333333C</td> <td>Carlos</td> <td></td> <td></td> </tr> </tbody> </table> <p>Como puede observarse fácilmente, vemos que en la sucursal 0002 no hay ningún empleado asignado y que el empleado Carlos no tiene asignada ninguna sucursal.</p> <h2 id=cross-join>Cross Join<a class=headerlink href=#cross-join title="Permanent link">&para;</a></h2> <p>El CROSS JOIN o combinación cruzada produce el mismo resultado del producto cartesiano, es decir nos da todas las combinaciones posibles. Su sintaxis es:</p> <p>Sintaxis:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-12-1 name=__codelineno-12-1 href=#__codelineno-12-1></a><span class=k>SELECT</span><span class=w> </span><span class=n>TABLA1</span><span class=p>.</span><span class=n>columna1</span><span class=p>,</span><span class=w> </span><span class=n>TABLA1</span><span class=p>.</span><span class=n>columna2</span><span class=p>,</span><span class=w> </span><span class=p>...</span>
<a id=__codelineno-12-2 name=__codelineno-12-2 href=#__codelineno-12-2></a><span class=w>       </span><span class=n>TABLA2</span><span class=p>.</span><span class=n>columna1</span><span class=p>,</span><span class=w> </span><span class=n>TABLA2</span><span class=p>.</span><span class=n>columna2</span><span class=p>,</span><span class=w> </span><span class=p>...</span>
<a id=__codelineno-12-3 name=__codelineno-12-3 href=#__codelineno-12-3></a><span class=k>FROM</span><span class=w> </span><span class=n>TABLA1</span><span class=w> </span><span class=k>CROSS</span><span class=w> </span><span class=k>JOIN</span><span class=w> </span><span class=n>TABLA2</span><span class=p>;</span>
</code></pre></div> <p>Por ejemplo:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-13-1 name=__codelineno-13-1 href=#__codelineno-13-1></a><span class=k>SELECT</span><span class=w> </span><span class=n>E</span><span class=p>.</span><span class=n>DNI</span><span class=p>,</span><span class=w> </span><span class=n>E</span><span class=p>.</span><span class=n>NOMBRE</span><span class=p>,</span><span class=w> </span><span class=n>E</span><span class=p>.</span><span class=n>LOCALIDAD</span><span class=p>,</span><span class=w> </span><span class=n>S</span><span class=p>.</span><span class=n>COD_SUCURSAL</span><span class=p>,</span><span class=w> </span><span class=n>S</span><span class=p>.</span><span class=n>LOCALIDAD</span>
<a id=__codelineno-13-2 name=__codelineno-13-2 href=#__codelineno-13-2></a><span class=k>FROM</span><span class=w> </span><span class=n>EMPLEADOS</span><span class=w> </span><span class=n>E</span><span class=w> </span><span class=k>CROSS</span><span class=w> </span><span class=k>JOIN</span><span class=w> </span><span class=n>SUCURSALES</span><span class=w> </span><span class=n>S</span><span class=p>;</span>
</code></pre></div> <table> <thead> <tr> <th>DNI</th> <th>NOMBRE</th> <th>LOCALIDAD</th> <th>COD_SUCURSAL</th> <th>LOCALIDAD</th> </tr> </thead> <tbody> <tr> <td>11111111A</td> <td>ANA</td> <td>ALMERÍA</td> <td>0001</td> <td>ALMERÍA</td> </tr> <tr> <td>11111111A</td> <td>ANA</td> <td>ALMERÍA</td> <td>0002</td> <td>GRANADA</td> </tr> <tr> <td>11111111A</td> <td>ANA</td> <td>ALMERÍA</td> <td>0003</td> <td>CÁDIZ</td> </tr> <tr> <td>22222222B</td> <td>BERNARDO</td> <td>GRANADA</td> <td>0001</td> <td>ALMERÍA</td> </tr> <tr> <td>22222222B</td> <td>BERNARDO</td> <td>GRANADA</td> <td>0002</td> <td>GRANADA</td> </tr> <tr> <td>22222222B</td> <td>BERNARDO</td> <td>GRANADA</td> <td>0003</td> <td>CÁDIZ</td> </tr> <tr> <td>33333333C</td> <td>CARLOS</td> <td>GRANADA</td> <td>0001</td> <td>ALMERÍA</td> </tr> <tr> <td>33333333C</td> <td>CARLOS</td> <td>GRANADA</td> <td>0002</td> <td>GRANADA</td> </tr> <tr> <td>33333333C</td> <td>CARLOS</td> <td>GRANADA</td> <td>0003</td> <td>CÁDIZ</td> </tr> <tr> <td>44444444D</td> <td>DAVID</td> <td>JEREZ</td> <td>0001</td> <td>ALMERÍA</td> </tr> <tr> <td>44444444D</td> <td>DAVID</td> <td>JEREZ</td> <td>0002</td> <td>GRANADA</td> </tr> <tr> <td>44444444D</td> <td>DAVID</td> <td>JEREZ</td> <td>0003</td> <td>CÁDIZ</td> </tr> </tbody> </table> <h2 id=combinaciones-especiales>Combinaciones especiales<a class=headerlink href=#combinaciones-especiales title="Permanent link">&para;</a></h2> <h3 id=uniones>Uniones<a class=headerlink href=#uniones title="Permanent link">&para;</a></h3> <p>La palabra <code>UNION</code> permite añadir el resultado de un SELECT a otro SELECT. Para ello ambas instrucciones tienen que utilizar el mismo número y tipo de columnas.</p> <p>Ejemplo:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-14-1 name=__codelineno-14-1 href=#__codelineno-14-1></a><span class=k>SELECT</span><span class=w> </span><span class=n>tipo</span><span class=p>,</span><span class=n>modelo</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>existencias</span>
<a id=__codelineno-14-2 name=__codelineno-14-2 href=#__codelineno-14-2></a><span class=k>WHERE</span><span class=w> </span><span class=n>n_almacen</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1</span>
<a id=__codelineno-14-3 name=__codelineno-14-3 href=#__codelineno-14-3></a>
<a id=__codelineno-14-4 name=__codelineno-14-4 href=#__codelineno-14-4></a><span class=k>UNION</span>
<a id=__codelineno-14-5 name=__codelineno-14-5 href=#__codelineno-14-5></a>
<a id=__codelineno-14-6 name=__codelineno-14-6 href=#__codelineno-14-6></a><span class=k>SELECT</span><span class=w> </span><span class=n>tipo</span><span class=p>,</span><span class=n>modelo</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>existencias</span>
<a id=__codelineno-14-7 name=__codelineno-14-7 href=#__codelineno-14-7></a><span class=k>WHERE</span><span class=w> </span><span class=n>n_almacen</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>2</span><span class=p>;</span>
</code></pre></div> <div class="admonition note"> <p class=admonition-title>Nota</p> <p>Observa que sólo se pone un punto y final.</p> </div> <p>Es decir, <code>UNION</code> crea una sola tabla con registros que estén presentes en cualquiera de las consultas. Si están repetidas sólo aparecen una vez, para mostrar los duplicados se utiliza <code>UNION ALL</code> en lugar de la palabra <code>UNION</code>.</p> <h3 id=intersecciones>Intersecciones<a class=headerlink href=#intersecciones title="Permanent link">&para;</a></h3> <p>De la misma forma, la palabra INTERSECT permite unir dos consultas SELECT de modo que el resultado serán las filas que estén presentes en ambas consultas. Ejemplo: tipos y modelos de piezas que se encuentren en los almacenes 1 y 2 (en ambos).</p> <div class=highlight><pre><span></span><code><a id=__codelineno-15-1 name=__codelineno-15-1 href=#__codelineno-15-1></a><span class=k>SELECT</span><span class=w> </span><span class=n>tipo</span><span class=p>,</span><span class=n>modelo</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>existencias</span>
<a id=__codelineno-15-2 name=__codelineno-15-2 href=#__codelineno-15-2></a><span class=k>WHERE</span><span class=w> </span><span class=n>n_almacen</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1</span>
<a id=__codelineno-15-3 name=__codelineno-15-3 href=#__codelineno-15-3></a>
<a id=__codelineno-15-4 name=__codelineno-15-4 href=#__codelineno-15-4></a><span class=k>INTERSECT</span>
<a id=__codelineno-15-5 name=__codelineno-15-5 href=#__codelineno-15-5></a>
<a id=__codelineno-15-6 name=__codelineno-15-6 href=#__codelineno-15-6></a><span class=k>SELECT</span><span class=w> </span><span class=n>tipo</span><span class=p>,</span><span class=n>modelo</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>existencias</span>
<a id=__codelineno-15-7 name=__codelineno-15-7 href=#__codelineno-15-7></a><span class=k>WHERE</span><span class=w> </span><span class=n>n_almacen</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>2</span><span class=p>;</span>
</code></pre></div> <h3 id=diferencia>Diferencia<a class=headerlink href=#diferencia title="Permanent link">&para;</a></h3> <p>Con <code>MINUS</code> también se combinan dos consultas SELECT de forma que aparecerán los registros del primer SELECT que no estén presentes en el segundo. Ejemplo:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-16-1 name=__codelineno-16-1 href=#__codelineno-16-1></a><span class=k>SELECT</span><span class=w> </span><span class=n>tipo</span><span class=p>,</span><span class=n>modelo</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>existencias</span>
<a id=__codelineno-16-2 name=__codelineno-16-2 href=#__codelineno-16-2></a><span class=k>WHERE</span><span class=w> </span><span class=n>n_almacen</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1</span>
<a id=__codelineno-16-3 name=__codelineno-16-3 href=#__codelineno-16-3></a>
<a id=__codelineno-16-4 name=__codelineno-16-4 href=#__codelineno-16-4></a><span class=n>MINUS</span>
<a id=__codelineno-16-5 name=__codelineno-16-5 href=#__codelineno-16-5></a>
<a id=__codelineno-16-6 name=__codelineno-16-6 href=#__codelineno-16-6></a><span class=k>SELECT</span><span class=w> </span><span class=n>tipo</span><span class=p>,</span><span class=n>modelo</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>existencias</span>
<a id=__codelineno-16-7 name=__codelineno-16-7 href=#__codelineno-16-7></a><span class=k>WHERE</span><span class=w> </span><span class=n>n_almacen</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>2</span><span class=p>;</span>
</code></pre></div> <p>Se podrían hacer varias combinaciones anidadas (una unión a cuyo resultado se restará de otro SELECT por ejemplo), en ese caso es conveniente utilizar paréntesis para indicar qué combinación se hace primero:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-17-1 name=__codelineno-17-1 href=#__codelineno-17-1></a><span class=p>(</span>
<a id=__codelineno-17-2 name=__codelineno-17-2 href=#__codelineno-17-2></a><span class=k>SELECT</span><span class=w> </span><span class=p>...</span>
<a id=__codelineno-17-3 name=__codelineno-17-3 href=#__codelineno-17-3></a>
<a id=__codelineno-17-4 name=__codelineno-17-4 href=#__codelineno-17-4></a><span class=k>UNION</span>
<a id=__codelineno-17-5 name=__codelineno-17-5 href=#__codelineno-17-5></a>
<a id=__codelineno-17-6 name=__codelineno-17-6 href=#__codelineno-17-6></a><span class=k>SELECT</span><span class=w> </span><span class=p>...</span>
<a id=__codelineno-17-7 name=__codelineno-17-7 href=#__codelineno-17-7></a><span class=p>)</span>
<a id=__codelineno-17-8 name=__codelineno-17-8 href=#__codelineno-17-8></a>
<a id=__codelineno-17-9 name=__codelineno-17-9 href=#__codelineno-17-9></a><span class=n>MINUS</span>
<a id=__codelineno-17-10 name=__codelineno-17-10 href=#__codelineno-17-10></a>
<a id=__codelineno-17-11 name=__codelineno-17-11 href=#__codelineno-17-11></a><span class=k>SELECT</span><span class=w> </span><span class=p>...</span><span class=w> </span><span class=p>;</span>
</code></pre></div> <h2 id=resumen>Resumen<a class=headerlink href=#resumen title="Permanent link">&para;</a></h2> <figure> <p><img alt="Figura 2 - MySQL JOINS" src=../res/joins.png> <figcaption>Figura 2 - MySQL JOINS</figcaption></p> </figure> </article> </div> </div> <a href=# class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg> Back to top </a> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../page-3/ class="md-footer__link md-footer__link--prev" aria-label="Previous: 3 Consultas relacionadas" rel=prev> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </div> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Previous </span> 3 Consultas relacionadas </div> </div> </a> <a href=../page-8/ class="md-footer__link md-footer__link--next" aria-label="Next: Ejercicios propuestos" rel=next> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Next </span> Ejercicios propuestos </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2022 - 2023 irubenboy </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://github.com/squidfunk target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </a> <a href=https://gitter.im/squidfunk/mkdocs-material target=_blank rel=noopener title=gitter.im class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 384 512"><!-- Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M66.4 322.5H16V0h50.4v322.5zM166.9 76.1h-50.4V512h50.4V76.1zm100.6 0h-50.4V512h50.4V76.1zM368 76h-50.4v247H368V76z"/></svg> </a> <a href=https://hub.docker.com/r/squidfunk/mkdocs-material/ target=_blank rel=noopener title=hub.docker.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 640 512"><!-- Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M349.9 236.3h-66.1v-59.4h66.1v59.4zm0-204.3h-66.1v60.7h66.1V32zm78.2 144.8H362v59.4h66.1v-59.4zm-156.3-72.1h-66.1v60.1h66.1v-60.1zm78.1 0h-66.1v60.1h66.1v-60.1zm276.8 100c-14.4-9.7-47.6-13.2-73.1-8.4-3.3-24-16.7-44.9-41.1-63.7l-14-9.3-9.3 14c-18.4 27.8-23.4 73.6-3.7 103.8-8.7 4.7-25.8 11.1-48.4 10.7H2.4c-8.7 50.8 5.8 116.8 44 162.1 37.1 43.9 92.7 66.2 165.4 66.2 157.4 0 273.9-72.5 328.4-204.2 21.4.4 67.6.1 91.3-45.2 1.5-2.5 6.6-13.2 8.5-17.1l-13.3-8.9zm-511.1-27.9h-66v59.4h66.1v-59.4zm78.1 0h-66.1v59.4h66.1v-59.4zm78.1 0h-66.1v59.4h66.1v-59.4zm-78.1-72.1h-66.1v60.1h66.1v-60.1z"/></svg> </a> <a href=https://pypi.org/project/mkdocs-material/ target=_blank rel=noopener title=pypi.org class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.8 200.5c-7.7-30.9-22.3-54.2-53.4-54.2h-40.1v47.4c0 36.8-31.2 67.8-66.8 67.8H172.7c-29.2 0-53.4 25-53.4 54.3v101.8c0 29 25.2 46 53.4 54.3 33.8 9.9 66.3 11.7 106.8 0 26.9-7.8 53.4-23.5 53.4-54.3v-40.7H226.2v-13.6h160.2c31.1 0 42.6-21.7 53.4-54.2 11.2-33.5 10.7-65.7 0-108.6zM286.2 404c11.1 0 20.1 9.1 20.1 20.3 0 11.3-9 20.4-20.1 20.4-11 0-20.1-9.2-20.1-20.4.1-11.3 9.1-20.3 20.1-20.3zM167.8 248.1h106.8c29.7 0 53.4-24.5 53.4-54.3V91.9c0-29-24.4-50.7-53.4-55.6-35.8-5.9-74.7-5.6-106.8.1-45.2 8-53.4 24.7-53.4 55.6v40.7h106.9v13.6h-147c-31.1 0-58.3 18.7-66.8 54.2-9.8 40.7-10.2 66.1 0 108.6 7.6 31.6 25.7 54.2 56.8 54.2H101v-48.8c0-35.3 30.5-66.4 66.8-66.4zm-6.7-142.6c-11.1 0-20.1-9.1-20.1-20.3.1-11.3 9-20.4 20.1-20.4 11 0 20.1 9.2 20.1 20.4s-9 20.3-20.1 20.3z"/></svg> </a> <a href=https://twitter.com/squidfunk target=_blank rel=noopener title=twitter.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../..", "features": ["content.code.annotate", "content.code.copy", "content.tooltips", "navigation.footer", "navigation.tabs", "navigation.top", "navigation.tracking", "search.highlight", "search.share", "search.suggest", "toc.follow", "toc.integrate"], "search": "../../assets/javascripts/workers/search.e5c33ebb.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script> <script src=../../assets/javascripts/bundle.51d95adb.min.js></script> </body> </html>