<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="A page with notes about Android"><meta name=author content=irubenboy><link href=https://irubenboy.github.io/android/bloque_i/tema_1/page-2/ rel=canonical><link href=../page-1/ rel=prev><link href=../page-3/ rel=next><link rel=icon href=../../../assets/icon.png><meta name=generator content="mkdocs-1.4.2, mkdocs-material-9.0.6"><title>2 Primera Aplicación - Android</title><link rel=stylesheet href=../../../assets/stylesheets/main.558e4712.min.css><link rel=stylesheet href=../../../assets/stylesheets/palette.2505c338.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../../extra/extra.css><script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script>"undefined"!=typeof __md_analytics&&__md_analytics()</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary data-md-color-accent> <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#2-primera-aplicacion class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../../.. title=Android class="md-header__button md-logo" aria-label=Android data-md-component=logo> <img src=../../../assets/icon.png alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Android </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> 2 Primera Aplicación </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media data-md-color-scheme=default data-md-color-primary data-md-color-accent aria-label="Switch to dark mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_2 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg> </label> <input class=md-option data-md-color-media data-md-color-scheme=slate data-md-color-primary data-md-color-accent aria-label="Switch to light mode" type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg> </label> </form> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/irubenboy/android title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> irubenboy/android </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class="md-tabs__inner md-grid"> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../page-1/ class="md-tabs__link md-tabs__link--active"> Bloque I </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../.. title=Android class="md-nav__button md-logo" aria-label=Android data-md-component=logo> <img src=../../../assets/icon.png alt=logo> </a> Android </label> <div class=md-nav__source> <a href=https://github.com/irubenboy/android title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> irubenboy/android </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " data-md-toggle=__nav_1 type=checkbox id=__nav_1 checked> <label class=md-nav__link for=__nav_1 tabindex=0 aria-expanded=true> Bloque I <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Bloque I" data-md-level=1> <label class=md-nav__title for=__nav_1> <span class="md-nav__icon md-icon"></span> Bloque I </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " data-md-toggle=__nav_1_1 type=checkbox id=__nav_1_1 checked> <label class=md-nav__link for=__nav_1_1 tabindex=0 aria-expanded=true> Tema 1 - Introducción a la programación Android <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Tema 1 - Introducción a la programación Android" data-md-level=2> <label class=md-nav__title for=__nav_1_1> <span class="md-nav__icon md-icon"></span> Tema 1 - Introducción a la programación Android </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../page-1/ class=md-nav__link> 1 Instalación del entorno de desarrollo </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> 2 Primera Aplicación <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> 2 Primera Aplicación </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#proyecto-helloworld class=md-nav__link> Proyecto HelloWorld </a> </li> <li class=md-nav__item> <a href=#estructura-de-un-proyecto class=md-nav__link> Estructura de un proyecto </a> </li> <li class=md-nav__item> <a href=#activity class=md-nav__link> Activity </a> </li> <li class=md-nav__item> <a href=#especificacion-xml-de-layout class=md-nav__link> Especificación XML de layout </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../page-3/ class=md-nav__link> 3 View </a> </li> <li class=md-nav__item> <a href=../page-4/ class=md-nav__link> 4 Recursos y la Clase R </a> </li> <li class=md-nav__item> <a href=../page-5/ class=md-nav__link> 5 ViewBinding </a> </li> <li class=md-nav__item> <a href=../page-6/ class=md-nav__link> 6 Recursos de valores </a> </li> <li class=md-nav__item> <a href=../page-7/ class=md-nav__link> 7 Clase Resources </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " data-md-toggle=__nav_1_2 type=checkbox id=__nav_1_2> <label class=md-nav__link for=__nav_1_2 tabindex=0 aria-expanded=false> Tema 2 - Vistas básicas <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Tema 2 - Vistas básicas" data-md-level=2> <label class=md-nav__title for=__nav_1_2> <span class="md-nav__icon md-icon"></span> Tema 2 - Vistas básicas </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../tema_2/page-1/ class=md-nav__link> 1 Introducción a las vistas básicas </a> </li> <li class=md-nav__item> <a href=../../tema_2/page-2/ class=md-nav__link> 2 Oyentes y cadenas </a> </li> <li class=md-nav__item> <a href=../../tema_2/page-3/ class=md-nav__link> 3 Botones compuestos </a> </li> <li class=md-nav__item> <a href=../../tema_2/page-4/ class=md-nav__link> 4 Otras Vistas </a> </li> <li class=md-nav__item> <a href=../../tema_2/page-5/ class=md-nav__link> 5 Entorno de Android </a> </li> <li class=md-nav__item> <a href=../../tema_2/page-6/ class=md-nav__link> 6 Gestión en Android </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=2-primera-aplicacion>2 Primera Aplicación<a class=headerlink href=#2-primera-aplicacion title="Permanent link">&para;</a></h1> <h2 id=proyecto-helloworld>Proyecto HelloWorld<a class=headerlink href=#proyecto-helloworld title="Permanent link">&para;</a></h2> <p>Para estudiar la creación de nuestra primera aplicación Android, vamos a desarrollar un proyecto muy básico que simplemente mostrará el mensaje "Hello world!" cuando la ejecutemos.</p> <p>Para crear un proyecto haremos uso del asistente proporcionado por Android Studio. El primer paso es abrir la aplicación Android Studio y pulsar la opción <em>Start a new Android Studio project</em>, tal y como se muestra en la figura</p> <figure> <p><img alt="Asistente de creación de nuevo proyecto" src=../res/androidstudio.png> <figcaption>Figura 10 - Asistente de creación de nuevo proyecto</figcaption></p> </figure> <p>Después seleccionaremos la plantilla <em>Empty Activity</em> dentro de la pestaña <em>Phone and Tablet</em>, para indicar que queremos generar una actividad vacía, tal y como se muestra en la figura</p> <figure> <p><img alt="Selección de plantilla en el asistente" src=../res/emptyactivitytemplate.png> <figcaption>Figura 11 - Selección de plantilla en el asistente</figcaption></p> </figure> <p>Como consecuencia se nos mostrará la pantalla de configuración del proyecto:</p> <figure> <p><img alt="Configuración del proyecto en el asistente" src=../res/configureprojecttemplate.png> <figcaption>Figura 12 - Configuración del proyecto en el asistente</figcaption></p> </figure> <p>En la pantalla de configuración del proyecto indicaremos:</p> <ul> <li>El nombre de la aplicación: Corresponde al nombre que se mostrará para la aplicación en el cajón de aplicaciones del dispositivo cuando ésta se instale. Podremos cambiarla posteriormente. Por ejemplo <code>HelloWorld</code></li> <li>El nombre del paquete de la aplicación: Debe ser único entre todas la aplicaciones instaladas en el dispositivo. Por este motivo se suele usar como nombre de paquete la URL inversa de la compañía que desarrolla la aplicación más el nombre de la misma. Por ejemplo: <code>es.iessaladillo.irudev.hellowold</code></li> <li>La carpeta en la que va a generarse el proyecto: Debemos indicar una carpeta vacía (aunque no exista aún) en la que se deben crear todo el árbol de archivos y carpetas del proyecto.</li> <li>Idioma del código fuente: Puede ser Java o Kotlin</li> <li>El nivel mínimo de API con el que debe funcionar la aplicación: Determina qué dispositivos podrán instalar nuestra aplicación. Por ejemplo <code>API 21: Android 5.0 (Lollipop)</code>.</li> <li>Se recomienda marcar también <code>Use androidx.* artifacts</code> para que el asistente use la nueva librería de soporte <code>androidx</code>.</li> </ul> <p>Al pulsar el botón <code>Finish</code> Android Studio generará el proyecto para nosotros con una serie de elementos que vamos a ir conociendo a continuación.</p> <h2 id=estructura-de-un-proyecto>Estructura de un proyecto<a class=headerlink href=#estructura-de-un-proyecto title="Permanent link">&para;</a></h2> <p>Cuando creamos un nuevo proyecto en Android Studio se genera automáticamente la estructura básica de archivos y carpetas necesaria para la aplicación, como vemos en la imagen.</p> <p>Dicha imagen corresponde a la vista de Android Studio conocida como <code>Project</code>. Normalmente la vista habitual es <code>Android</code> que nos simplifica la visión para acceder más rápidamente a los elementos.</p> <figure> <p><img alt="Estructura de archivos y directorios de un proyecto" src=../res/projecttree.png> <figcaption>Figura 12 - Estructura de archivos y directorios de un proyecto</figcaption></p> </figure> <p>Un proyecto Android estará compuesto de uno o más <strong>módulos</strong>.</p> <div class="admonition note"> <p class=admonition-title>Módulo</p> <p>Un módulo es un elemento de nuestro proyecto que puede representar una aplicación distinta, una versión diferente de una misma aplicación, o un componente adicional del sistema (aplicación servidor, librería, …).</p> </div> <p>Nuestro proyecto contendrá fuera de cualquier módulo un fichero de configuración de la generación de la aplicación, llamado <code>/build.gradle</code>, escrito en el lenguaje Groovy, que será usado por el generador <code>Gradle</code> a la hora de generar el ejecutable de nuestra aplicación.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>buildscript</span><span class=w> </span><span class=o>{</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=w>    </span><span class=n>repositories</span><span class=w> </span><span class=o>{</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=w>        </span><span class=n>google</span><span class=o>()</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=w>        </span><span class=n>jcenter</span><span class=o>()</span>
<a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a>
<a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=w>    </span><span class=o>}</span>
<a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a><span class=w>    </span><span class=n>dependencies</span><span class=w> </span><span class=o>{</span>
<a id=__codelineno-0-8 name=__codelineno-0-8 href=#__codelineno-0-8></a><span class=w>        </span><span class=n>classpath</span><span class=w> </span><span class=s1>&#39;com.android.tools.build:gradle:3.4.2&#39;</span>
<a id=__codelineno-0-9 name=__codelineno-0-9 href=#__codelineno-0-9></a><span class=w>    </span><span class=o>}</span>
<a id=__codelineno-0-10 name=__codelineno-0-10 href=#__codelineno-0-10></a><span class=o>}</span>
<a id=__codelineno-0-11 name=__codelineno-0-11 href=#__codelineno-0-11></a>
<a id=__codelineno-0-12 name=__codelineno-0-12 href=#__codelineno-0-12></a><span class=n>allprojects</span><span class=w> </span><span class=o>{</span>
<a id=__codelineno-0-13 name=__codelineno-0-13 href=#__codelineno-0-13></a><span class=w>    </span><span class=n>repositories</span><span class=w> </span><span class=o>{</span>
<a id=__codelineno-0-14 name=__codelineno-0-14 href=#__codelineno-0-14></a><span class=w>        </span><span class=n>google</span><span class=o>()</span>
<a id=__codelineno-0-15 name=__codelineno-0-15 href=#__codelineno-0-15></a><span class=w>        </span><span class=n>jcenter</span><span class=o>()</span><span class=w>     </span>
<a id=__codelineno-0-16 name=__codelineno-0-16 href=#__codelineno-0-16></a><span class=w>    </span><span class=o>}</span>
<a id=__codelineno-0-17 name=__codelineno-0-17 href=#__codelineno-0-17></a><span class=o>}</span>
<a id=__codelineno-0-18 name=__codelineno-0-18 href=#__codelineno-0-18></a>
<a id=__codelineno-0-19 name=__codelineno-0-19 href=#__codelineno-0-19></a><span class=n>task</span><span class=w> </span><span class=nf>clean</span><span class=o>(</span><span class=nl>type:</span><span class=w> </span><span class=n>Delete</span><span class=o>)</span><span class=w> </span><span class=o>{</span>
<a id=__codelineno-0-20 name=__codelineno-0-20 href=#__codelineno-0-20></a><span class=w>    </span><span class=n>delete</span><span class=w> </span><span class=n>rootProject</span><span class=o>.</span><span class=na>buildDir</span>
<a id=__codelineno-0-21 name=__codelineno-0-21 href=#__codelineno-0-21></a><span class=o>}</span>
</code></pre></div> <p>Al crear un proyecto el asistente de Android Studio crea automáticamente un módulo correspondiente a nuestra aplicación principal, que toma el nombre de <code>app</code>, como vemos en la imagen anterior, y se crea una carpeta para él, llamada <code>app</code>.</p> <p>Dentro del módulo <code>app</code> se crea una subcarpeta llamada <code>src</code>, que contendrá el código fuente del módulo correspondiente.</p> <p>Dentro de la carpeta <code>src</code> se crean tres subcarpetas que organizan el distinto código fuente:</p> <ul> <li><code>main</code>: Contendrá el código fuente de desarrollo del módulo. Por ahora nos centraremos en esta carpeta.</li> <li><code>test</code>: Contendrá el código fuente correspondiente a los tests unitarios de las distintas clases (por ejemplo, JUnit).</li> <li><code>androidTest</code>: Contendrá el código fuente correspondiente a los tests instrumentales que se ejecutan sobre un dispositivo.</li> </ul> <p>Dentro de la carpeta <code>app/src/main</code> se crean una serie de sub-carpetas muy importantes:</p> <ul> <li><code>app/src/main/java</code>: Contiene el código fuente de la aplicación, incluyendo el código de las actividades (pantallas de la aplicación) y demás componentes, clases auxiliares, modelos de datos, etc. El asistente de creación de proyecto de Android Studio creará de manera automática el código básico de la actividad principal de la aplicación dentro del paquete java que hayamos especificado en el asistente, nombrándola <code>MainActivity</code>.</li> <li><code>app/src/main/res/</code>: Contiene todos los archivos de recursos que va a utilizar el proyecto. Un archivo de recurso puede ser una imagen, un vídeo, un fichero con constantes de cadenas de texto, una especificación XML para un menú, etc.</li> </ul> <p>Los diferentes archivos de recursos de organizan en subcarpetas de la carpeta <code>res</code>, atendiendo al tipo de recurso del que se trate. Entre las subcarpetas posibles destacamos las siguientes:</p> <ul> <li><code>drawable</code>: Contiene las imágenes y archivos de gráficos de la aplicación.</li> <li><code>layout</code>: Contiene los ficheros de definición del diseño (<em>layout</em>) de las diferentes pantallas de la interfaz gráfica.</li> <li><code>mipmap</code>: Contiene el archivo gráfico correspondiente al icono de la aplicación.</li> <li><code>values</code>: Contiene los archivos de recursos en los que se definen constantes que son usadas como valores de propiedades de elementos de la aplicación. Dispondremos de distintos ficheros dependiendo del tipo de constantes que contengan. Por ejemplo, las constantes de cadenas de caracteres se almacenarán en el archivo <code>strings.xml</code>, los estilos visuales de los elementos en <code>styles.xml</code>, las constantes de colores en <code>colors.xml</code>, etc.</li> </ul> <p>Como vemos, también se crean subcarpetas de recursos específicos para casos concretos, que usan unos determinados sufijos, como por ejemplo <code>res/drawable-v24</code> para lo archivos gráficos para la versión 24 de la API de Android, o <code>res/mipmap-hdpi</code> para los iconos de aplicación el alta resolución, etc. Estudiaremos los distintos sufijos para las carpetas de recursos más adelante.</p> <p>Además, dentro de la carpeta <code>app/src/main</code> se crea el archivo <code>AndroidManifest.xml</code>, conocido como manifiesto de la aplicación, que corresponde al fichero de configuración principal de nuestra aplicación.</p> <div class="admonition note"> <p class=admonition-title>Manifiesto</p> <p>El archivo AndroidManifest.xml corresponde a un fichero XML que contiene la definición de los aspectos principales de la aplicación, como por ejemplo los datos relativos a su identificación, como el paquete (<code>package</code>), el nombre con el que se mostrará en el <em>launcher</em> (<code>label</code>) o el icono con el que se mostrará en el <em>launcher</em> (<code>icon</code>), así como los componentes que la forman (actividades, servicios, etc.), o los permisos necesarios para su ejecución.</p> </div> <p>Más adelante hablaremos con detenimiento del manifiesto. Por ahora vemos el manifiesto de nuestro proyecto:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a><span class=cp>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span>
<a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a><span class=nt>&lt;manifest</span><span class=w> </span><span class=na>package=</span><span class=s>&quot;es.iessaladillo.pedrojoya.helloworld&quot;</span>
<a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a><span class=w>          </span><span class=na>xmlns:android=</span><span class=s>&quot;http://schemas.android.com/apk/res/android&quot;</span><span class=nt>&gt;</span>
<a id=__codelineno-1-4 name=__codelineno-1-4 href=#__codelineno-1-4></a>
<a id=__codelineno-1-5 name=__codelineno-1-5 href=#__codelineno-1-5></a><span class=w>    </span><span class=nt>&lt;application</span>
<a id=__codelineno-1-6 name=__codelineno-1-6 href=#__codelineno-1-6></a><span class=w>        </span><span class=na>android:allowBackup=</span><span class=s>&quot;true&quot;</span>
<a id=__codelineno-1-7 name=__codelineno-1-7 href=#__codelineno-1-7></a><span class=w>        </span><span class=na>android:icon=</span><span class=s>&quot;@mipmap/ic_launcher&quot;</span>
<a id=__codelineno-1-8 name=__codelineno-1-8 href=#__codelineno-1-8></a><span class=w>        </span><span class=na>android:label=</span><span class=s>&quot;@string/app_name&quot;</span>
<a id=__codelineno-1-9 name=__codelineno-1-9 href=#__codelineno-1-9></a><span class=w>        </span><span class=na>android:roundIcon=</span><span class=s>&quot;@mipmap/ic_launcher_round&quot;</span>
<a id=__codelineno-1-10 name=__codelineno-1-10 href=#__codelineno-1-10></a><span class=w>        </span><span class=na>android:supportsRtl=</span><span class=s>&quot;true&quot;</span>
<a id=__codelineno-1-11 name=__codelineno-1-11 href=#__codelineno-1-11></a><span class=w>        </span><span class=na>android:theme=</span><span class=s>&quot;@style/AppTheme&quot;</span><span class=nt>&gt;</span>
<a id=__codelineno-1-12 name=__codelineno-1-12 href=#__codelineno-1-12></a><span class=w>        </span><span class=nt>&lt;activity</span><span class=w> </span><span class=na>android:name=</span><span class=s>&quot;.MainActivity&quot;</span><span class=nt>&gt;</span>
<a id=__codelineno-1-13 name=__codelineno-1-13 href=#__codelineno-1-13></a><span class=w>            </span><span class=nt>&lt;intent-filter&gt;</span>
<a id=__codelineno-1-14 name=__codelineno-1-14 href=#__codelineno-1-14></a><span class=w>                </span><span class=nt>&lt;action</span><span class=w> </span><span class=na>android:name=</span><span class=s>&quot;android.intent.action.MAIN&quot;</span><span class=nt>/&gt;</span>
<a id=__codelineno-1-15 name=__codelineno-1-15 href=#__codelineno-1-15></a><span class=w>                </span><span class=nt>&lt;category</span><span class=w> </span><span class=na>android:name=</span><span class=s>&quot;android.intent.category.LAUNCHER&quot;</span><span class=nt>/&gt;</span>
<a id=__codelineno-1-16 name=__codelineno-1-16 href=#__codelineno-1-16></a><span class=w>            </span><span class=nt>&lt;/intent-filter&gt;</span>
<a id=__codelineno-1-17 name=__codelineno-1-17 href=#__codelineno-1-17></a><span class=w>        </span><span class=nt>&lt;/activity&gt;</span>
<a id=__codelineno-1-18 name=__codelineno-1-18 href=#__codelineno-1-18></a><span class=w>    </span><span class=nt>&lt;/application&gt;</span>
<a id=__codelineno-1-19 name=__codelineno-1-19 href=#__codelineno-1-19></a>
<a id=__codelineno-1-20 name=__codelineno-1-20 href=#__codelineno-1-20></a><span class=nt>&lt;/manifest&gt;</span>
</code></pre></div> <p>En el manifiesto anterior, se indica que la aplicación tiene un único componente, una actividad representada por la clase <code>MainActivity</code>, que se encuentra en el paquete base de la aplicación, y que dicha actividad es la que debe ser ejecutada inicialmente cuando se lance la aplicación desde el <em>launcher</em>, gracias a la <code>&lt;action&gt;</code> y <code>&lt;category&gt;</code> indicadas.</p> <p>Finalmente, nuestro módulo <code>app</code> contendrá el archivo <code>app/build.gradle</code>, que es un fichero de configuración de la generación (compilación) de dicho módulo. El archivo, escrito en el lenguaje de programación Groovy, es leído por el software de generación Gradle a la hora de generar la parte del ejecutable de nuestra aplicación correspondiente a dicho módulo. El archivo contendrá información necesaria para la compilación del módulo, como por ejemplo:</p> <ul> <li><code>applicationId</code>: id de la aplicación. Cadena que representa a la aplicación y que debe ser única en el dispositivo.</li> <li><code>compileSdkVersion</code>: versión del SDK de Android utilizada para compilar. Normalmente corresponderá a la última versión de la API disponible.</li> <li><code>minSdkVersion</code>: versión mínima de Android que soportará la aplicación. Los dispositivos con versión inferior no podrán instalar la aplicación. Normalmente se intenta que sea lo más baja posible, sin que ello suponga una carga de trabajo de compatibilidad demasiado grande para el desarrollador</li> <li><code>targetSdkVersion</code>: versión máxima del SDK de Android con la que se ha probado la aplicación. Normalmente corresponderá a la última versión de la API disponible.</li> <li><code>versionCode</code>: versión numérica de la aplicación</li> <li><code>versionName</code>: descripción textual de la versión de la aplicación</li> <li><code>dependencies</code>: dependencias a librerías externas utilizadas por el módulo</li> </ul> <div class=highlight><pre><span></span><code><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a><span class=n>apply</span><span class=w> </span><span class=nl>plugin:</span><span class=w> </span><span class=s1>&#39;com.android.application&#39;</span>
<a id=__codelineno-2-2 name=__codelineno-2-2 href=#__codelineno-2-2></a>
<a id=__codelineno-2-3 name=__codelineno-2-3 href=#__codelineno-2-3></a><span class=n>android</span><span class=w> </span><span class=o>{</span>
<a id=__codelineno-2-4 name=__codelineno-2-4 href=#__codelineno-2-4></a><span class=w>    </span><span class=n>compileSdkVersion</span><span class=w> </span><span class=mi>28</span>
<a id=__codelineno-2-5 name=__codelineno-2-5 href=#__codelineno-2-5></a><span class=w>    </span><span class=n>buildToolsVersion</span><span class=w> </span><span class=s2>&quot;29.0.0&quot;</span>
<a id=__codelineno-2-6 name=__codelineno-2-6 href=#__codelineno-2-6></a><span class=w>    </span><span class=n>defaultConfig</span><span class=w> </span><span class=o>{</span>
<a id=__codelineno-2-7 name=__codelineno-2-7 href=#__codelineno-2-7></a><span class=w>        </span><span class=n>applicationId</span><span class=w> </span><span class=s2>&quot;es.iessaladillo.pedrojoya.helloworld&quot;</span>
<a id=__codelineno-2-8 name=__codelineno-2-8 href=#__codelineno-2-8></a><span class=w>        </span><span class=n>minSdkVersion</span><span class=w> </span><span class=mi>21</span>
<a id=__codelineno-2-9 name=__codelineno-2-9 href=#__codelineno-2-9></a><span class=w>        </span><span class=n>targetSdkVersion</span><span class=w> </span><span class=mi>28</span>
<a id=__codelineno-2-10 name=__codelineno-2-10 href=#__codelineno-2-10></a><span class=w>        </span><span class=n>versionCode</span><span class=w> </span><span class=mi>1</span>
<a id=__codelineno-2-11 name=__codelineno-2-11 href=#__codelineno-2-11></a><span class=w>        </span><span class=n>versionName</span><span class=w> </span><span class=s2>&quot;1.0&quot;</span>
<a id=__codelineno-2-12 name=__codelineno-2-12 href=#__codelineno-2-12></a><span class=w>        </span><span class=n>testInstrumentationRunner</span><span class=w> </span><span class=s2>&quot;androidx.test.runner.AndroidJUnitRunner&quot;</span>
<a id=__codelineno-2-13 name=__codelineno-2-13 href=#__codelineno-2-13></a><span class=w>    </span><span class=o>}</span>
<a id=__codelineno-2-14 name=__codelineno-2-14 href=#__codelineno-2-14></a><span class=w>    </span><span class=n>buildTypes</span><span class=w> </span><span class=o>{</span>
<a id=__codelineno-2-15 name=__codelineno-2-15 href=#__codelineno-2-15></a><span class=w>        </span><span class=n>release</span><span class=w> </span><span class=o>{</span>
<a id=__codelineno-2-16 name=__codelineno-2-16 href=#__codelineno-2-16></a><span class=w>            </span><span class=n>minifyEnabled</span><span class=w> </span><span class=kc>false</span>
<a id=__codelineno-2-17 name=__codelineno-2-17 href=#__codelineno-2-17></a><span class=w>            </span><span class=n>proguardFiles</span><span class=w> </span><span class=n>getDefaultProguardFile</span><span class=o>(</span><span class=s1>&#39;proguard-android-optimize.txt&#39;</span><span class=o>),</span><span class=w> </span><span class=s1>&#39;proguard-rules.pro&#39;</span>
<a id=__codelineno-2-18 name=__codelineno-2-18 href=#__codelineno-2-18></a><span class=w>        </span><span class=o>}</span>
<a id=__codelineno-2-19 name=__codelineno-2-19 href=#__codelineno-2-19></a><span class=w>    </span><span class=o>}</span>
<a id=__codelineno-2-20 name=__codelineno-2-20 href=#__codelineno-2-20></a><span class=o>}</span>
<a id=__codelineno-2-21 name=__codelineno-2-21 href=#__codelineno-2-21></a>
<a id=__codelineno-2-22 name=__codelineno-2-22 href=#__codelineno-2-22></a><span class=n>dependencies</span><span class=w> </span><span class=o>{</span>
<a id=__codelineno-2-23 name=__codelineno-2-23 href=#__codelineno-2-23></a><span class=w>    </span><span class=n>implementation</span><span class=w> </span><span class=n>fileTree</span><span class=o>(</span><span class=nl>dir:</span><span class=w> </span><span class=s1>&#39;libs&#39;</span><span class=o>,</span><span class=w> </span><span class=nl>include:</span><span class=w> </span><span class=o>[</span><span class=s1>&#39;*.jar&#39;</span><span class=o>])</span>
<a id=__codelineno-2-24 name=__codelineno-2-24 href=#__codelineno-2-24></a><span class=w>    </span><span class=n>implementation</span><span class=w> </span><span class=s1>&#39;androidx.appcompat:appcompat:1.1.0&#39;</span>
<a id=__codelineno-2-25 name=__codelineno-2-25 href=#__codelineno-2-25></a><span class=o>}</span>
</code></pre></div> <p>Android Studio posee una perspectiva resumida de nuestro proyecto, que nos omite aquellos archivos con los que probablemente no vayamos a interactuar. Dicha vista se conoce como perspectiva Android, y es la perspectiva recomendada, por facilitarnos bastante el acceso a los archivos con los que realmente vamos a trabajar.</p> <figure> <p><img alt="Perspectiva Android" src=../res/androidtree.png> <figcaption>Figura 13 - Perspectiva Android</figcaption></p> </figure> <h2 id=activity>Activity<a class=headerlink href=#activity title="Permanent link">&para;</a></h2> <p>Las aplicaciones Android se construyen mediante bloques esenciales conocidos como componentes, cada uno de los cuales existe como una entidad propia y desempeña un papel específico; cada componente es una pieza única que ayuda a definir el comportamiento general de la aplicación. Es importante mencionar que algunos de estos elementos son el punto de entrada para que los usuarios interactúen con la aplicación y en muchos casos veremos que unos componentes dependen de otros.</p> <p>Hay cuatro tipos de componentes en una aplicación Android: <em>activity</em> (actividad), <em>service</em> (servicio), <em>broadcast receiver</em> (receptor de mensajes de multidifusión) y <em>content provider</em> (proveedor de contenidos). Nosotros empezaremos estudiando las actividades.</p> <div class="admonition note"> <p class=admonition-title>Activity</p> <p>Una <em>activity</em> (actividad) es un tipo de componente encargado de mostrar una pantalla con la que el usuario puede interactuar.</p> </div> <p>El sistema proporciona a cada actividad una ventana en la que poder dibujar su interfaz de usuario. Normalmente, dicha ventana ocupa toda la pantalla, aunque su tamaño puede ser menor. Por tanto, se puede pensar en una actividad como el análogo de una ventana en una aplicación de escritorio. En las actividades recae la responsabilidad de presentar los elementos visuales y reaccionar a la interacción del usuario.</p> <p>Una aplicación generalmente se compone de varias actividades que se llaman entre sí. Normalmente una de dichas actividades se designa como la <strong>actividad principal</strong>, siendo ésta la que se inicia cuando la aplicación comienza su ejecución. Una actividad puede iniciar la ejecución de otra actividad con el fin de mostrar una nueva pantalla con la que el usuario pueda interactuar.</p> <div class="admonition warning"> <p class=admonition-title>Warning</p> <p>Todos los componentes de una aplicación deben estar registrados (declarados) en el manifiesto de la misma, es decir en el archivo <code>AndroidManifest.xml</code>, o de lo contrario no podrán ser usados.</p> </div> <p>Así, en el siguiente manifiesto se declara que la aplicación dispone de una actividad, representada por la clase <code>MainActivity</code> situada en el paquete base de la aplicación (de ahí el <code>.MainActivity</code>. Además, mediante la etiqueta <code>&lt;intent-filter&gt;</code> se indica que dicha actividad será la que será lanzada automáticamente cuando el usuario pulse sobre el icono de la aplicación en el <em>launcher</em> (cajón de aplicaciones):</p> <div class=highlight><pre><span></span><code><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a><span class=cp>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span>
<a id=__codelineno-3-2 name=__codelineno-3-2 href=#__codelineno-3-2></a><span class=nt>&lt;manifest</span><span class=w> </span><span class=na>package=</span><span class=s>&quot;es.iessaladillo.pedrojoya.helloworld&quot;</span>
<a id=__codelineno-3-3 name=__codelineno-3-3 href=#__codelineno-3-3></a><span class=w>          </span><span class=na>xmlns:android=</span><span class=s>&quot;http://schemas.android.com/apk/res/android&quot;</span><span class=nt>&gt;</span>
<a id=__codelineno-3-4 name=__codelineno-3-4 href=#__codelineno-3-4></a>
<a id=__codelineno-3-5 name=__codelineno-3-5 href=#__codelineno-3-5></a><span class=w>    </span><span class=nt>&lt;application</span>
<a id=__codelineno-3-6 name=__codelineno-3-6 href=#__codelineno-3-6></a><span class=w>        </span><span class=na>android:allowBackup=</span><span class=s>&quot;true&quot;</span>
<a id=__codelineno-3-7 name=__codelineno-3-7 href=#__codelineno-3-7></a><span class=w>        </span><span class=na>android:icon=</span><span class=s>&quot;@mipmap/ic_launcher&quot;</span>
<a id=__codelineno-3-8 name=__codelineno-3-8 href=#__codelineno-3-8></a><span class=w>        </span><span class=na>android:label=</span><span class=s>&quot;@string/app_name&quot;</span>
<a id=__codelineno-3-9 name=__codelineno-3-9 href=#__codelineno-3-9></a><span class=w>        </span><span class=na>android:roundIcon=</span><span class=s>&quot;@mipmap/ic_launcher_round&quot;</span>
<a id=__codelineno-3-10 name=__codelineno-3-10 href=#__codelineno-3-10></a><span class=w>        </span><span class=na>android:supportsRtl=</span><span class=s>&quot;true&quot;</span>
<a id=__codelineno-3-11 name=__codelineno-3-11 href=#__codelineno-3-11></a><span class=w>        </span><span class=na>android:theme=</span><span class=s>&quot;@style/AppTheme&quot;</span><span class=nt>&gt;</span>
<a id=__codelineno-3-12 name=__codelineno-3-12 href=#__codelineno-3-12></a><span class=w>        </span><span class=nt>&lt;activity</span><span class=w> </span><span class=na>android:name=</span><span class=s>&quot;.MainActivity&quot;</span><span class=nt>&gt;</span>
<a id=__codelineno-3-13 name=__codelineno-3-13 href=#__codelineno-3-13></a><span class=w>            </span><span class=nt>&lt;intent-filter&gt;</span>
<a id=__codelineno-3-14 name=__codelineno-3-14 href=#__codelineno-3-14></a><span class=w>                </span><span class=nt>&lt;action</span><span class=w> </span><span class=na>android:name=</span><span class=s>&quot;android.intent.action.MAIN&quot;</span><span class=nt>/&gt;</span>
<a id=__codelineno-3-15 name=__codelineno-3-15 href=#__codelineno-3-15></a><span class=w>                </span><span class=nt>&lt;category</span><span class=w> </span><span class=na>android:name=</span><span class=s>&quot;android.intent.category.LAUNCHER&quot;</span><span class=nt>/&gt;</span>
<a id=__codelineno-3-16 name=__codelineno-3-16 href=#__codelineno-3-16></a><span class=w>            </span><span class=nt>&lt;/intent-filter&gt;</span>
<a id=__codelineno-3-17 name=__codelineno-3-17 href=#__codelineno-3-17></a><span class=w>        </span><span class=nt>&lt;/activity&gt;</span>
<a id=__codelineno-3-18 name=__codelineno-3-18 href=#__codelineno-3-18></a><span class=w>    </span><span class=nt>&lt;/application&gt;</span>
<a id=__codelineno-3-19 name=__codelineno-3-19 href=#__codelineno-3-19></a>
<a id=__codelineno-3-20 name=__codelineno-3-20 href=#__codelineno-3-20></a><span class=nt>&lt;/manifest&gt;</span>
</code></pre></div> <p>Para crear una actividad deberemos desarrollar una clase que extienda de la clase <code>Activity</code> y sobrescribir los métodos adecuados para personalizar su aspecto y funcionamiento.</p> <p>Hoy en día normalmente haremos que nuestra actividad extienda de la clase <code>AppCompatActivity</code>, proporcionada por la librería de soporte Android Support Library, que a su vez hereda de <code>Activity</code>.</p> <figure> <p><img alt="Diagrama de clases de AppCompatActivity" src=../res/esquema.svg> <figcaption>Figura 14 - Diagrama de clases de AppCompatActivity</figcaption></p> </figure> <p>Uno de los aspectos que deberemos indicar es la interfaz de usuario que debe mostrar la actividad. Dicha interfaz estará representada por un árbol de elementos conocidos como vistas (<em>views</em>). El árbol contendrá una vista raíz que a su vez podrá contener otras vistas en su interior y éstas otras en su interior y así sucesivamente.</p> <p>En el siguiente ejemplo vemos la definición de una actividad llamada <code>MainActivity</code> personalizada para que muestre como interfaz de usuario el árbol de vistas correspondiente a la especificación XML declarada en el archivo <code>res/layout/activity_main.xml</code>.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a><span class=kn>package</span><span class=w> </span><span class=nn>es.iessaladillo.pedrojoya.helloworld</span><span class=p>;</span>
<a id=__codelineno-4-2 name=__codelineno-4-2 href=#__codelineno-4-2></a>
<a id=__codelineno-4-3 name=__codelineno-4-3 href=#__codelineno-4-3></a><span class=kn>import</span><span class=w> </span><span class=nn>android.os.Bundle</span><span class=p>;</span>
<a id=__codelineno-4-4 name=__codelineno-4-4 href=#__codelineno-4-4></a><span class=kn>import</span><span class=w> </span><span class=nn>androidx.appcompat.app.AppCompatActivity</span><span class=p>;</span>
<a id=__codelineno-4-5 name=__codelineno-4-5 href=#__codelineno-4-5></a>
<a id=__codelineno-4-6 name=__codelineno-4-6 href=#__codelineno-4-6></a><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>MainActivity</span><span class=w> </span><span class=kd>extends</span><span class=w> </span><span class=n>AppCompatActivity</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-4-7 name=__codelineno-4-7 href=#__codelineno-4-7></a>
<a id=__codelineno-4-8 name=__codelineno-4-8 href=#__codelineno-4-8></a><span class=w>    </span><span class=nd>@Override</span>
<a id=__codelineno-4-9 name=__codelineno-4-9 href=#__codelineno-4-9></a><span class=w>    </span><span class=kd>protected</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>onCreate</span><span class=p>(</span><span class=n>Bundle</span><span class=w> </span><span class=n>savedInstanceState</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-4-10 name=__codelineno-4-10 href=#__codelineno-4-10></a><span class=w>        </span><span class=kd>super</span><span class=p>.</span><span class=na>onCreate</span><span class=p>(</span><span class=n>savedInstanceState</span><span class=p>);</span>
<a id=__codelineno-4-11 name=__codelineno-4-11 href=#__codelineno-4-11></a><span class=w>        </span><span class=n>setContentView</span><span class=p>(</span><span class=n>R</span><span class=p>.</span><span class=na>layout</span><span class=p>.</span><span class=na>activity_main</span><span class=p>);</span>
<a id=__codelineno-4-12 name=__codelineno-4-12 href=#__codelineno-4-12></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-4-13 name=__codelineno-4-13 href=#__codelineno-4-13></a>
<a id=__codelineno-4-14 name=__codelineno-4-14 href=#__codelineno-4-14></a><span class=p>}</span>
</code></pre></div> <p>Como vemos en el código anterior, sobrescribimos el método <code>onCreate()</code> de la clase <code>AppCompatActivity</code>. Este método es lo que se conoce tradicionalmente como un <em>hook method</em>, esto es, un método que es llamado internamente por el framework en algún momento de la creación de la actividad para que nosotros podamos personalizarla. En concreto el método <code>onCreate()</code> es llamado por el sistema justo después de crear el objeto actividad, pero antes de que sea mostrada por pantalla (hablaremos más sobre esto en el apartado sobre el ciclo de vida de las actividades).</p> <p>Dentro del método <code>onCreate()</code> llamamos al método <code>setContentView(layoutResId)</code>, heredado de <code>Activity</code>, que recibe el <em>resId</em> de la especificación XML de layout que representa la interfaz de usuario. Este método es el encargado de realizar un proceso de generación del árbol de vistas de la interfaz a partir de lo indicado en la especificación, a lo que se conoce como inflado (<em>inflate</em>) y de establecer el elemento raíz del árbol resultante como vista principal de la actividad.</p> <p>El método <code>setContentView(view)</code> está sobrecargado para recibir directamente la vista correspondiente al elemento raíz del árbol de vistas de la interfaz de usuario, en cuyo caso deberemos haber inflado previamente la especificación XML obteniendo dicha vista.</p> <h2 id=especificacion-xml-de-layout>Especificación XML de layout<a class=headerlink href=#especificacion-xml-de-layout title="Permanent link">&para;</a></h2> <p>Como hemos visto en el código anterior, debemos indicar a la actividad la vista que debe mostrar como interfaz de usuario. Una primera opción sería usar código Java o Kotlin para crear en tiempo de ejecución instancias de las clases correspondientes a los elementos de la interfaz (vistas) y usarlos desde código. Sin embargo esta opción resultaría enormemente tediosa en cuanto la interfaz de usuario fuera un poco compleja.</p> <p>Para facilitarnos la tarea de la definición e la interfaz de usuario de una actividad, Android nos permite definir lo que se conoce como <em>layouts</em>.</p> <div class="admonition note"> <p class=admonition-title>Layout</p> <p>Un <em>layout</em> (diseño, disposición de elementos) es un archivo XML en el que especificamos el árbol de vistas que debe contener nuestra interfaz de usuario juntos con las propiedades de cada una de ellas.</p> </div> <p>Este mecanismo tiene la ventaja de que permite separar, por un lado, el diseño de la interfaz (la capa de presentación) y, por otro, el código correspondiente a la implementación de la lógica de funcionamiento de la actividad, a diferencia del caso en que el diseño de la interfaz se realizara mediante código de programación, en cuyo caso estarían mezclados. De hecho, los archivos de <em>layout</em> codificados en XML son considerados recursos y, como tales, se ubicarán dentro de la carpeta <code>res</code> de nuestro proyecto, en concreto en la subcarpeta <code>res/layout</code>.</p> <p>El hecho de que la descripción de la interfaz de usuario sea externa al propio código de la aplicación, implica que se pueda modificar o adaptar la interfaz sin tener que necesariamente modificar y recompilar el código fuente de nuestra aplicación. Por ejemplo, podremos crear archivos XML de <em>layout</em> para diferentes orientaciones o para diferentes tamaños de pantalla. Por otro lado, la especificación de nuestra interfaz en XML permite visualizar su estructura de una manera mucho más sencilla, lo que redundará en una mayor facilidad a la hora de depurar posibles problemas.</p> <p>Un archivo de <em>layout</em> en XML es una especificación jerárquica con forma de árbol de etiquetas XML en el que se declaran los componentes de la interfaz, algunos de los cuales actúan como contenedores de otros componentes, existiendo siempre una vista (<em>view</em>) que actúa como raíz del árbol.</p> <div class="admonition warning"> <p class=admonition-title>Warning</p> <p>La especificación de <em>layout</em> debe contener un único elemento raíz, al tratarse de un árbol.</p> </div> <p>Los atributos de cada etiqueta en XML se llaman <strong>propiedades</strong> y describen cómo debe mostrarse y cómo debe comportarse el componente de la interfaz correspondiente a dicha etiqueta. Cada tipo de elemento tiene su propio conjunto de propiedades, algunas de las cuales serán obligatorias (tendremos que darles valor forzosamente) y otras optativas. Algunas propiedades existirán solamente para un tipo de elemento (vista) concreto y otras estarán disponibles para distintos tipos de elementos (vistas).</p> <p>En el siguiente ejemplo se define un elemento del tipo <code>TextView</code> que mostrará el texto <code>Hello World!</code> en negrita:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-5-1 name=__codelineno-5-1 href=#__codelineno-5-1></a><span class=nt>&lt;TextView</span>
<a id=__codelineno-5-2 name=__codelineno-5-2 href=#__codelineno-5-2></a><span class=w>    </span><span class=na>android:id=</span><span class=s>&quot;@+id/lblHello&quot;</span>
<a id=__codelineno-5-3 name=__codelineno-5-3 href=#__codelineno-5-3></a><span class=w>    </span><span class=na>android:layout_width=</span><span class=s>&quot;wrap_content&quot;</span>
<a id=__codelineno-5-4 name=__codelineno-5-4 href=#__codelineno-5-4></a><span class=w>    </span><span class=na>android:layout_height=</span><span class=s>&quot;wrap_content&quot;</span>
<a id=__codelineno-5-5 name=__codelineno-5-5 href=#__codelineno-5-5></a><span class=w>    </span><span class=na>android:text=</span><span class=s>&quot;Hello World!&quot;</span><span class=w> </span><span class=nt>/&gt;</span>
</code></pre></div> <p>En general, los términos que incluiremos en la declaración en XML de los elementos de la interfaz de usuario son iguales o parecidos a los nombres de las clases y de los métodos correspondientes, donde los nombres de las etiquetas XML corresponden a los nombres de las clases y los nombres de los atributos XML corresponden con métodos <em>get</em> y <em>set</em> de las clases (también llamados <em>getters</em> y <em>setters</em>). De hecho, la correspondencia es tal que a menudo podemos adivinar qué atributo XML corresponde a qué método de la clase y viceversa. Por ejemplo, la etiqueta <code>&lt;TextView&gt;</code> corresponde a la clase <code>TextView</code> y su atributo XML <code>text</code> corresponde al par de métodos <code>getText()</code> y <code>setText()</code>. En algunos casos, sin embargo hay pequeñas diferencias en los nombres.</p> <p>Veamos un ejemplo de especificación de <em>layout</em> definida en el archivo <code>res/layout/activity_main.xml</code>:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-6-1 name=__codelineno-6-1 href=#__codelineno-6-1></a><span class=cp>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span>
<a id=__codelineno-6-2 name=__codelineno-6-2 href=#__codelineno-6-2></a><span class=nt>&lt;LinearLayout</span><span class=w> </span><span class=na>xmlns:android=</span><span class=s>&quot;http://schemas.android.com/apk/res/android&quot;</span>
<a id=__codelineno-6-3 name=__codelineno-6-3 href=#__codelineno-6-3></a><span class=w>    </span><span class=na>android:id=</span><span class=s>&quot;@+id/llRoot&quot;</span>
<a id=__codelineno-6-4 name=__codelineno-6-4 href=#__codelineno-6-4></a><span class=w>    </span><span class=na>android:layout_width=</span><span class=s>&quot;match_parent&quot;</span>
<a id=__codelineno-6-5 name=__codelineno-6-5 href=#__codelineno-6-5></a><span class=w>    </span><span class=na>android:layout_height=</span><span class=s>&quot;match_parent&quot;</span>
<a id=__codelineno-6-6 name=__codelineno-6-6 href=#__codelineno-6-6></a><span class=w>    </span><span class=na>android:orientation=</span><span class=s>&quot;vertical&quot;</span><span class=w> </span><span class=nt>&gt;</span>
<a id=__codelineno-6-7 name=__codelineno-6-7 href=#__codelineno-6-7></a><span class=w>    </span><span class=nt>&lt;TextView</span>
<a id=__codelineno-6-8 name=__codelineno-6-8 href=#__codelineno-6-8></a><span class=w>        </span><span class=na>android:id=</span><span class=s>&quot;@+id/lblHello&quot;</span>
<a id=__codelineno-6-9 name=__codelineno-6-9 href=#__codelineno-6-9></a><span class=w>        </span><span class=na>android:layout_width=</span><span class=s>&quot;wrap_content&quot;</span>
<a id=__codelineno-6-10 name=__codelineno-6-10 href=#__codelineno-6-10></a><span class=w>        </span><span class=na>android:layout_height=</span><span class=s>&quot;wrap_content&quot;</span>
<a id=__codelineno-6-11 name=__codelineno-6-11 href=#__codelineno-6-11></a><span class=w>        </span><span class=na>android:text=</span><span class=s>&quot;Hello World!&quot;</span><span class=w> </span><span class=nt>/&gt;</span>
<a id=__codelineno-6-12 name=__codelineno-6-12 href=#__codelineno-6-12></a><span class=nt>&lt;/LinearLayout&gt;</span>
</code></pre></div> <p>Nuestra especificación de <em>layout</em> no deja de ser un fichero XML, lo que no es lo más conveniente para trabajar desde Java o Kotlin, por lo que en algún momento deberá generar el árbol de objetos vista a partir de dicha especificación XML. Por ejemplo, según la especificación anterior, se deberá crear un objeto de la clase <code>LinearLayout</code> que contenga en su interior un objeto de la clase <code>TextView</code>.</p> <div class="admonition note"> <p class=admonition-title>Inflater</p> <p>A la acción de obtener un árbol de objetos de programación a partir de una especificación XML se le conoce como inflar (<em>inflate</em>), y es realizado por un objeto especializada en ello, conocida como inflador (<em>inflater</em>).</p> </div> <p>En el caso de la interfaz de usuario, la generación del árbol de vistas a partir de la especificación XML de <em>layout</em>, se realiza a través de un objeto de la clase <code>LayoutInflater</code>.</p> <figure> <p><img alt=LayoutInflater src=../res/esquema2.svg> <figcaption>Figura 15 - LayoutInflater</figcaption></p> </figure> <p>Así, podríamos realizar el inflado obteniendo un objeto de la clase <code>LayoutInflater</code> y llamando a su método <code>inflate()</code>, la clase <code>Activity</code> nos proporciona una manera de hacerlo directamente, a través de su método <code>setContentView(resId)</code>, que recibe el <code>resId</code> del <em>layout</em> que queremos que sea inflado, de manera que la vista raíz resultante del inflado sea establecida como interfaz de usuario de la actividad.</p> </article> </div> </div> <a href=# class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg> Back to top </a> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../page-1/ class="md-footer__link md-footer__link--prev" aria-label="Previous: 1 Instalación del entorno de desarrollo" rel=prev> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </div> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Previous </span> 1 Instalación del entorno de desarrollo </div> </div> </a> <a href=../page-3/ class="md-footer__link md-footer__link--next" aria-label="Next: 3 View" rel=next> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Next </span> 3 View </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2023 - 2024 irubenboy </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://github.com/squidfunk target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </a> <a href=https://gitter.im/squidfunk/mkdocs-material target=_blank rel=noopener title=gitter.im class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 384 512"><!-- Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M66.4 322.5H16V0h50.4v322.5zM166.9 76.1h-50.4V512h50.4V76.1zm100.6 0h-50.4V512h50.4V76.1zM368 76h-50.4v247H368V76z"/></svg> </a> <a href=https://hub.docker.com/r/squidfunk/mkdocs-material/ target=_blank rel=noopener title=hub.docker.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 640 512"><!-- Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M349.9 236.3h-66.1v-59.4h66.1v59.4zm0-204.3h-66.1v60.7h66.1V32zm78.2 144.8H362v59.4h66.1v-59.4zm-156.3-72.1h-66.1v60.1h66.1v-60.1zm78.1 0h-66.1v60.1h66.1v-60.1zm276.8 100c-14.4-9.7-47.6-13.2-73.1-8.4-3.3-24-16.7-44.9-41.1-63.7l-14-9.3-9.3 14c-18.4 27.8-23.4 73.6-3.7 103.8-8.7 4.7-25.8 11.1-48.4 10.7H2.4c-8.7 50.8 5.8 116.8 44 162.1 37.1 43.9 92.7 66.2 165.4 66.2 157.4 0 273.9-72.5 328.4-204.2 21.4.4 67.6.1 91.3-45.2 1.5-2.5 6.6-13.2 8.5-17.1l-13.3-8.9zm-511.1-27.9h-66v59.4h66.1v-59.4zm78.1 0h-66.1v59.4h66.1v-59.4zm78.1 0h-66.1v59.4h66.1v-59.4zm-78.1-72.1h-66.1v60.1h66.1v-60.1z"/></svg> </a> <a href=https://pypi.org/project/mkdocs-material/ target=_blank rel=noopener title=pypi.org class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.8 200.5c-7.7-30.9-22.3-54.2-53.4-54.2h-40.1v47.4c0 36.8-31.2 67.8-66.8 67.8H172.7c-29.2 0-53.4 25-53.4 54.3v101.8c0 29 25.2 46 53.4 54.3 33.8 9.9 66.3 11.7 106.8 0 26.9-7.8 53.4-23.5 53.4-54.3v-40.7H226.2v-13.6h160.2c31.1 0 42.6-21.7 53.4-54.2 11.2-33.5 10.7-65.7 0-108.6zM286.2 404c11.1 0 20.1 9.1 20.1 20.3 0 11.3-9 20.4-20.1 20.4-11 0-20.1-9.2-20.1-20.4.1-11.3 9.1-20.3 20.1-20.3zM167.8 248.1h106.8c29.7 0 53.4-24.5 53.4-54.3V91.9c0-29-24.4-50.7-53.4-55.6-35.8-5.9-74.7-5.6-106.8.1-45.2 8-53.4 24.7-53.4 55.6v40.7h106.9v13.6h-147c-31.1 0-58.3 18.7-66.8 54.2-9.8 40.7-10.2 66.1 0 108.6 7.6 31.6 25.7 54.2 56.8 54.2H101v-48.8c0-35.3 30.5-66.4 66.8-66.4zm-6.7-142.6c-11.1 0-20.1-9.1-20.1-20.3.1-11.3 9-20.4 20.1-20.4 11 0 20.1 9.2 20.1 20.4s-9 20.3-20.1 20.3z"/></svg> </a> <a href=https://twitter.com/squidfunk target=_blank rel=noopener title=twitter.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../../..", "features": ["content.code.annotate", "content.code.copy", "content.tooltips", "navigation.footer", "navigation.tabs", "navigation.top", "navigation.tracking", "search.highlight", "search.share", "search.suggest", "toc.follow", "toc.integrate"], "search": "../../../assets/javascripts/workers/search.e5c33ebb.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script> <script src=../../../assets/javascripts/bundle.51d95adb.min.js></script> </body> </html>